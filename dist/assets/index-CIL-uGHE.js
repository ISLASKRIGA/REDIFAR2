(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ev(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var bm={exports:{}},Qo={},_m={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ci=Symbol.for("react.element"),tv=Symbol.for("react.portal"),nv=Symbol.for("react.fragment"),rv=Symbol.for("react.strict_mode"),sv=Symbol.for("react.profiler"),iv=Symbol.for("react.provider"),ov=Symbol.for("react.context"),av=Symbol.for("react.forward_ref"),lv=Symbol.for("react.suspense"),cv=Symbol.for("react.memo"),uv=Symbol.for("react.lazy"),bd=Symbol.iterator;function dv(e){return e===null||typeof e!="object"?null:(e=bd&&e[bd]||e["@@iterator"],typeof e=="function"?e:null)}var km={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sm=Object.assign,jm={};function zr(e,t,n){this.props=e,this.context=t,this.refs=jm,this.updater=n||km}zr.prototype.isReactComponent={};zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Nm(){}Nm.prototype=zr.prototype;function zc(e,t,n){this.props=e,this.context=t,this.refs=jm,this.updater=n||km}var Bc=zc.prototype=new Nm;Bc.constructor=zc;Sm(Bc,zr.prototype);Bc.isPureReactComponent=!0;var _d=Array.isArray,Tm=Object.prototype.hasOwnProperty,Wc={current:null},Cm={key:!0,ref:!0,__self:!0,__source:!0};function Em(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Tm.call(t,r)&&!Cm.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ci,type:e,key:i,ref:o,props:s,_owner:Wc.current}}function hv(e,t){return{$$typeof:ci,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ci}function fv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var kd=/\/+/g;function ja(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fv(""+e.key):t.toString(36)}function Xi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ci:case tv:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ja(o,0):r,_d(s)?(n="",e!=null&&(n=e.replace(kd,"$&/")+"/"),Xi(s,t,n,"",function(c){return c})):s!=null&&(Hc(s)&&(s=hv(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(kd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",_d(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+ja(i,a);o+=Xi(i,t,n,l,s)}else if(l=dv(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+ja(i,a++),o+=Xi(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ki(e,t,n){if(e==null)return e;var r=[],s=0;return Xi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function mv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},Yi={transition:null},pv={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:Yi,ReactCurrentOwner:Wc};function Pm(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:ki,forEach:function(e,t,n){ki(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ki(e,function(){t++}),t},toArray:function(e){return ki(e,function(t){return t})||[]},only:function(e){if(!Hc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=zr;W.Fragment=nv;W.Profiler=sv;W.PureComponent=zc;W.StrictMode=rv;W.Suspense=lv;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pv;W.act=Pm;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Sm({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Wc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Tm.call(t,l)&&!Cm.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ci,type:e.type,key:s,ref:i,props:r,_owner:o}};W.createContext=function(e){return e={$$typeof:ov,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:iv,_context:e},e.Consumer=e};W.createElement=Em;W.createFactory=function(e){var t=Em.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:av,render:e}};W.isValidElement=Hc;W.lazy=function(e){return{$$typeof:uv,_payload:{_status:-1,_result:e},_init:mv}};W.memo=function(e,t){return{$$typeof:cv,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=Yi.transition;Yi.transition={};try{e()}finally{Yi.transition=t}};W.unstable_act=Pm;W.useCallback=function(e,t){return ze.current.useCallback(e,t)};W.useContext=function(e){return ze.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};W.useEffect=function(e,t){return ze.current.useEffect(e,t)};W.useId=function(){return ze.current.useId()};W.useImperativeHandle=function(e,t,n){return ze.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return ze.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return ze.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return ze.current.useMemo(e,t)};W.useReducer=function(e,t,n){return ze.current.useReducer(e,t,n)};W.useRef=function(e){return ze.current.useRef(e)};W.useState=function(e){return ze.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return ze.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return ze.current.useTransition()};W.version="18.3.1";_m.exports=W;var k=_m.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv=k,yv=Symbol.for("react.element"),vv=Symbol.for("react.fragment"),xv=Object.prototype.hasOwnProperty,wv=gv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bv={key:!0,ref:!0,__self:!0,__source:!0};function Am(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)xv.call(t,r)&&!bv.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:yv,type:e,key:i,ref:o,props:s,_owner:wv.current}}Qo.Fragment=vv;Qo.jsx=Am;Qo.jsxs=Am;bm.exports=Qo;var u=bm.exports,Rm={exports:{}},nt={},Mm={exports:{}},Om={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,I){var D=C.length;C.push(I);e:for(;0<D;){var z=D-1>>>1,Y=C[z];if(0<s(Y,I))C[z]=I,C[D]=Y,D=z;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var I=C[0],D=C.pop();if(D!==I){C[0]=D;e:for(var z=0,Y=C.length,ae=Y>>>1;z<ae;){var se=2*(z+1)-1,Tt=C[se],st=se+1,te=C[st];if(0>s(Tt,D))st<Y&&0>s(te,Tt)?(C[z]=te,C[st]=D,z=st):(C[z]=Tt,C[se]=D,z=se);else if(st<Y&&0>s(te,D))C[z]=te,C[st]=D,z=st;else break e}}return I}function s(C,I){var D=C.sortIndex-I.sortIndex;return D!==0?D:C.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,g=!1,v=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(C){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=C)r(c),I.sortIndex=I.expirationTime,t(l,I);else break;I=n(c)}}function w(C){if(x=!1,p(C),!v)if(n(l)!==null)v=!0,Ce(_);else{var I=n(c);I!==null&&K(w,I.startTime-C)}}function _(C,I){v=!1,x&&(x=!1,y(b),b=-1),g=!0;var D=f;try{for(p(I),h=n(l);h!==null&&(!(h.expirationTime>I)||C&&!U());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var Y=z(h.expirationTime<=I);I=e.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(l)&&r(l),p(I)}else r(l);h=n(l)}if(h!==null)var ae=!0;else{var se=n(c);se!==null&&K(w,se.startTime-I),ae=!1}return ae}finally{h=null,f=D,g=!1}}var j=!1,N=null,b=-1,T=5,A=-1;function U(){return!(e.unstable_now()-A<T)}function X(){if(N!==null){var C=e.unstable_now();A=C;var I=!0;try{I=N(!0,C)}finally{I?he():(j=!1,N=null)}}else j=!1}var he;if(typeof m=="function")he=function(){m(X)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Se=pe.port2;pe.port1.onmessage=X,he=function(){Se.postMessage(null)}}else he=function(){S(X,0)};function Ce(C){N=C,j||(j=!0,he())}function K(C,I){b=S(function(){C(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,Ce(_))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(C){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var D=f;f=I;try{return C()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,I){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var D=f;f=C;try{return I()}finally{f=D}},e.unstable_scheduleCallback=function(C,I,D){var z=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?z+D:z):D=z,C){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=D+Y,C={id:d++,callback:I,priorityLevel:C,startTime:D,expirationTime:Y,sortIndex:-1},D>z?(C.sortIndex=D,t(c,C),n(l)===null&&C===n(c)&&(x?(y(b),b=-1):x=!0,K(w,D-z))):(C.sortIndex=Y,t(l,C),v||g||(v=!0,Ce(_))),C},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(C){var I=f;return function(){var D=f;f=I;try{return C.apply(this,arguments)}finally{f=D}}}})(Om);Mm.exports=Om;var _v=Mm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv=k,tt=_v;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lm=new Set,$s={};function Yn(e,t){Rr(e,t),Rr(e+"Capture",t)}function Rr(e,t){for($s[e]=t,e=0;e<t.length;e++)Lm.add(t[e])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xl=Object.prototype.hasOwnProperty,Sv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sd={},jd={};function jv(e){return xl.call(jd,e)?!0:xl.call(Sd,e)?!1:Sv.test(e)?jd[e]=!0:(Sd[e]=!0,!1)}function Nv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tv(e,t,n,r){if(t===null||typeof t>"u"||Nv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var qc=/[\-:]([a-z])/g;function Kc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qc,Kc);Re[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qc,Kc);Re[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qc,Kc);Re[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gc(e,t,n,r){var s=Re.hasOwnProperty(t)?Re[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tv(t,n,s,r)&&(n=null),r||s===null?jv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qt=kv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Si=Symbol.for("react.element"),cr=Symbol.for("react.portal"),ur=Symbol.for("react.fragment"),Jc=Symbol.for("react.strict_mode"),wl=Symbol.for("react.profiler"),Im=Symbol.for("react.provider"),Dm=Symbol.for("react.context"),Qc=Symbol.for("react.forward_ref"),bl=Symbol.for("react.suspense"),_l=Symbol.for("react.suspense_list"),Xc=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),$m=Symbol.for("react.offscreen"),Nd=Symbol.iterator;function es(e){return e===null||typeof e!="object"?null:(e=Nd&&e[Nd]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,Na;function ds(e){if(Na===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Na=t&&t[1]||""}return`
`+Na+e}var Ta=!1;function Ca(e,t){if(!e||Ta)return"";Ta=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ta=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ds(e):""}function Cv(e){switch(e.tag){case 5:return ds(e.type);case 16:return ds("Lazy");case 13:return ds("Suspense");case 19:return ds("SuspenseList");case 0:case 2:case 15:return e=Ca(e.type,!1),e;case 11:return e=Ca(e.type.render,!1),e;case 1:return e=Ca(e.type,!0),e;default:return""}}function kl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ur:return"Fragment";case cr:return"Portal";case wl:return"Profiler";case Jc:return"StrictMode";case bl:return"Suspense";case _l:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dm:return(e.displayName||"Context")+".Consumer";case Im:return(e._context.displayName||"Context")+".Provider";case Qc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xc:return t=e.displayName||null,t!==null?t:kl(e.type)||"Memo";case nn:t=e._payload,e=e._init;try{return kl(e(t))}catch{}}return null}function Ev(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kl(t);case 8:return t===Jc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pv(e){var t=Vm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ji(e){e._valueTracker||(e._valueTracker=Pv(e))}function Um(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function go(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sl(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Td(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fm(e,t){t=t.checked,t!=null&&Gc(e,"checked",t,!1)}function jl(e,t){Fm(e,t);var n=xn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Nl(e,t.type,xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Nl(e,t,n){(t!=="number"||go(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hs=Array.isArray;function Nr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Tl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ed(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(hs(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xn(n)}}function zm(e,t){var n=xn(t.value),r=xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Pd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ni,Wm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ni=Ni||document.createElement("div"),Ni.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ni.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Av=["Webkit","ms","Moz","O"];Object.keys(vs).forEach(function(e){Av.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vs[t]=vs[e]})});function Hm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vs.hasOwnProperty(e)&&vs[e]?(""+t).trim():t+"px"}function qm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Hm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Rv=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function El(e,t){if(t){if(Rv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Pl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Al=null;function Yc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rl=null,Tr=null,Cr=null;function Ad(e){if(e=hi(e)){if(typeof Rl!="function")throw Error(P(280));var t=e.stateNode;t&&(t=ta(t),Rl(e.stateNode,e.type,t))}}function Km(e){Tr?Cr?Cr.push(e):Cr=[e]:Tr=e}function Gm(){if(Tr){var e=Tr,t=Cr;if(Cr=Tr=null,Ad(e),t)for(e=0;e<t.length;e++)Ad(t[e])}}function Jm(e,t){return e(t)}function Qm(){}var Ea=!1;function Xm(e,t,n){if(Ea)return e(t,n);Ea=!0;try{return Jm(e,t,n)}finally{Ea=!1,(Tr!==null||Cr!==null)&&(Qm(),Gm())}}function Us(e,t){var n=e.stateNode;if(n===null)return null;var r=ta(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Ml=!1;if(Wt)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){Ml=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{Ml=!1}function Mv(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var xs=!1,yo=null,vo=!1,Ol=null,Ov={onError:function(e){xs=!0,yo=e}};function Lv(e,t,n,r,s,i,o,a,l){xs=!1,yo=null,Mv.apply(Ov,arguments)}function Iv(e,t,n,r,s,i,o,a,l){if(Lv.apply(this,arguments),xs){if(xs){var c=yo;xs=!1,yo=null}else throw Error(P(198));vo||(vo=!0,Ol=c)}}function Zn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ym(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rd(e){if(Zn(e)!==e)throw Error(P(188))}function Dv(e){var t=e.alternate;if(!t){if(t=Zn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Rd(s),e;if(i===r)return Rd(s),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Zm(e){return e=Dv(e),e!==null?ep(e):null}function ep(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ep(e);if(t!==null)return t;e=e.sibling}return null}var tp=tt.unstable_scheduleCallback,Md=tt.unstable_cancelCallback,$v=tt.unstable_shouldYield,Vv=tt.unstable_requestPaint,ye=tt.unstable_now,Uv=tt.unstable_getCurrentPriorityLevel,Zc=tt.unstable_ImmediatePriority,np=tt.unstable_UserBlockingPriority,xo=tt.unstable_NormalPriority,Fv=tt.unstable_LowPriority,rp=tt.unstable_IdlePriority,Xo=null,At=null;function zv(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Xo,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Hv,Bv=Math.log,Wv=Math.LN2;function Hv(e){return e>>>=0,e===0?32:31-(Bv(e)/Wv|0)|0}var Ti=64,Ci=4194304;function fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=fs(a):(i&=o,i!==0&&(r=fs(i)))}else o=n&~s,o!==0?r=fs(o):i!==0&&(r=fs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-kt(t),s=1<<n,r|=e[n],t&=~s;return r}function qv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-kt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=qv(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sp(){var e=Ti;return Ti<<=1,!(Ti&4194240)&&(Ti=64),e}function Pa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ui(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=n}function Gv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-kt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function eu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Q=0;function ip(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var op,tu,ap,lp,cp,Il=!1,Ei=[],dn=null,hn=null,fn=null,Fs=new Map,zs=new Map,on=[],Jv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Od(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":Fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(t.pointerId)}}function ns(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=hi(t),t!==null&&tu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Qv(e,t,n,r,s){switch(t){case"focusin":return dn=ns(dn,e,t,n,r,s),!0;case"dragenter":return hn=ns(hn,e,t,n,r,s),!0;case"mouseover":return fn=ns(fn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Fs.set(i,ns(Fs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,zs.set(i,ns(zs.get(i)||null,e,t,n,r,s)),!0}return!1}function up(e){var t=$n(e.target);if(t!==null){var n=Zn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ym(n),t!==null){e.blockedOn=t,cp(e.priority,function(){ap(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Al=r,n.target.dispatchEvent(r),Al=null}else return t=hi(n),t!==null&&tu(t),e.blockedOn=n,!1;t.shift()}return!0}function Ld(e,t,n){Zi(e)&&n.delete(t)}function Xv(){Il=!1,dn!==null&&Zi(dn)&&(dn=null),hn!==null&&Zi(hn)&&(hn=null),fn!==null&&Zi(fn)&&(fn=null),Fs.forEach(Ld),zs.forEach(Ld)}function rs(e,t){e.blockedOn===t&&(e.blockedOn=null,Il||(Il=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,Xv)))}function Bs(e){function t(s){return rs(s,e)}if(0<Ei.length){rs(Ei[0],e);for(var n=1;n<Ei.length;n++){var r=Ei[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dn!==null&&rs(dn,e),hn!==null&&rs(hn,e),fn!==null&&rs(fn,e),Fs.forEach(t),zs.forEach(t),n=0;n<on.length;n++)r=on[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<on.length&&(n=on[0],n.blockedOn===null);)up(n),n.blockedOn===null&&on.shift()}var Er=Qt.ReactCurrentBatchConfig,bo=!0;function Yv(e,t,n,r){var s=Q,i=Er.transition;Er.transition=null;try{Q=1,nu(e,t,n,r)}finally{Q=s,Er.transition=i}}function Zv(e,t,n,r){var s=Q,i=Er.transition;Er.transition=null;try{Q=4,nu(e,t,n,r)}finally{Q=s,Er.transition=i}}function nu(e,t,n,r){if(bo){var s=Dl(e,t,n,r);if(s===null)Ua(e,t,r,_o,n),Od(e,r);else if(Qv(s,e,t,n,r))r.stopPropagation();else if(Od(e,r),t&4&&-1<Jv.indexOf(e)){for(;s!==null;){var i=hi(s);if(i!==null&&op(i),i=Dl(e,t,n,r),i===null&&Ua(e,t,r,_o,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ua(e,t,r,null,n)}}var _o=null;function Dl(e,t,n,r){if(_o=null,e=Yc(r),e=$n(e),e!==null)if(t=Zn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ym(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _o=e,null}function dp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uv()){case Zc:return 1;case np:return 4;case xo:case Fv:return 16;case rp:return 536870912;default:return 16}default:return 16}}var cn=null,ru=null,eo=null;function hp(){if(eo)return eo;var e,t=ru,n=t.length,r,s="value"in cn?cn.value:cn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return eo=s.slice(e,1<r?1-r:void 0)}function to(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Id(){return!1}function rt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pi:Id,this.isPropagationStopped=Id,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),t}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},su=rt(Br),di=de({},Br,{view:0,detail:0}),ex=rt(di),Aa,Ra,ss,Yo=de({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ss&&(ss&&e.type==="mousemove"?(Aa=e.screenX-ss.screenX,Ra=e.screenY-ss.screenY):Ra=Aa=0,ss=e),Aa)},movementY:function(e){return"movementY"in e?e.movementY:Ra}}),Dd=rt(Yo),tx=de({},Yo,{dataTransfer:0}),nx=rt(tx),rx=de({},di,{relatedTarget:0}),Ma=rt(rx),sx=de({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),ix=rt(sx),ox=de({},Br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ax=rt(ox),lx=de({},Br,{data:0}),$d=rt(lx),cx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ux={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dx[e])?!!t[e]:!1}function iu(){return hx}var fx=de({},di,{key:function(e){if(e.key){var t=cx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=to(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ux[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(e){return e.type==="keypress"?to(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?to(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mx=rt(fx),px=de({},Yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vd=rt(px),gx=de({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),yx=rt(gx),vx=de({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),xx=rt(vx),wx=de({},Yo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bx=rt(wx),_x=[9,13,27,32],ou=Wt&&"CompositionEvent"in window,ws=null;Wt&&"documentMode"in document&&(ws=document.documentMode);var kx=Wt&&"TextEvent"in window&&!ws,fp=Wt&&(!ou||ws&&8<ws&&11>=ws),Ud=" ",Fd=!1;function mp(e,t){switch(e){case"keyup":return _x.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dr=!1;function Sx(e,t){switch(e){case"compositionend":return pp(t);case"keypress":return t.which!==32?null:(Fd=!0,Ud);case"textInput":return e=t.data,e===Ud&&Fd?null:e;default:return null}}function jx(e,t){if(dr)return e==="compositionend"||!ou&&mp(e,t)?(e=hp(),eo=ru=cn=null,dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fp&&t.locale!=="ko"?null:t.data;default:return null}}var Nx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nx[e.type]:t==="textarea"}function gp(e,t,n,r){Km(r),t=ko(t,"onChange"),0<t.length&&(n=new su("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bs=null,Ws=null;function Tx(e){Tp(e,0)}function Zo(e){var t=mr(e);if(Um(t))return e}function Cx(e,t){if(e==="change")return t}var yp=!1;if(Wt){var Oa;if(Wt){var La="oninput"in document;if(!La){var Bd=document.createElement("div");Bd.setAttribute("oninput","return;"),La=typeof Bd.oninput=="function"}Oa=La}else Oa=!1;yp=Oa&&(!document.documentMode||9<document.documentMode)}function Wd(){bs&&(bs.detachEvent("onpropertychange",vp),Ws=bs=null)}function vp(e){if(e.propertyName==="value"&&Zo(Ws)){var t=[];gp(t,Ws,e,Yc(e)),Xm(Tx,t)}}function Ex(e,t,n){e==="focusin"?(Wd(),bs=t,Ws=n,bs.attachEvent("onpropertychange",vp)):e==="focusout"&&Wd()}function Px(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zo(Ws)}function Ax(e,t){if(e==="click")return Zo(t)}function Rx(e,t){if(e==="input"||e==="change")return Zo(t)}function Mx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:Mx;function Hs(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!xl.call(t,s)||!jt(e[s],t[s]))return!1}return!0}function Hd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qd(e,t){var n=Hd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hd(n)}}function xp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wp(){for(var e=window,t=go();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=go(e.document)}return t}function au(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ox(e){var t=wp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xp(n.ownerDocument.documentElement,n)){if(r!==null&&au(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=qd(n,i);var o=qd(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lx=Wt&&"documentMode"in document&&11>=document.documentMode,hr=null,$l=null,_s=null,Vl=!1;function Kd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vl||hr==null||hr!==go(r)||(r=hr,"selectionStart"in r&&au(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_s&&Hs(_s,r)||(_s=r,r=ko($l,"onSelect"),0<r.length&&(t=new su("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function Ai(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionend:Ai("Transition","TransitionEnd")},Ia={},bp={};Wt&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function ea(e){if(Ia[e])return Ia[e];if(!fr[e])return e;var t=fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bp)return Ia[e]=t[n];return e}var _p=ea("animationend"),kp=ea("animationiteration"),Sp=ea("animationstart"),jp=ea("transitionend"),Np=new Map,Gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){Np.set(e,t),Yn(t,[e])}for(var Da=0;Da<Gd.length;Da++){var $a=Gd[Da],Ix=$a.toLowerCase(),Dx=$a[0].toUpperCase()+$a.slice(1);kn(Ix,"on"+Dx)}kn(_p,"onAnimationEnd");kn(kp,"onAnimationIteration");kn(Sp,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(jp,"onTransitionEnd");Rr("onMouseEnter",["mouseout","mouseover"]);Rr("onMouseLeave",["mouseout","mouseover"]);Rr("onPointerEnter",["pointerout","pointerover"]);Rr("onPointerLeave",["pointerout","pointerover"]);Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$x=new Set("cancel close invalid load scroll toggle".split(" ").concat(ms));function Jd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Iv(r,t,void 0,e),e.currentTarget=null}function Tp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Jd(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Jd(s,a,c),i=l}}}if(vo)throw e=Ol,vo=!1,Ol=null,e}function ne(e,t){var n=t[Wl];n===void 0&&(n=t[Wl]=new Set);var r=e+"__bubble";n.has(r)||(Cp(t,e,2,!1),n.add(r))}function Va(e,t,n){var r=0;t&&(r|=4),Cp(n,e,r,t)}var Ri="_reactListening"+Math.random().toString(36).slice(2);function qs(e){if(!e[Ri]){e[Ri]=!0,Lm.forEach(function(n){n!=="selectionchange"&&($x.has(n)||Va(n,!1,e),Va(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ri]||(t[Ri]=!0,Va("selectionchange",!1,t))}}function Cp(e,t,n,r){switch(dp(t)){case 1:var s=Yv;break;case 4:s=Zv;break;default:s=nu}n=s.bind(null,t,n,e),s=void 0,!Ml||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ua(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=$n(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Xm(function(){var c=i,d=Yc(n),h=[];e:{var f=Np.get(e);if(f!==void 0){var g=su,v=e;switch(e){case"keypress":if(to(n)===0)break e;case"keydown":case"keyup":g=mx;break;case"focusin":v="focus",g=Ma;break;case"focusout":v="blur",g=Ma;break;case"beforeblur":case"afterblur":g=Ma;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=nx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=yx;break;case _p:case kp:case Sp:g=ix;break;case jp:g=xx;break;case"scroll":g=ex;break;case"wheel":g=bx;break;case"copy":case"cut":case"paste":g=ax;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Vd}var x=(t&4)!==0,S=!x&&e==="scroll",y=x?f!==null?f+"Capture":null:f;x=[];for(var m=c,p;m!==null;){p=m;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,y!==null&&(w=Us(m,y),w!=null&&x.push(Ks(m,w,p)))),S)break;m=m.return}0<x.length&&(f=new g(f,v,null,n,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==Al&&(v=n.relatedTarget||n.fromElement)&&($n(v)||v[Ht]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?$n(v):null,v!==null&&(S=Zn(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(x=Dd,w="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=Vd,w="onPointerLeave",y="onPointerEnter",m="pointer"),S=g==null?f:mr(g),p=v==null?f:mr(v),f=new x(w,m+"leave",g,n,d),f.target=S,f.relatedTarget=p,w=null,$n(d)===c&&(x=new x(y,m+"enter",v,n,d),x.target=p,x.relatedTarget=S,w=x),S=w,g&&v)t:{for(x=g,y=v,m=0,p=x;p;p=nr(p))m++;for(p=0,w=y;w;w=nr(w))p++;for(;0<m-p;)x=nr(x),m--;for(;0<p-m;)y=nr(y),p--;for(;m--;){if(x===y||y!==null&&x===y.alternate)break t;x=nr(x),y=nr(y)}x=null}else x=null;g!==null&&Qd(h,f,g,x,!1),v!==null&&S!==null&&Qd(h,S,v,x,!0)}}e:{if(f=c?mr(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var _=Cx;else if(zd(f))if(yp)_=Rx;else{_=Px;var j=Ex}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Ax);if(_&&(_=_(e,c))){gp(h,_,n,d);break e}j&&j(e,f,c),e==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&Nl(f,"number",f.value)}switch(j=c?mr(c):window,e){case"focusin":(zd(j)||j.contentEditable==="true")&&(hr=j,$l=c,_s=null);break;case"focusout":_s=$l=hr=null;break;case"mousedown":Vl=!0;break;case"contextmenu":case"mouseup":case"dragend":Vl=!1,Kd(h,n,d);break;case"selectionchange":if(Lx)break;case"keydown":case"keyup":Kd(h,n,d)}var N;if(ou)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else dr?mp(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(fp&&n.locale!=="ko"&&(dr||b!=="onCompositionStart"?b==="onCompositionEnd"&&dr&&(N=hp()):(cn=d,ru="value"in cn?cn.value:cn.textContent,dr=!0)),j=ko(c,b),0<j.length&&(b=new $d(b,e,null,n,d),h.push({event:b,listeners:j}),N?b.data=N:(N=pp(n),N!==null&&(b.data=N)))),(N=kx?Sx(e,n):jx(e,n))&&(c=ko(c,"onBeforeInput"),0<c.length&&(d=new $d("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=N))}Tp(h,t)})}function Ks(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ko(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Us(e,n),i!=null&&r.unshift(Ks(e,i,s)),i=Us(e,t),i!=null&&r.push(Ks(e,i,s))),e=e.return}return r}function nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qd(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Us(n,i),l!=null&&o.unshift(Ks(n,l,a))):s||(l=Us(n,i),l!=null&&o.push(Ks(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Vx=/\r\n?/g,Ux=/\u0000|\uFFFD/g;function Xd(e){return(typeof e=="string"?e:""+e).replace(Vx,`
`).replace(Ux,"")}function Mi(e,t,n){if(t=Xd(t),Xd(e)!==t&&n)throw Error(P(425))}function So(){}var Ul=null,Fl=null;function zl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bl=typeof setTimeout=="function"?setTimeout:void 0,Fx=typeof clearTimeout=="function"?clearTimeout:void 0,Yd=typeof Promise=="function"?Promise:void 0,zx=typeof queueMicrotask=="function"?queueMicrotask:typeof Yd<"u"?function(e){return Yd.resolve(null).then(e).catch(Bx)}:Bl;function Bx(e){setTimeout(function(){throw e})}function Fa(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Bs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Bs(t)}function mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Wr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Wr,Gs="__reactProps$"+Wr,Ht="__reactContainer$"+Wr,Wl="__reactEvents$"+Wr,Wx="__reactListeners$"+Wr,Hx="__reactHandles$"+Wr;function $n(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ht]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zd(e);e!==null;){if(n=e[Pt])return n;e=Zd(e)}return t}e=n,n=e.parentNode}return null}function hi(e){return e=e[Pt]||e[Ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function ta(e){return e[Gs]||null}var Hl=[],pr=-1;function Sn(e){return{current:e}}function re(e){0>pr||(e.current=Hl[pr],Hl[pr]=null,pr--)}function ee(e,t){pr++,Hl[pr]=e.current,e.current=t}var wn={},$e=Sn(wn),Je=Sn(!1),Kn=wn;function Mr(e,t){var n=e.type.contextTypes;if(!n)return wn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Qe(e){return e=e.childContextTypes,e!=null}function jo(){re(Je),re($e)}function eh(e,t,n){if($e.current!==wn)throw Error(P(168));ee($e,t),ee(Je,n)}function Ep(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(P(108,Ev(e)||"Unknown",s));return de({},n,r)}function No(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wn,Kn=$e.current,ee($e,e),ee(Je,Je.current),!0}function th(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Ep(e,t,Kn),r.__reactInternalMemoizedMergedChildContext=e,re(Je),re($e),ee($e,e)):re(Je),ee(Je,n)}var Ut=null,na=!1,za=!1;function Pp(e){Ut===null?Ut=[e]:Ut.push(e)}function qx(e){na=!0,Pp(e)}function jn(){if(!za&&Ut!==null){za=!0;var e=0,t=Q;try{var n=Ut;for(Q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ut=null,na=!1}catch(s){throw Ut!==null&&(Ut=Ut.slice(e+1)),tp(Zc,jn),s}finally{Q=t,za=!1}}return null}var gr=[],yr=0,To=null,Co=0,at=[],lt=0,Gn=null,Ft=1,zt="";function Mn(e,t){gr[yr++]=Co,gr[yr++]=To,To=e,Co=t}function Ap(e,t,n){at[lt++]=Ft,at[lt++]=zt,at[lt++]=Gn,Gn=e;var r=Ft;e=zt;var s=32-kt(r)-1;r&=~(1<<s),n+=1;var i=32-kt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ft=1<<32-kt(t)+s|n<<s|r,zt=i+e}else Ft=1<<i|n<<s|r,zt=e}function lu(e){e.return!==null&&(Mn(e,1),Ap(e,1,0))}function cu(e){for(;e===To;)To=gr[--yr],gr[yr]=null,Co=gr[--yr],gr[yr]=null;for(;e===Gn;)Gn=at[--lt],at[lt]=null,zt=at[--lt],at[lt]=null,Ft=at[--lt],at[lt]=null}var et=null,Ze=null,ie=!1,_t=null;function Rp(e,t){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function nh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,et=e,Ze=mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,et=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gn!==null?{id:Ft,overflow:zt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,et=e,Ze=null,!0):!1;default:return!1}}function ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kl(e){if(ie){var t=Ze;if(t){var n=t;if(!nh(e,t)){if(ql(e))throw Error(P(418));t=mn(n.nextSibling);var r=et;t&&nh(e,t)?Rp(r,n):(e.flags=e.flags&-4097|2,ie=!1,et=e)}}else{if(ql(e))throw Error(P(418));e.flags=e.flags&-4097|2,ie=!1,et=e}}}function rh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function Oi(e){if(e!==et)return!1;if(!ie)return rh(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zl(e.type,e.memoizedProps)),t&&(t=Ze)){if(ql(e))throw Mp(),Error(P(418));for(;t;)Rp(e,t),t=mn(t.nextSibling)}if(rh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=et?mn(e.stateNode.nextSibling):null;return!0}function Mp(){for(var e=Ze;e;)e=mn(e.nextSibling)}function Or(){Ze=et=null,ie=!1}function uu(e){_t===null?_t=[e]:_t.push(e)}var Kx=Qt.ReactCurrentBatchConfig;function is(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Li(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sh(e){var t=e._init;return t(e._payload)}function Op(e){function t(y,m){if(e){var p=y.deletions;p===null?(y.deletions=[m],y.flags|=16):p.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=vn(y,m),y.index=0,y.sibling=null,y}function i(y,m,p){return y.index=p,e?(p=y.alternate,p!==null?(p=p.index,p<m?(y.flags|=2,m):p):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,m,p,w){return m===null||m.tag!==6?(m=Ja(p,y.mode,w),m.return=y,m):(m=s(m,p),m.return=y,m)}function l(y,m,p,w){var _=p.type;return _===ur?d(y,m,p.props.children,w,p.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===nn&&sh(_)===m.type)?(w=s(m,p.props),w.ref=is(y,m,p),w.return=y,w):(w=lo(p.type,p.key,p.props,null,y.mode,w),w.ref=is(y,m,p),w.return=y,w)}function c(y,m,p,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=Qa(p,y.mode,w),m.return=y,m):(m=s(m,p.children||[]),m.return=y,m)}function d(y,m,p,w,_){return m===null||m.tag!==7?(m=Wn(p,y.mode,w,_),m.return=y,m):(m=s(m,p),m.return=y,m)}function h(y,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ja(""+m,y.mode,p),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Si:return p=lo(m.type,m.key,m.props,null,y.mode,p),p.ref=is(y,null,m),p.return=y,p;case cr:return m=Qa(m,y.mode,p),m.return=y,m;case nn:var w=m._init;return h(y,w(m._payload),p)}if(hs(m)||es(m))return m=Wn(m,y.mode,p,null),m.return=y,m;Li(y,m)}return null}function f(y,m,p,w){var _=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return _!==null?null:a(y,m,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Si:return p.key===_?l(y,m,p,w):null;case cr:return p.key===_?c(y,m,p,w):null;case nn:return _=p._init,f(y,m,_(p._payload),w)}if(hs(p)||es(p))return _!==null?null:d(y,m,p,w,null);Li(y,p)}return null}function g(y,m,p,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(p)||null,a(m,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Si:return y=y.get(w.key===null?p:w.key)||null,l(m,y,w,_);case cr:return y=y.get(w.key===null?p:w.key)||null,c(m,y,w,_);case nn:var j=w._init;return g(y,m,p,j(w._payload),_)}if(hs(w)||es(w))return y=y.get(p)||null,d(m,y,w,_,null);Li(m,w)}return null}function v(y,m,p,w){for(var _=null,j=null,N=m,b=m=0,T=null;N!==null&&b<p.length;b++){N.index>b?(T=N,N=null):T=N.sibling;var A=f(y,N,p[b],w);if(A===null){N===null&&(N=T);break}e&&N&&A.alternate===null&&t(y,N),m=i(A,m,b),j===null?_=A:j.sibling=A,j=A,N=T}if(b===p.length)return n(y,N),ie&&Mn(y,b),_;if(N===null){for(;b<p.length;b++)N=h(y,p[b],w),N!==null&&(m=i(N,m,b),j===null?_=N:j.sibling=N,j=N);return ie&&Mn(y,b),_}for(N=r(y,N);b<p.length;b++)T=g(N,y,b,p[b],w),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?b:T.key),m=i(T,m,b),j===null?_=T:j.sibling=T,j=T);return e&&N.forEach(function(U){return t(y,U)}),ie&&Mn(y,b),_}function x(y,m,p,w){var _=es(p);if(typeof _!="function")throw Error(P(150));if(p=_.call(p),p==null)throw Error(P(151));for(var j=_=null,N=m,b=m=0,T=null,A=p.next();N!==null&&!A.done;b++,A=p.next()){N.index>b?(T=N,N=null):T=N.sibling;var U=f(y,N,A.value,w);if(U===null){N===null&&(N=T);break}e&&N&&U.alternate===null&&t(y,N),m=i(U,m,b),j===null?_=U:j.sibling=U,j=U,N=T}if(A.done)return n(y,N),ie&&Mn(y,b),_;if(N===null){for(;!A.done;b++,A=p.next())A=h(y,A.value,w),A!==null&&(m=i(A,m,b),j===null?_=A:j.sibling=A,j=A);return ie&&Mn(y,b),_}for(N=r(y,N);!A.done;b++,A=p.next())A=g(N,y,b,A.value,w),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?b:A.key),m=i(A,m,b),j===null?_=A:j.sibling=A,j=A);return e&&N.forEach(function(X){return t(y,X)}),ie&&Mn(y,b),_}function S(y,m,p,w){if(typeof p=="object"&&p!==null&&p.type===ur&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Si:e:{for(var _=p.key,j=m;j!==null;){if(j.key===_){if(_=p.type,_===ur){if(j.tag===7){n(y,j.sibling),m=s(j,p.props.children),m.return=y,y=m;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===nn&&sh(_)===j.type){n(y,j.sibling),m=s(j,p.props),m.ref=is(y,j,p),m.return=y,y=m;break e}n(y,j);break}else t(y,j);j=j.sibling}p.type===ur?(m=Wn(p.props.children,y.mode,w,p.key),m.return=y,y=m):(w=lo(p.type,p.key,p.props,null,y.mode,w),w.ref=is(y,m,p),w.return=y,y=w)}return o(y);case cr:e:{for(j=p.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(y,m.sibling),m=s(m,p.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else t(y,m);m=m.sibling}m=Qa(p,y.mode,w),m.return=y,y=m}return o(y);case nn:return j=p._init,S(y,m,j(p._payload),w)}if(hs(p))return v(y,m,p,w);if(es(p))return x(y,m,p,w);Li(y,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,p),m.return=y,y=m):(n(y,m),m=Ja(p,y.mode,w),m.return=y,y=m),o(y)):n(y,m)}return S}var Lr=Op(!0),Lp=Op(!1),Eo=Sn(null),Po=null,vr=null,du=null;function hu(){du=vr=Po=null}function fu(e){var t=Eo.current;re(Eo),e._currentValue=t}function Gl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pr(e,t){Po=e,du=vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ke=!0),e.firstContext=null)}function ft(e){var t=e._currentValue;if(du!==e)if(e={context:e,memoizedValue:t,next:null},vr===null){if(Po===null)throw Error(P(308));vr=e,Po.dependencies={lanes:0,firstContext:e}}else vr=vr.next=e;return t}var Vn=null;function mu(e){Vn===null?Vn=[e]:Vn.push(e)}function Ip(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,mu(t)):(n.next=s.next,s.next=n),t.interleaved=n,qt(e,r)}function qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rn=!1;function pu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,qt(e,n)}return s=r.interleaved,s===null?(t.next=t,mu(r)):(t.next=s.next,s.next=t),r.interleaved=t,qt(e,n)}function no(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eu(e,n)}}function ih(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ao(e,t,n,r){var s=e.updateQueue;rn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,x=a;switch(f=t,g=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(g,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(g,h,f):v,f==null)break e;h=de({},h,f);break e;case 2:rn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Qn|=o,e.lanes=o,e.memoizedState=h}}function oh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var fi={},Rt=Sn(fi),Js=Sn(fi),Qs=Sn(fi);function Un(e){if(e===fi)throw Error(P(174));return e}function gu(e,t){switch(ee(Qs,t),ee(Js,e),ee(Rt,fi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cl(t,e)}re(Rt),ee(Rt,t)}function Ir(){re(Rt),re(Js),re(Qs)}function $p(e){Un(Qs.current);var t=Un(Rt.current),n=Cl(t,e.type);t!==n&&(ee(Js,e),ee(Rt,n))}function yu(e){Js.current===e&&(re(Rt),re(Js))}var le=Sn(0);function Ro(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ba=[];function vu(){for(var e=0;e<Ba.length;e++)Ba[e]._workInProgressVersionPrimary=null;Ba.length=0}var ro=Qt.ReactCurrentDispatcher,Wa=Qt.ReactCurrentBatchConfig,Jn=0,ue=null,_e=null,Ne=null,Mo=!1,ks=!1,Xs=0,Gx=0;function Me(){throw Error(P(321))}function xu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function wu(e,t,n,r,s,i){if(Jn=i,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=e===null||e.memoizedState===null?Yx:Zx,e=n(r,s),ks){i=0;do{if(ks=!1,Xs=0,25<=i)throw Error(P(301));i+=1,Ne=_e=null,t.updateQueue=null,ro.current=ew,e=n(r,s)}while(ks)}if(ro.current=Oo,t=_e!==null&&_e.next!==null,Jn=0,Ne=_e=ue=null,Mo=!1,t)throw Error(P(300));return e}function bu(){var e=Xs!==0;return Xs=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?ue.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function mt(){if(_e===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Ne===null?ue.memoizedState:Ne.next;if(t!==null)Ne=t,_e=e;else{if(e===null)throw Error(P(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Ne===null?ue.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Ys(e,t){return typeof t=="function"?t(e):t}function Ha(e){var t=mt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=_e,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Jn&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ue.lanes|=d,Qn|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,jt(r,t.memoizedState)||(Ke=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ue.lanes|=i,Qn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qa(e){var t=mt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);jt(i,t.memoizedState)||(Ke=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Vp(){}function Up(e,t){var n=ue,r=mt(),s=t(),i=!jt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ke=!0),r=r.queue,_u(Bp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,Zs(9,zp.bind(null,n,r,s,t),void 0,null),Te===null)throw Error(P(349));Jn&30||Fp(n,t,s)}return s}function Fp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zp(e,t,n,r){t.value=n,t.getSnapshot=r,Wp(t)&&Hp(e)}function Bp(e,t,n){return n(function(){Wp(t)&&Hp(e)})}function Wp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function Hp(e){var t=qt(e,1);t!==null&&St(t,e,1,-1)}function ah(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:e},t.queue=e,e=e.dispatch=Xx.bind(null,ue,e),[t.memoizedState,e]}function Zs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function qp(){return mt().memoizedState}function so(e,t,n,r){var s=Et();ue.flags|=e,s.memoizedState=Zs(1|t,n,void 0,r===void 0?null:r)}function ra(e,t,n,r){var s=mt();r=r===void 0?null:r;var i=void 0;if(_e!==null){var o=_e.memoizedState;if(i=o.destroy,r!==null&&xu(r,o.deps)){s.memoizedState=Zs(t,n,i,r);return}}ue.flags|=e,s.memoizedState=Zs(1|t,n,i,r)}function lh(e,t){return so(8390656,8,e,t)}function _u(e,t){return ra(2048,8,e,t)}function Kp(e,t){return ra(4,2,e,t)}function Gp(e,t){return ra(4,4,e,t)}function Jp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qp(e,t,n){return n=n!=null?n.concat([e]):null,ra(4,4,Jp.bind(null,t,e),n)}function ku(){}function Xp(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yp(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zp(e,t,n){return Jn&21?(jt(n,t)||(n=sp(),ue.lanes|=n,Qn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=n)}function Jx(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var r=Wa.transition;Wa.transition={};try{e(!1),t()}finally{Q=n,Wa.transition=r}}function eg(){return mt().memoizedState}function Qx(e,t,n){var r=yn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tg(e))ng(t,n);else if(n=Ip(e,t,n,r),n!==null){var s=Fe();St(n,e,r,s),rg(n,t,r)}}function Xx(e,t,n){var r=yn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tg(e))ng(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,jt(a,o)){var l=t.interleaved;l===null?(s.next=s,mu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Ip(e,t,s,r),n!==null&&(s=Fe(),St(n,e,r,s),rg(n,t,r))}}function tg(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function ng(e,t){ks=Mo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eu(e,n)}}var Oo={readContext:ft,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},Yx={readContext:ft,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:lh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,so(4194308,4,Jp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return so(4194308,4,e,t)},useInsertionEffect:function(e,t){return so(4,2,e,t)},useMemo:function(e,t){var n=Et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Et();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qx.bind(null,ue,e),[r.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:ah,useDebugValue:ku,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=ah(!1),t=e[0];return e=Jx.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ue,s=Et();if(ie){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Te===null)throw Error(P(349));Jn&30||Fp(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,lh(Bp.bind(null,r,i,e),[e]),r.flags|=2048,Zs(9,zp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Et(),t=Te.identifierPrefix;if(ie){var n=zt,r=Ft;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Gx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zx={readContext:ft,useCallback:Xp,useContext:ft,useEffect:_u,useImperativeHandle:Qp,useInsertionEffect:Kp,useLayoutEffect:Gp,useMemo:Yp,useReducer:Ha,useRef:qp,useState:function(){return Ha(Ys)},useDebugValue:ku,useDeferredValue:function(e){var t=mt();return Zp(t,_e.memoizedState,e)},useTransition:function(){var e=Ha(Ys)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Vp,useSyncExternalStore:Up,useId:eg,unstable_isNewReconciler:!1},ew={readContext:ft,useCallback:Xp,useContext:ft,useEffect:_u,useImperativeHandle:Qp,useInsertionEffect:Kp,useLayoutEffect:Gp,useMemo:Yp,useReducer:qa,useRef:qp,useState:function(){return qa(Ys)},useDebugValue:ku,useDeferredValue:function(e){var t=mt();return _e===null?t.memoizedState=e:Zp(t,_e.memoizedState,e)},useTransition:function(){var e=qa(Ys)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Vp,useSyncExternalStore:Up,useId:eg,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Jl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return(e=e._reactInternals)?Zn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fe(),s=yn(e),i=Bt(r,s);i.payload=t,n!=null&&(i.callback=n),t=pn(e,i,s),t!==null&&(St(t,e,s,r),no(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fe(),s=yn(e),i=Bt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=pn(e,i,s),t!==null&&(St(t,e,s,r),no(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fe(),r=yn(e),s=Bt(n,r);s.tag=2,t!=null&&(s.callback=t),t=pn(e,s,r),t!==null&&(St(t,e,r,n),no(t,e,r))}};function ch(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Hs(n,r)||!Hs(s,i):!0}function sg(e,t,n){var r=!1,s=wn,i=t.contextType;return typeof i=="object"&&i!==null?i=ft(i):(s=Qe(t)?Kn:$e.current,r=t.contextTypes,i=(r=r!=null)?Mr(e,s):wn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function uh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function Ql(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},pu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ft(i):(i=Qe(t)?Kn:$e.current,s.context=Mr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Jl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&sa.enqueueReplaceState(s,s.state,null),Ao(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Dr(e,t){try{var n="",r=t;do n+=Cv(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ka(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var tw=typeof WeakMap=="function"?WeakMap:Map;function ig(e,t,n){n=Bt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Io||(Io=!0,ac=r),Xl(e,t)},n}function og(e,t,n){n=Bt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Xl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xl(e,t),typeof r!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function dh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new tw;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=pw.bind(null,e,t,n),t.then(e,e))}function hh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bt(-1,1),t.tag=2,pn(n,t,1))),n.lanes|=1),e)}var nw=Qt.ReactCurrentOwner,Ke=!1;function Ve(e,t,n,r){t.child=e===null?Lp(t,null,n,r):Lr(t,e.child,n,r)}function mh(e,t,n,r,s){n=n.render;var i=t.ref;return Pr(t,s),r=wu(e,t,n,r,i,s),n=bu(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kt(e,t,s)):(ie&&n&&lu(t),t.flags|=1,Ve(e,t,r,s),t.child)}function ph(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Au(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ag(e,t,i,r,s)):(e=lo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Hs,n(o,r)&&e.ref===t.ref)return Kt(e,t,s)}return t.flags|=1,e=vn(i,r),e.ref=t.ref,e.return=t,t.child=e}function ag(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Hs(i,r)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,Kt(e,t,s)}return Yl(e,t,n,r,s)}function lg(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(wr,Ye),Ye|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(wr,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ee(wr,Ye),Ye|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ee(wr,Ye),Ye|=r;return Ve(e,t,s,n),t.child}function cg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yl(e,t,n,r,s){var i=Qe(n)?Kn:$e.current;return i=Mr(t,i),Pr(t,s),n=wu(e,t,n,r,i,s),r=bu(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kt(e,t,s)):(ie&&r&&lu(t),t.flags|=1,Ve(e,t,n,s),t.child)}function gh(e,t,n,r,s){if(Qe(n)){var i=!0;No(t)}else i=!1;if(Pr(t,s),t.stateNode===null)io(e,t),sg(t,n,r),Ql(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ft(c):(c=Qe(n)?Kn:$e.current,c=Mr(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&uh(t,o,r,c),rn=!1;var f=t.memoizedState;o.state=f,Ao(t,r,o,s),l=t.memoizedState,a!==r||f!==l||Je.current||rn?(typeof d=="function"&&(Jl(t,n,d,r),l=t.memoizedState),(a=rn||ch(t,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Dp(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:xt(t.type,a),o.props=c,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ft(l):(l=Qe(n)?Kn:$e.current,l=Mr(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&uh(t,o,r,l),rn=!1,f=t.memoizedState,o.state=f,Ao(t,r,o,s);var v=t.memoizedState;a!==h||f!==v||Je.current||rn?(typeof g=="function"&&(Jl(t,n,g,r),v=t.memoizedState),(c=rn||ch(t,n,c,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Zl(e,t,n,r,i,s)}function Zl(e,t,n,r,s,i){cg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&th(t,n,!1),Kt(e,t,i);r=t.stateNode,nw.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Lr(t,e.child,null,i),t.child=Lr(t,null,a,i)):Ve(e,t,a,i),t.memoizedState=r.state,s&&th(t,n,!0),t.child}function ug(e){var t=e.stateNode;t.pendingContext?eh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eh(e,t.context,!1),gu(e,t.containerInfo)}function yh(e,t,n,r,s){return Or(),uu(s),t.flags|=256,Ve(e,t,n,r),t.child}var ec={dehydrated:null,treeContext:null,retryLane:0};function tc(e){return{baseLanes:e,cachePool:null,transitions:null}}function dg(e,t,n){var r=t.pendingProps,s=le.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ee(le,s&1),e===null)return Kl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=aa(o,r,0,null),e=Wn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=tc(n),t.memoizedState=ec,e):Su(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return rw(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=vn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=vn(a,i):(i=Wn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?tc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ec,r}return i=e.child,e=i.sibling,r=vn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Su(e,t){return t=aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ii(e,t,n,r){return r!==null&&uu(r),Lr(t,e.child,null,n),e=Su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rw(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ka(Error(P(422))),Ii(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=aa({mode:"visible",children:r.children},s,0,null),i=Wn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Lr(t,e.child,null,o),t.child.memoizedState=tc(o),t.memoizedState=ec,i);if(!(t.mode&1))return Ii(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(P(419)),r=Ka(i,r,void 0),Ii(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ke||a){if(r=Te,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,qt(e,s),St(r,e,s,-1))}return Pu(),r=Ka(Error(P(421))),Ii(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=gw.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ze=mn(s.nextSibling),et=t,ie=!0,_t=null,e!==null&&(at[lt++]=Ft,at[lt++]=zt,at[lt++]=Gn,Ft=e.id,zt=e.overflow,Gn=t),t=Su(t,r.children),t.flags|=4096,t)}function vh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Gl(e.return,t,n)}function Ga(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function hg(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ve(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vh(e,n,t);else if(e.tag===19)vh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ee(le,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ro(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ga(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ro(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ga(t,!0,n,null,i);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function io(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sw(e,t,n){switch(t.tag){case 3:ug(t),Or();break;case 5:$p(t);break;case 1:Qe(t.type)&&No(t);break;case 4:gu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ee(Eo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ee(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?dg(e,t,n):(ee(le,le.current&1),e=Kt(e,t,n),e!==null?e.sibling:null);ee(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return hg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ee(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,lg(e,t,n)}return Kt(e,t,n)}var fg,nc,mg,pg;fg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nc=function(){};mg=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Un(Rt.current);var i=null;switch(n){case"input":s=Sl(e,s),r=Sl(e,r),i=[];break;case"select":s=de({},s,{value:void 0}),r=de({},r,{value:void 0}),i=[];break;case"textarea":s=Tl(e,s),r=Tl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=So)}El(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($s.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($s.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ne("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};pg=function(e,t,n,r){n!==r&&(t.flags|=4)};function os(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function iw(e,t,n){var r=t.pendingProps;switch(cu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Qe(t.type)&&jo(),Oe(t),null;case 3:return r=t.stateNode,Ir(),re(Je),re($e),vu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Oi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_t!==null&&(uc(_t),_t=null))),nc(e,t),Oe(t),null;case 5:yu(t);var s=Un(Qs.current);if(n=t.type,e!==null&&t.stateNode!=null)mg(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Oe(t),null}if(e=Un(Rt.current),Oi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Pt]=t,r[Gs]=i,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(s=0;s<ms.length;s++)ne(ms[s],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":Td(r,i),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ne("invalid",r);break;case"textarea":Ed(r,i),ne("invalid",r)}El(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Mi(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Mi(r.textContent,a,e),s=["children",""+a]):$s.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ne("scroll",r)}switch(n){case"input":ji(r),Cd(r,i,!0);break;case"textarea":ji(r),Pd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=So)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Pt]=t,e[Gs]=r,fg(e,t,!1,!1),t.stateNode=e;e:{switch(o=Pl(n,r),n){case"dialog":ne("cancel",e),ne("close",e),s=r;break;case"iframe":case"object":case"embed":ne("load",e),s=r;break;case"video":case"audio":for(s=0;s<ms.length;s++)ne(ms[s],e);s=r;break;case"source":ne("error",e),s=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),s=r;break;case"details":ne("toggle",e),s=r;break;case"input":Td(e,r),s=Sl(e,r),ne("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=de({},r,{value:void 0}),ne("invalid",e);break;case"textarea":Ed(e,r),s=Tl(e,r),ne("invalid",e);break;default:s=r}El(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?qm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Wm(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vs(e,l):typeof l=="number"&&Vs(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($s.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ne("scroll",e):l!=null&&Gc(e,i,l,o))}switch(n){case"input":ji(e),Cd(e,r,!1);break;case"textarea":ji(e),Pd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Nr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Nr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=So)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)pg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=Un(Qs.current),Un(Rt.current),Oi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pt]=t,(i=r.nodeValue!==n)&&(e=et,e!==null))switch(e.tag){case 3:Mi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pt]=t,t.stateNode=r}return Oe(t),null;case 13:if(re(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&Ze!==null&&t.mode&1&&!(t.flags&128))Mp(),Or(),t.flags|=98560,i=!1;else if(i=Oi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Pt]=t}else Or(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),i=!1}else _t!==null&&(uc(_t),_t=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?ke===0&&(ke=3):Pu())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return Ir(),nc(e,t),e===null&&qs(t.stateNode.containerInfo),Oe(t),null;case 10:return fu(t.type._context),Oe(t),null;case 17:return Qe(t.type)&&jo(),Oe(t),null;case 19:if(re(le),i=t.memoizedState,i===null)return Oe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)os(i,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ro(e),o!==null){for(t.flags|=128,os(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(le,le.current&1|2),t.child}e=e.sibling}i.tail!==null&&ye()>$r&&(t.flags|=128,r=!0,os(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ro(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),os(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ie)return Oe(t),null}else 2*ye()-i.renderingStartTime>$r&&n!==1073741824&&(t.flags|=128,r=!0,os(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ye(),t.sibling=null,n=le.current,ee(le,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return Eu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ye&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function ow(e,t){switch(cu(t),t.tag){case 1:return Qe(t.type)&&jo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ir(),re(Je),re($e),vu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yu(t),null;case 13:if(re(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(le),null;case 4:return Ir(),null;case 10:return fu(t.type._context),null;case 22:case 23:return Eu(),null;case 24:return null;default:return null}}var Di=!1,Ie=!1,aw=typeof WeakSet=="function"?WeakSet:Set,R=null;function xr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(e,t,r)}else n.current=null}function rc(e,t,n){try{n()}catch(r){me(e,t,r)}}var xh=!1;function lw(e,t){if(Ul=bo,e=wp(),au(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fl={focusedElem:e,selectionRange:n},bo=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,S=v.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:xt(t.type,x),S);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(w){me(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return v=xh,xh=!1,v}function Ss(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&rc(t,n,i)}s=s.next}while(s!==r)}}function ia(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gg(e){var t=e.alternate;t!==null&&(e.alternate=null,gg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[Gs],delete t[Wl],delete t[Wx],delete t[Hx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yg(e){return e.tag===5||e.tag===3||e.tag===4}function wh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ic(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=So));else if(r!==4&&(e=e.child,e!==null))for(ic(e,t,n),e=e.sibling;e!==null;)ic(e,t,n),e=e.sibling}function oc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(oc(e,t,n),e=e.sibling;e!==null;)oc(e,t,n),e=e.sibling}var Ee=null,wt=!1;function Yt(e,t,n){for(n=n.child;n!==null;)vg(e,t,n),n=n.sibling}function vg(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Xo,n)}catch{}switch(n.tag){case 5:Ie||xr(n,t);case 6:var r=Ee,s=wt;Ee=null,Yt(e,t,n),Ee=r,wt=s,Ee!==null&&(wt?(e=Ee,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(wt?(e=Ee,n=n.stateNode,e.nodeType===8?Fa(e.parentNode,n):e.nodeType===1&&Fa(e,n),Bs(e)):Fa(Ee,n.stateNode));break;case 4:r=Ee,s=wt,Ee=n.stateNode.containerInfo,wt=!0,Yt(e,t,n),Ee=r,wt=s;break;case 0:case 11:case 14:case 15:if(!Ie&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&rc(n,t,o),s=s.next}while(s!==r)}Yt(e,t,n);break;case 1:if(!Ie&&(xr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){me(n,t,a)}Yt(e,t,n);break;case 21:Yt(e,t,n);break;case 22:n.mode&1?(Ie=(r=Ie)||n.memoizedState!==null,Yt(e,t,n),Ie=r):Yt(e,t,n);break;default:Yt(e,t,n)}}function bh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new aw),t.forEach(function(r){var s=yw.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ee=a.stateNode,wt=!1;break e;case 3:Ee=a.stateNode.containerInfo,wt=!0;break e;case 4:Ee=a.stateNode.containerInfo,wt=!0;break e}a=a.return}if(Ee===null)throw Error(P(160));vg(i,o,s),Ee=null,wt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){me(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xg(t,e),t=t.sibling}function xg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gt(t,e),Ct(e),r&4){try{Ss(3,e,e.return),ia(3,e)}catch(x){me(e,e.return,x)}try{Ss(5,e,e.return)}catch(x){me(e,e.return,x)}}break;case 1:gt(t,e),Ct(e),r&512&&n!==null&&xr(n,n.return);break;case 5:if(gt(t,e),Ct(e),r&512&&n!==null&&xr(n,n.return),e.flags&32){var s=e.stateNode;try{Vs(s,"")}catch(x){me(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Fm(s,i),Pl(a,o);var c=Pl(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?qm(s,h):d==="dangerouslySetInnerHTML"?Wm(s,h):d==="children"?Vs(s,h):Gc(s,d,h,c)}switch(a){case"input":jl(s,i);break;case"textarea":zm(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Nr(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Nr(s,!!i.multiple,i.defaultValue,!0):Nr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Gs]=i}catch(x){me(e,e.return,x)}}break;case 6:if(gt(t,e),Ct(e),r&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){me(e,e.return,x)}}break;case 3:if(gt(t,e),Ct(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bs(t.containerInfo)}catch(x){me(e,e.return,x)}break;case 4:gt(t,e),Ct(e);break;case 13:gt(t,e),Ct(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Tu=ye())),r&4&&bh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ie=(c=Ie)||d,gt(t,e),Ie=c):gt(t,e),Ct(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(R=e,d=e.child;d!==null;){for(h=R=d;R!==null;){switch(f=R,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ss(4,f,f.return);break;case 1:xr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){me(r,n,x)}}break;case 5:xr(f,f.return);break;case 22:if(f.memoizedState!==null){kh(h);continue}}g!==null?(g.return=f,R=g):kh(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Hm("display",o))}catch(x){me(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){me(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gt(t,e),Ct(e),r&4&&bh(e);break;case 21:break;default:gt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yg(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Vs(s,""),r.flags&=-33);var i=wh(e);oc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=wh(e);ic(e,a,o);break;default:throw Error(P(161))}}catch(l){me(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cw(e,t,n){R=e,wg(e)}function wg(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Di;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ie;a=Di;var c=Ie;if(Di=o,(Ie=l)&&!c)for(R=s;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?Sh(s):l!==null?(l.return=o,R=l):Sh(s);for(;i!==null;)R=i,wg(i),i=i.sibling;R=s,Di=a,Ie=c}_h(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):_h(e)}}function _h(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||ia(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ie)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:xt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&oh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}oh(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Bs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ie||t.flags&512&&sc(t)}catch(f){me(t,t.return,f)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function kh(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function Sh(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ia(4,t)}catch(l){me(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){me(t,s,l)}}var i=t.return;try{sc(t)}catch(l){me(t,i,l)}break;case 5:var o=t.return;try{sc(t)}catch(l){me(t,o,l)}}}catch(l){me(t,t.return,l)}if(t===e){R=null;break}var a=t.sibling;if(a!==null){a.return=t.return,R=a;break}R=t.return}}var uw=Math.ceil,Lo=Qt.ReactCurrentDispatcher,ju=Qt.ReactCurrentOwner,ut=Qt.ReactCurrentBatchConfig,q=0,Te=null,xe=null,Ae=0,Ye=0,wr=Sn(0),ke=0,ei=null,Qn=0,oa=0,Nu=0,js=null,He=null,Tu=0,$r=1/0,$t=null,Io=!1,ac=null,gn=null,$i=!1,un=null,Do=0,Ns=0,lc=null,oo=-1,ao=0;function Fe(){return q&6?ye():oo!==-1?oo:oo=ye()}function yn(e){return e.mode&1?q&2&&Ae!==0?Ae&-Ae:Kx.transition!==null?(ao===0&&(ao=sp()),ao):(e=Q,e!==0||(e=window.event,e=e===void 0?16:dp(e.type)),e):1}function St(e,t,n,r){if(50<Ns)throw Ns=0,lc=null,Error(P(185));ui(e,n,r),(!(q&2)||e!==Te)&&(e===Te&&(!(q&2)&&(oa|=n),ke===4&&an(e,Ae)),Xe(e,r),n===1&&q===0&&!(t.mode&1)&&($r=ye()+500,na&&jn()))}function Xe(e,t){var n=e.callbackNode;Kv(e,t);var r=wo(e,e===Te?Ae:0);if(r===0)n!==null&&Md(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Md(n),t===1)e.tag===0?qx(jh.bind(null,e)):Pp(jh.bind(null,e)),zx(function(){!(q&6)&&jn()}),n=null;else{switch(ip(r)){case 1:n=Zc;break;case 4:n=np;break;case 16:n=xo;break;case 536870912:n=rp;break;default:n=xo}n=Cg(n,bg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bg(e,t){if(oo=-1,ao=0,q&6)throw Error(P(327));var n=e.callbackNode;if(Ar()&&e.callbackNode!==n)return null;var r=wo(e,e===Te?Ae:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$o(e,r);else{t=r;var s=q;q|=2;var i=kg();(Te!==e||Ae!==t)&&($t=null,$r=ye()+500,Bn(e,t));do try{fw();break}catch(a){_g(e,a)}while(!0);hu(),Lo.current=i,q=s,xe!==null?t=0:(Te=null,Ae=0,t=ke)}if(t!==0){if(t===2&&(s=Ll(e),s!==0&&(r=s,t=cc(e,s))),t===1)throw n=ei,Bn(e,0),an(e,r),Xe(e,ye()),n;if(t===6)an(e,r);else{if(s=e.current.alternate,!(r&30)&&!dw(s)&&(t=$o(e,r),t===2&&(i=Ll(e),i!==0&&(r=i,t=cc(e,i))),t===1))throw n=ei,Bn(e,0),an(e,r),Xe(e,ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:On(e,He,$t);break;case 3:if(an(e,r),(r&130023424)===r&&(t=Tu+500-ye(),10<t)){if(wo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Fe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Bl(On.bind(null,e,He,$t),t);break}On(e,He,$t);break;case 4:if(an(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-kt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uw(r/1960))-r,10<r){e.timeoutHandle=Bl(On.bind(null,e,He,$t),r);break}On(e,He,$t);break;case 5:On(e,He,$t);break;default:throw Error(P(329))}}}return Xe(e,ye()),e.callbackNode===n?bg.bind(null,e):null}function cc(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(Bn(e,t).flags|=256),e=$o(e,t),e!==2&&(t=He,He=n,t!==null&&uc(t)),e}function uc(e){He===null?He=e:He.push.apply(He,e)}function dw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!jt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~Nu,t&=~oa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kt(t),r=1<<n;e[n]=-1,t&=~r}}function jh(e){if(q&6)throw Error(P(327));Ar();var t=wo(e,0);if(!(t&1))return Xe(e,ye()),null;var n=$o(e,t);if(e.tag!==0&&n===2){var r=Ll(e);r!==0&&(t=r,n=cc(e,r))}if(n===1)throw n=ei,Bn(e,0),an(e,t),Xe(e,ye()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,On(e,He,$t),Xe(e,ye()),null}function Cu(e,t){var n=q;q|=1;try{return e(t)}finally{q=n,q===0&&($r=ye()+500,na&&jn())}}function Xn(e){un!==null&&un.tag===0&&!(q&6)&&Ar();var t=q;q|=1;var n=ut.transition,r=Q;try{if(ut.transition=null,Q=1,e)return e()}finally{Q=r,ut.transition=n,q=t,!(q&6)&&jn()}}function Eu(){Ye=wr.current,re(wr)}function Bn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Fx(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(cu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jo();break;case 3:Ir(),re(Je),re($e),vu();break;case 5:yu(r);break;case 4:Ir();break;case 13:re(le);break;case 19:re(le);break;case 10:fu(r.type._context);break;case 22:case 23:Eu()}n=n.return}if(Te=e,xe=e=vn(e.current,null),Ae=Ye=t,ke=0,ei=null,Nu=oa=Qn=0,He=js=null,Vn!==null){for(t=0;t<Vn.length;t++)if(n=Vn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Vn=null}return e}function _g(e,t){do{var n=xe;try{if(hu(),ro.current=Oo,Mo){for(var r=ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Mo=!1}if(Jn=0,Ne=_e=ue=null,ks=!1,Xs=0,ju.current=null,n===null||n.return===null){ke=1,ei=t,xe=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Ae,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=hh(o);if(g!==null){g.flags&=-257,fh(g,o,a,i,t),g.mode&1&&dh(i,c,t),t=g,l=c;var v=t.updateQueue;if(v===null){var x=new Set;x.add(l),t.updateQueue=x}else v.add(l);break e}else{if(!(t&1)){dh(i,c,t),Pu();break e}l=Error(P(426))}}else if(ie&&a.mode&1){var S=hh(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),fh(S,o,a,i,t),uu(Dr(l,a));break e}}i=l=Dr(l,a),ke!==4&&(ke=2),js===null?js=[i]:js.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=ig(i,l,t);ih(i,y);break e;case 1:a=l;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(gn===null||!gn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=og(i,a,t);ih(i,w);break e}}i=i.return}while(i!==null)}jg(n)}catch(_){t=_,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function kg(){var e=Lo.current;return Lo.current=Oo,e===null?Oo:e}function Pu(){(ke===0||ke===3||ke===2)&&(ke=4),Te===null||!(Qn&268435455)&&!(oa&268435455)||an(Te,Ae)}function $o(e,t){var n=q;q|=2;var r=kg();(Te!==e||Ae!==t)&&($t=null,Bn(e,t));do try{hw();break}catch(s){_g(e,s)}while(!0);if(hu(),q=n,Lo.current=r,xe!==null)throw Error(P(261));return Te=null,Ae=0,ke}function hw(){for(;xe!==null;)Sg(xe)}function fw(){for(;xe!==null&&!$v();)Sg(xe)}function Sg(e){var t=Tg(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?jg(e):xe=t,ju.current=null}function jg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ow(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,xe=null;return}}else if(n=iw(n,t,Ye),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);ke===0&&(ke=5)}function On(e,t,n){var r=Q,s=ut.transition;try{ut.transition=null,Q=1,mw(e,t,n,r)}finally{ut.transition=s,Q=r}return null}function mw(e,t,n,r){do Ar();while(un!==null);if(q&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Gv(e,i),e===Te&&(xe=Te=null,Ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$i||($i=!0,Cg(xo,function(){return Ar(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ut.transition,ut.transition=null;var o=Q;Q=1;var a=q;q|=4,ju.current=null,lw(e,n),xg(n,e),Ox(Fl),bo=!!Ul,Fl=Ul=null,e.current=n,cw(n),Vv(),q=a,Q=o,ut.transition=i}else e.current=n;if($i&&($i=!1,un=e,Do=s),i=e.pendingLanes,i===0&&(gn=null),zv(n.stateNode),Xe(e,ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Io)throw Io=!1,e=ac,ac=null,e;return Do&1&&e.tag!==0&&Ar(),i=e.pendingLanes,i&1?e===lc?Ns++:(Ns=0,lc=e):Ns=0,jn(),null}function Ar(){if(un!==null){var e=ip(Do),t=ut.transition,n=Q;try{if(ut.transition=null,Q=16>e?16:e,un===null)var r=!1;else{if(e=un,un=null,Do=0,q&6)throw Error(P(331));var s=q;for(q|=4,R=e.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(R=c;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Ss(8,d,i)}var h=d.child;if(h!==null)h.return=d,R=h;else for(;R!==null;){d=R;var f=d.sibling,g=d.return;if(gg(d),d===c){R=null;break}if(f!==null){f.return=g,R=f;break}R=g}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ss(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,R=y;break e}R=i.return}}var m=e.current;for(R=m;R!==null;){o=R;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,R=p;else e:for(o=m;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ia(9,a)}}catch(_){me(a,a.return,_)}if(a===o){R=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,R=w;break e}R=a.return}}if(q=s,jn(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Xo,e)}catch{}r=!0}return r}finally{Q=n,ut.transition=t}}return!1}function Nh(e,t,n){t=Dr(n,t),t=ig(e,t,1),e=pn(e,t,1),t=Fe(),e!==null&&(ui(e,1,t),Xe(e,t))}function me(e,t,n){if(e.tag===3)Nh(e,e,n);else for(;t!==null;){if(t.tag===3){Nh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gn===null||!gn.has(r))){e=Dr(n,e),e=og(t,e,1),t=pn(t,e,1),e=Fe(),t!==null&&(ui(t,1,e),Xe(t,e));break}}t=t.return}}function pw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(Ae&n)===n&&(ke===4||ke===3&&(Ae&130023424)===Ae&&500>ye()-Tu?Bn(e,0):Nu|=n),Xe(e,t)}function Ng(e,t){t===0&&(e.mode&1?(t=Ci,Ci<<=1,!(Ci&130023424)&&(Ci=4194304)):t=1);var n=Fe();e=qt(e,t),e!==null&&(ui(e,t,n),Xe(e,n))}function gw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ng(e,n)}function yw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Ng(e,n)}var Tg;Tg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ke=!1,sw(e,t,n);Ke=!!(e.flags&131072)}else Ke=!1,ie&&t.flags&1048576&&Ap(t,Co,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;io(e,t),e=t.pendingProps;var s=Mr(t,$e.current);Pr(t,n),s=wu(null,t,r,e,s,n);var i=bu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(r)?(i=!0,No(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pu(t),s.updater=sa,t.stateNode=s,s._reactInternals=t,Ql(t,r,e,n),t=Zl(null,t,r,!0,i,n)):(t.tag=0,ie&&i&&lu(t),Ve(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(io(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=xw(r),e=xt(r,e),s){case 0:t=Yl(null,t,r,e,n);break e;case 1:t=gh(null,t,r,e,n);break e;case 11:t=mh(null,t,r,e,n);break e;case 14:t=ph(null,t,r,xt(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:xt(r,s),Yl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:xt(r,s),gh(e,t,r,s,n);case 3:e:{if(ug(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Dp(e,t),Ao(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Dr(Error(P(423)),t),t=yh(e,t,r,n,s);break e}else if(r!==s){s=Dr(Error(P(424)),t),t=yh(e,t,r,n,s);break e}else for(Ze=mn(t.stateNode.containerInfo.firstChild),et=t,ie=!0,_t=null,n=Lp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Or(),r===s){t=Kt(e,t,n);break e}Ve(e,t,r,n)}t=t.child}return t;case 5:return $p(t),e===null&&Kl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,zl(r,s)?o=null:i!==null&&zl(r,i)&&(t.flags|=32),cg(e,t),Ve(e,t,o,n),t.child;case 6:return e===null&&Kl(t),null;case 13:return dg(e,t,n);case 4:return gu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Lr(t,null,r,n):Ve(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:xt(r,s),mh(e,t,r,s,n);case 7:return Ve(e,t,t.pendingProps,n),t.child;case 8:return Ve(e,t,t.pendingProps.children,n),t.child;case 12:return Ve(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ee(Eo,r._currentValue),r._currentValue=o,i!==null)if(jt(i.value,o)){if(i.children===s.children&&!Je.current){t=Kt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Bt(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Gl(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ve(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Pr(t,n),s=ft(s),r=r(s),t.flags|=1,Ve(e,t,r,n),t.child;case 14:return r=t.type,s=xt(r,t.pendingProps),s=xt(r.type,s),ph(e,t,r,s,n);case 15:return ag(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:xt(r,s),io(e,t),t.tag=1,Qe(r)?(e=!0,No(t)):e=!1,Pr(t,n),sg(t,r,s),Ql(t,r,s,n),Zl(null,t,r,!0,e,n);case 19:return hg(e,t,n);case 22:return lg(e,t,n)}throw Error(P(156,t.tag))};function Cg(e,t){return tp(e,t)}function vw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,r){return new vw(e,t,n,r)}function Au(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xw(e){if(typeof e=="function")return Au(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qc)return 11;if(e===Xc)return 14}return 2}function vn(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function lo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Au(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ur:return Wn(n.children,s,i,t);case Jc:o=8,s|=8;break;case wl:return e=ct(12,n,t,s|2),e.elementType=wl,e.lanes=i,e;case bl:return e=ct(13,n,t,s),e.elementType=bl,e.lanes=i,e;case _l:return e=ct(19,n,t,s),e.elementType=_l,e.lanes=i,e;case $m:return aa(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Im:o=10;break e;case Dm:o=9;break e;case Qc:o=11;break e;case Xc:o=14;break e;case nn:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=ct(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Wn(e,t,n,r){return e=ct(7,e,r,t),e.lanes=n,e}function aa(e,t,n,r){return e=ct(22,e,r,t),e.elementType=$m,e.lanes=n,e.stateNode={isHidden:!1},e}function Ja(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function Qa(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ww(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pa(0),this.expirationTimes=Pa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ru(e,t,n,r,s,i,o,a,l){return e=new ww(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pu(i),e}function bw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Eg(e){if(!e)return wn;e=e._reactInternals;e:{if(Zn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Qe(n))return Ep(e,n,t)}return t}function Pg(e,t,n,r,s,i,o,a,l){return e=Ru(n,r,!0,e,s,i,o,a,l),e.context=Eg(null),n=e.current,r=Fe(),s=yn(n),i=Bt(r,s),i.callback=t??null,pn(n,i,s),e.current.lanes=s,ui(e,s,r),Xe(e,r),e}function la(e,t,n,r){var s=t.current,i=Fe(),o=yn(s);return n=Eg(n),t.context===null?t.context=n:t.pendingContext=n,t=Bt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=pn(s,t,o),e!==null&&(St(e,s,o,i),no(e,s,o)),o}function Vo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Th(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Mu(e,t){Th(e,t),(e=e.alternate)&&Th(e,t)}function _w(){return null}var Ag=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ou(e){this._internalRoot=e}ca.prototype.render=Ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));la(e,t,null,null)};ca.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){la(null,e,null,null)}),t[Ht]=null}};function ca(e){this._internalRoot=e}ca.prototype.unstable_scheduleHydration=function(e){if(e){var t=lp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<on.length&&t!==0&&t<on[n].priority;n++);on.splice(n,0,e),n===0&&up(e)}};function Lu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ua(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ch(){}function kw(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Vo(o);i.call(c)}}var o=Pg(t,r,e,0,null,!1,!1,"",Ch);return e._reactRootContainer=o,e[Ht]=o.current,qs(e.nodeType===8?e.parentNode:e),Xn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Vo(l);a.call(c)}}var l=Ru(e,0,!1,null,null,!1,!1,"",Ch);return e._reactRootContainer=l,e[Ht]=l.current,qs(e.nodeType===8?e.parentNode:e),Xn(function(){la(t,l,n,r)}),l}function da(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Vo(o);a.call(l)}}la(t,o,e,s)}else o=kw(n,t,e,s,r);return Vo(o)}op=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fs(t.pendingLanes);n!==0&&(eu(t,n|1),Xe(t,ye()),!(q&6)&&($r=ye()+500,jn()))}break;case 13:Xn(function(){var r=qt(e,1);if(r!==null){var s=Fe();St(r,e,1,s)}}),Mu(e,1)}};tu=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var n=Fe();St(t,e,134217728,n)}Mu(e,134217728)}};ap=function(e){if(e.tag===13){var t=yn(e),n=qt(e,t);if(n!==null){var r=Fe();St(n,e,t,r)}Mu(e,t)}};lp=function(){return Q};cp=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};Rl=function(e,t,n){switch(t){case"input":if(jl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ta(r);if(!s)throw Error(P(90));Um(r),jl(r,s)}}}break;case"textarea":zm(e,n);break;case"select":t=n.value,t!=null&&Nr(e,!!n.multiple,t,!1)}};Jm=Cu;Qm=Xn;var Sw={usingClientEntryPoint:!1,Events:[hi,mr,ta,Km,Gm,Cu]},as={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jw={bundleType:as.bundleType,version:as.version,rendererPackageName:as.rendererPackageName,rendererConfig:as.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zm(e),e===null?null:e.stateNode},findFiberByHostInstance:as.findFiberByHostInstance||_w,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vi.isDisabled&&Vi.supportsFiber)try{Xo=Vi.inject(jw),At=Vi}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sw;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lu(t))throw Error(P(200));return bw(e,t,null,n)};nt.createRoot=function(e,t){if(!Lu(e))throw Error(P(299));var n=!1,r="",s=Ag;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ru(e,1,!1,null,null,n,!1,r,s),e[Ht]=t.current,qs(e.nodeType===8?e.parentNode:e),new Ou(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Zm(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return Xn(e)};nt.hydrate=function(e,t,n){if(!ua(t))throw Error(P(200));return da(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!Lu(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ag;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Pg(t,null,e,1,n??null,s,!1,i,o),e[Ht]=t.current,qs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ca(t)};nt.render=function(e,t,n){if(!ua(t))throw Error(P(200));return da(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!ua(e))throw Error(P(40));return e._reactRootContainer?(Xn(function(){da(null,null,e,!1,function(){e._reactRootContainer=null,e[Ht]=null})}),!0):!1};nt.unstable_batchedUpdates=Cu;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ua(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return da(e,t,n,!1,r)};nt.version="18.3.1-next-f1338f8080-20240426";function Rg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rg)}catch(e){console.error(e)}}Rg(),Rm.exports=nt;var Nw=Rm.exports,Mg,Eh=Nw;Mg=Eh.createRoot,Eh.hydrateRoot;const Og=k.createContext({});function Tw(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const Iu=typeof window<"u",Cw=Iu?k.useLayoutEffect:k.useEffect,Du=k.createContext(null);function $u(e,t){e.indexOf(t)===-1&&e.push(t)}function Vu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Gt=(e,t,n)=>n>t?t:n<e?e:n;let Uo=()=>{};const Jt={},Lg=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Ig(e){return typeof e=="object"&&e!==null}const Dg=e=>/^0[^.\s]+$/u.test(e);function Uu(e){let t;return()=>(t===void 0&&(t=e()),t)}const dt=e=>e,Ew=(e,t)=>n=>t(e(n)),mi=(...e)=>e.reduce(Ew),ti=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Fu{constructor(){this.subscriptions=[]}add(t){return $u(this.subscriptions,t),()=>Vu(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mt=e=>e*1e3,Ot=e=>e/1e3;function $g(e,t){return t?e*(1e3/t):0}const Vg=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Pw=1e-7,Aw=12;function Rw(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=Vg(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>Pw&&++a<Aw);return o}function pi(e,t,n,r){if(e===t&&n===r)return dt;const s=i=>Rw(i,0,1,e,n);return i=>i===0||i===1?i:Vg(s(i),t,r)}const Ug=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Fg=e=>t=>1-e(1-t),zg=pi(.33,1.53,.69,.99),zu=Fg(zg),Bg=Ug(zu),Wg=e=>(e*=2)<1?.5*zu(e):.5*(2-Math.pow(2,-10*(e-1))),Bu=e=>1-Math.sin(Math.acos(e)),Hg=Fg(Bu),qg=Ug(Bu),Mw=pi(.42,0,1,1),Ow=pi(0,0,.58,1),Kg=pi(.42,0,.58,1),Lw=e=>Array.isArray(e)&&typeof e[0]!="number",Gg=e=>Array.isArray(e)&&typeof e[0]=="number",Ph={linear:dt,easeIn:Mw,easeInOut:Kg,easeOut:Ow,circIn:Bu,circInOut:qg,circOut:Hg,backIn:zu,backInOut:Bg,backOut:zg,anticipate:Wg},Iw=e=>typeof e=="string",Ah=e=>{if(Gg(e)){Uo(e.length===4);const[t,n,r,s]=e;return pi(t,n,r,s)}else if(Iw(e))return Uo(Ph[e]!==void 0),Ph[e];return e},Ui=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Rh={value:null,addProjectionMetrics:null};function Dw(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),e()),l++,h(a)}const d={schedule:(h,f=!1,g=!1)=>{const x=g&&s?n:r;return f&&o.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),t&&Rh.value&&Rh.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const $w=40;function Jg(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Ui.reduce((p,w)=>(p[w]=Dw(i,t?w:void 0),p),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:f,render:g,postRender:v}=o,x=()=>{const p=Jt.useManualTiming?s.timestamp:performance.now();n=!1,Jt.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(p-s.timestamp,$w),1)),s.timestamp=p,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),g.process(s),v.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(x))},S=()=>{n=!0,r=!0,s.isProcessing||e(x)};return{schedule:Ui.reduce((p,w)=>{const _=o[w];return p[w]=(j,N=!1,b=!1)=>(n||S(),_.schedule(j,N,b)),p},{}),cancel:p=>{for(let w=0;w<Ui.length;w++)o[Ui[w]].cancel(p)},state:s,steps:o}}const{schedule:oe,cancel:bn,state:Pe,steps:Xa}=Jg(typeof requestAnimationFrame<"u"?requestAnimationFrame:dt,!0);let co;function Vw(){co=void 0}const Ge={now:()=>(co===void 0&&Ge.set(Pe.isProcessing||Jt.useManualTiming?Pe.timestamp:performance.now()),co),set:e=>{co=e,queueMicrotask(Vw)}},Qg=e=>t=>typeof t=="string"&&t.startsWith(e),Wu=Qg("--"),Uw=Qg("var(--"),Hu=e=>Uw(e)?Fw.test(e.split("/*")[0].trim()):!1,Fw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Hr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ni={...Hr,transform:e=>Gt(0,1,e)},Fi={...Hr,default:1},Ts=e=>Math.round(e*1e5)/1e5,qu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zw(e){return e==null}const Bw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ku=(e,t)=>n=>!!(typeof n=="string"&&Bw.test(n)&&n.startsWith(e)||t&&!zw(n)&&Object.prototype.hasOwnProperty.call(n,t)),Xg=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(qu);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Ww=e=>Gt(0,255,e),Ya={...Hr,transform:e=>Math.round(Ww(e))},Fn={test:Ku("rgb","red"),parse:Xg("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ya.transform(e)+", "+Ya.transform(t)+", "+Ya.transform(n)+", "+Ts(ni.transform(r))+")"};function Hw(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const dc={test:Ku("#"),parse:Hw,transform:Fn.transform},gi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),en=gi("deg"),Lt=gi("%"),$=gi("px"),qw=gi("vh"),Kw=gi("vw"),Mh={...Lt,parse:e=>Lt.parse(e)/100,transform:e=>Lt.transform(e*100)},br={test:Ku("hsl","hue"),parse:Xg("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Lt.transform(Ts(t))+", "+Lt.transform(Ts(n))+", "+Ts(ni.transform(r))+")"},ve={test:e=>Fn.test(e)||dc.test(e)||br.test(e),parse:e=>Fn.test(e)?Fn.parse(e):br.test(e)?br.parse(e):dc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Fn.transform(e):br.transform(e),getAnimatableNone:e=>{const t=ve.parse(e);return t.alpha=0,ve.transform(t)}},Gw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Jw(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(qu))==null?void 0:t.length)||0)+(((n=e.match(Gw))==null?void 0:n.length)||0)>0}const Yg="number",Zg="color",Qw="var",Xw="var(",Oh="${}",Yw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ri(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(Yw,l=>(ve.test(l)?(r.color.push(i),s.push(Zg),n.push(ve.parse(l))):l.startsWith(Xw)?(r.var.push(i),s.push(Qw),n.push(l)):(r.number.push(i),s.push(Yg),n.push(parseFloat(l))),++i,Oh)).split(Oh);return{values:n,split:a,indexes:r,types:s}}function e0(e){return ri(e).values}function t0(e){const{split:t,types:n}=ri(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===Yg?i+=Ts(s[o]):a===Zg?i+=ve.transform(s[o]):i+=s[o]}return i}}const Zw=e=>typeof e=="number"?0:ve.test(e)?ve.getAnimatableNone(e):e;function e1(e){const t=e0(e);return t0(e)(t.map(Zw))}const _n={test:Jw,parse:e0,createTransformer:t0,getAnimatableNone:e1};function Za(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function t1({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=Za(l,a,e+1/3),i=Za(l,a,e),o=Za(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Fo(e,t){return n=>n>0?t:e}const ce=(e,t,n)=>e+(t-e)*n,el=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},n1=[dc,Fn,br],r1=e=>n1.find(t=>t.test(e));function Lh(e){const t=r1(e);if(!t)return!1;let n=t.parse(e);return t===br&&(n=t1(n)),n}const Ih=(e,t)=>{const n=Lh(e),r=Lh(t);if(!n||!r)return Fo(e,t);const s={...n};return i=>(s.red=el(n.red,r.red,i),s.green=el(n.green,r.green,i),s.blue=el(n.blue,r.blue,i),s.alpha=ce(n.alpha,r.alpha,i),Fn.transform(s))},hc=new Set(["none","hidden"]);function s1(e,t){return hc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function i1(e,t){return n=>ce(e,t,n)}function Gu(e){return typeof e=="number"?i1:typeof e=="string"?Hu(e)?Fo:ve.test(e)?Ih:l1:Array.isArray(e)?n0:typeof e=="object"?ve.test(e)?Ih:o1:Fo}function n0(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Gu(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function o1(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Gu(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function a1(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const l1=(e,t)=>{const n=_n.createTransformer(t),r=ri(e),s=ri(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?hc.has(e)&&!s.values.length||hc.has(t)&&!r.values.length?s1(e,t):mi(n0(a1(r,s),s.values),n):Fo(e,t)};function r0(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ce(e,t,n):Gu(e)(e,t)}const c1=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>oe.update(t,n),stop:()=>bn(t),now:()=>Pe.isProcessing?Pe.timestamp:Ge.now()}},s0=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},zo=2e4;function Ju(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<zo;)t+=n,r=e.next(t);return t>=zo?1/0:t}function u1(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Ju(r),zo);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Ot(s)}}const d1=5;function i0(e,t,n){const r=Math.max(t-d1,0);return $g(n-e(r),t-r)}const fe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tl=.001;function h1({duration:e=fe.duration,bounce:t=fe.bounce,velocity:n=fe.velocity,mass:r=fe.mass}){let s,i,o=1-t;o=Gt(fe.minDamping,fe.maxDamping,o),e=Gt(fe.minDuration,fe.maxDuration,Ot(e)),o<1?(s=c=>{const d=c*o,h=d*e,f=d-n,g=fc(c,o),v=Math.exp(-h);return tl-f/g*v},i=c=>{const h=c*o*e,f=h*n+n,g=Math.pow(o,2)*Math.pow(c,2)*e,v=Math.exp(-h),x=fc(Math.pow(c,2),o);return(-s(c)+tl>0?-1:1)*((f-g)*v)/x}):(s=c=>{const d=Math.exp(-c*e),h=(c-n)*e+1;return-tl+d*h},i=c=>{const d=Math.exp(-c*e),h=(n-c)*(e*e);return d*h});const a=5/e,l=m1(s,i,a);if(e=Mt(e),isNaN(l))return{stiffness:fe.stiffness,damping:fe.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const f1=12;function m1(e,t,n){let r=n;for(let s=1;s<f1;s++)r=r-e(r)/t(r);return r}function fc(e,t){return e*Math.sqrt(1-t*t)}const p1=["duration","bounce"],g1=["stiffness","damping","mass"];function Dh(e,t){return t.some(n=>e[n]!==void 0)}function y1(e){let t={velocity:fe.velocity,stiffness:fe.stiffness,damping:fe.damping,mass:fe.mass,isResolvedFromDuration:!1,...e};if(!Dh(e,g1)&&Dh(e,p1))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Gt(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:fe.mass,stiffness:s,damping:i}}else{const n=h1(e);t={...t,...n,mass:fe.mass},t.isResolvedFromDuration=!0}return t}function Bo(e=fe.visualDuration,t=fe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:g}=y1({...n,velocity:-Ot(n.velocity||0)}),v=f||0,x=c/(2*Math.sqrt(l*d)),S=o-i,y=Ot(Math.sqrt(l/d)),m=Math.abs(S)<5;r||(r=m?fe.restSpeed.granular:fe.restSpeed.default),s||(s=m?fe.restDelta.granular:fe.restDelta.default);let p;if(x<1){const _=fc(y,x);p=j=>{const N=Math.exp(-x*y*j);return o-N*((v+x*y*S)/_*Math.sin(_*j)+S*Math.cos(_*j))}}else if(x===1)p=_=>o-Math.exp(-y*_)*(S+(v+y*S)*_);else{const _=y*Math.sqrt(x*x-1);p=j=>{const N=Math.exp(-x*y*j),b=Math.min(_*j,300);return o-N*((v+x*y*S)*Math.sinh(b)+_*S*Math.cosh(b))/_}}const w={calculatedDuration:g&&h||null,next:_=>{const j=p(_);if(g)a.done=_>=h;else{let N=_===0?v:0;x<1&&(N=_===0?Mt(v):i0(p,_,j));const b=Math.abs(N)<=r,T=Math.abs(o-j)<=s;a.done=b&&T}return a.value=a.done?o:j,a},toString:()=>{const _=Math.min(Ju(w),zo),j=s0(N=>w.next(_*N).value,_,30);return _+"ms "+j},toTransition:()=>{}};return w}Bo.applyToOptions=e=>{const t=u1(e,100,Bo);return e.ease=t.ease,e.duration=Mt(t.duration),e.type="keyframes",e};function mc({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},g=b=>a!==void 0&&b<a||l!==void 0&&b>l,v=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let x=n*t;const S=h+x,y=o===void 0?S:o(S);y!==S&&(x=y-h);const m=b=>-x*Math.exp(-b/r),p=b=>y+m(b),w=b=>{const T=m(b),A=p(b);f.done=Math.abs(T)<=c,f.value=f.done?y:A};let _,j;const N=b=>{g(f.value)&&(_=b,j=Bo({keyframes:[f.value,v(f.value)],velocity:i0(p,b,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return N(0),{calculatedDuration:null,next:b=>{let T=!1;return!j&&_===void 0&&(T=!0,w(b),N(b)),_!==void 0&&b>=_?j.next(b-_):(!T&&w(b),f)}}}function v1(e,t,n){const r=[],s=n||Jt.mix||r0,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||dt:t;a=mi(l,a)}r.push(a)}return r}function x1(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Uo(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=v1(t,r,s),l=a.length,c=d=>{if(o&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=ti(e[h],e[h+1],d);return a[h](f)};return n?d=>c(Gt(e[0],e[i-1],d)):c}function w1(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=ti(0,t,r);e.push(ce(n,1,s))}}function b1(e){const t=[0];return w1(t,e.length-1),t}function _1(e,t){return e.map(n=>n*t)}function k1(e,t){return e.map(()=>t||Kg).splice(0,e.length-1)}function Cs({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=Lw(r)?r.map(Ah):Ah(r),i={done:!1,value:t[0]},o=_1(n&&n.length===t.length?n:b1(t),e),a=x1(o,t,{ease:Array.isArray(s)?s:k1(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const S1=e=>e!==null;function Qu(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(S1),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const j1={decay:mc,inertia:mc,tween:Cs,keyframes:Cs,spring:Bo};function o0(e){typeof e.type=="string"&&(e.type=j1[e.type])}class Xu{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const N1=e=>e/100;class Yu extends Xu{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Ge.now()&&this.tick(Ge.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;o0(t);const{type:n=Cs,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Cs;l!==Cs&&typeof a[0]!="number"&&(this.mixKeyframes=mi(N1,r0(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Ju(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:g,type:v,onUpdate:x,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),m=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let p=this.currentTime,w=r;if(h){const b=Math.min(this.currentTime,s)/a;let T=Math.floor(b),A=b%1;!A&&b>=1&&(A=1),A===1&&T--,T=Math.min(T,h+1),!!(T%2)&&(f==="reverse"?(A=1-A,g&&(A-=g/a)):f==="mirror"&&(w=o)),p=Gt(0,1,A)*a}const _=m?{done:!1,value:d[0]}:w.next(p);i&&(_.value=i(_.value));let{done:j}=_;!m&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return N&&v!==mc&&(_.value=Qu(d,this.options,S,this.speed)),x&&x(_.value),N&&this.finish(),_}then(t,n){return this.finished.then(t,n)}get duration(){return Ot(this.calculatedDuration)}get time(){return Ot(this.currentTime)}set time(t){var n;t=Mt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ge.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ot(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=c1,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ge.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function T1(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const zn=e=>e*180/Math.PI,pc=e=>{const t=zn(Math.atan2(e[1],e[0]));return gc(t)},C1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:pc,rotateZ:pc,skewX:e=>zn(Math.atan(e[1])),skewY:e=>zn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},gc=e=>(e=e%360,e<0&&(e+=360),e),$h=pc,Vh=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Uh=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),E1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Vh,scaleY:Uh,scale:e=>(Vh(e)+Uh(e))/2,rotateX:e=>gc(zn(Math.atan2(e[6],e[5]))),rotateY:e=>gc(zn(Math.atan2(-e[2],e[0]))),rotateZ:$h,rotate:$h,skewX:e=>zn(Math.atan(e[4])),skewY:e=>zn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function yc(e){return e.includes("scale")?1:0}function vc(e,t){if(!e||e==="none")return yc(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=E1,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=C1,s=a}if(!s)return yc(t);const i=r[t],o=s[1].split(",").map(A1);return typeof i=="function"?i(o):o[i]}const P1=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return vc(n,t)};function A1(e){return parseFloat(e.trim())}const qr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kr=new Set(qr),Fh=e=>e===Hr||e===$,R1=new Set(["x","y","z"]),M1=qr.filter(e=>!R1.has(e));function O1(e){const t=[];return M1.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Hn={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>vc(t,"x"),y:(e,{transform:t})=>vc(t,"y")};Hn.translateX=Hn.x;Hn.translateY=Hn.y;const qn=new Set;let xc=!1,wc=!1,bc=!1;function a0(){if(wc){const e=Array.from(qn).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=O1(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}wc=!1,xc=!1,qn.forEach(e=>e.complete(bc)),qn.clear()}function l0(){qn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(wc=!0)})}function L1(){bc=!0,l0(),a0(),bc=!1}class Zu{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(qn.add(this),xc||(xc=!0,oe.read(l0),oe.resolveKeyframes(a0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}T1(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),qn.delete(this)}cancel(){this.state==="scheduled"&&(qn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const I1=e=>e.startsWith("--");function D1(e,t,n){I1(t)?e.style.setProperty(t,n):e.style[t]=n}const $1=Uu(()=>window.ScrollTimeline!==void 0),V1={};function U1(e,t){const n=Uu(e);return()=>V1[t]??n()}const c0=U1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ps=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,zh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ps([0,.65,.55,1]),circOut:ps([.55,0,1,.45]),backIn:ps([.31,.01,.66,-.59]),backOut:ps([.33,1.53,.69,.99])};function u0(e,t){if(e)return typeof e=="function"?c0()?s0(e,t):"ease-out":Gg(e)?ps(e):Array.isArray(e)?e.map(n=>u0(n,t)||zh.easeOut):zh[e]}function F1(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const h=u0(a,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),e.animate(d,f)}function d0(e){return typeof e=="function"&&"applyToOptions"in e}function z1({type:e,...t}){return d0(e)&&c0()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class B1 extends Xu{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Uo(typeof t.type!="string");const c=z1(t);this.animation=F1(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Qu(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):D1(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ot(Number(t))}get time(){return Ot(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Mt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&$1()?(this.animation.timeline=t,dt):n(this)}}const h0={anticipate:Wg,backInOut:Bg,circInOut:qg};function W1(e){return e in h0}function H1(e){typeof e.ease=="string"&&W1(e.ease)&&(e.ease=h0[e.ease])}const Bh=10;class q1 extends B1{constructor(t){H1(t),o0(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Yu({...o,autoplay:!1}),l=Mt(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Bh).value,a.sample(l).value,Bh),a.stop()}}const Wh=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_n.test(e)||e==="0")&&!e.startsWith("url("));function K1(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function G1(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Wh(s,t),a=Wh(i,t);return!o||!a?!1:K1(e)||(n==="spring"||d0(n))&&r}const J1=new Set(["opacity","clipPath","filter","transform"]),Q1=Uu(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function X1(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return Q1()&&n&&J1.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const Y1=40;class Z1 extends Xu{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var v;super(),this.stop=()=>{var x,S;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Ge.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...h},g=(d==null?void 0:d.KeyframeResolver)||Zu;this.keyframeResolver=new g(a,(x,S,y)=>this.onKeyframesResolved(x,S,f,!y),l,c,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Ge.now(),G1(t,i,o,a)||((Jt.instantAnimations||!l)&&(d==null||d(Qu(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Y1?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},g=!c&&X1(f)?new q1({...f,element:f.motionValue.owner.current}):new Yu(f);g.finished.then(()=>this.notifyFinished()).catch(dt),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),L1()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const eb=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tb(e){const t=eb.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function f0(e,t,n=1){const[r,s]=tb(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return Lg(o)?parseFloat(o):o}return Hu(s)?f0(s,t,n+1):s}function ed(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const m0=new Set(["width","height","top","left","right","bottom",...qr]),nb={test:e=>e==="auto",parse:e=>e},p0=e=>t=>t.test(e),g0=[Hr,$,Lt,en,Kw,qw,nb],Hh=e=>g0.find(p0(e));function rb(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Dg(e):!0}const sb=new Set(["brightness","contrast","saturate","opacity"]);function ib(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(qu)||[];if(!r)return e;const s=n.replace(r,"");let i=sb.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const ob=/\b([a-z-]*)\(.*?\)/gu,_c={..._n,getAnimatableNone:e=>{const t=e.match(ob);return t?t.map(ib).join(" "):e}},qh={...Hr,transform:Math.round},ab={rotate:en,rotateX:en,rotateY:en,rotateZ:en,scale:Fi,scaleX:Fi,scaleY:Fi,scaleZ:Fi,skew:en,skewX:en,skewY:en,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:ni,originX:Mh,originY:Mh,originZ:$},td={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,backgroundPositionX:$,backgroundPositionY:$,...ab,zIndex:qh,fillOpacity:ni,strokeOpacity:ni,numOctaves:qh},lb={...td,color:ve,backgroundColor:ve,outlineColor:ve,fill:ve,stroke:ve,borderColor:ve,borderTopColor:ve,borderRightColor:ve,borderBottomColor:ve,borderLeftColor:ve,filter:_c,WebkitFilter:_c},y0=e=>lb[e];function v0(e,t){let n=y0(e);return n!==_c&&(n=_n),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const cb=new Set(["auto","none","0"]);function ub(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!cb.has(i)&&ri(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=v0(n,s)}class db extends Zu{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Hu(c))){const d=f0(c,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!m0.has(r)||t.length!==2)return;const[s,i]=t,o=Hh(s),a=Hh(i);if(o!==a)if(Fh(o)&&Fh(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Hn[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||rb(t[s]))&&r.push(s);r.length&&ub(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hn[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Hn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function hb(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const x0=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function fb(e){return Ig(e)&&"offsetHeight"in e}const Kh=30,mb=e=>!isNaN(parseFloat(e));class pb{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=Ge.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ge.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=mb(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Fu);const r=this.events[t].add(n);return t==="change"?()=>{r(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ge.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Kh)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Kh);return $g(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vr(e,t){return new pb(e,t)}const{schedule:nd,cancel:KN}=Jg(queueMicrotask,!1),vt={x:!1,y:!1};function w0(){return vt.x||vt.y}function gb(e){return e==="x"||e==="y"?vt[e]?null:(vt[e]=!0,()=>{vt[e]=!1}):vt.x||vt.y?null:(vt.x=vt.y=!0,()=>{vt.x=vt.y=!1})}function b0(e,t){const n=hb(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Gh(e){return!(e.pointerType==="touch"||w0())}function yb(e,t,n={}){const[r,s,i]=b0(e,n),o=a=>{if(!Gh(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const d=h=>{Gh(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const _0=(e,t)=>t?e===t?!0:_0(e,t.parentElement):!1,rd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,vb=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xb(e){return vb.has(e.tagName)||e.tabIndex!==-1}const uo=new WeakSet;function Jh(e){return t=>{t.key==="Enter"&&e(t)}}function nl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const wb=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Jh(()=>{if(uo.has(n))return;nl(n,"down");const s=Jh(()=>{nl(n,"up")}),i=()=>nl(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Qh(e){return rd(e)&&!w0()}function bb(e,t,n={}){const[r,s,i]=b0(e,n),o=a=>{const l=a.currentTarget;if(!Qh(a))return;uo.add(l);const c=t(l,a),d=(g,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),uo.has(l)&&uo.delete(l),Qh(g)&&typeof c=="function"&&c(g,{success:v})},h=g=>{d(g,l===window||l===document||n.useGlobalTarget||_0(l,g.target))},f=g=>{d(g,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),fb(a)&&(a.addEventListener("focus",c=>wb(c,s)),!xb(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function k0(e){return Ig(e)&&"ownerSVGElement"in e}function _b(e){return k0(e)&&e.tagName==="svg"}const De=e=>!!(e&&e.getVelocity),kb=[...g0,ve,_n],Sb=e=>kb.find(p0(e)),S0=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function jb(e=!0){const t=k.useContext(Du);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=k.useId();k.useEffect(()=>{if(e)return s(i)},[e]);const o=k.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const j0=k.createContext({strict:!1}),Xh={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ur={};for(const e in Xh)Ur[e]={isEnabled:t=>Xh[e].some(n=>!!t[n])};function Nb(e){for(const t in e)Ur[t]={...Ur[t],...e[t]}}const Tb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Tb.has(e)}let N0=e=>!Wo(e);function Cb(e){typeof e=="function"&&(N0=t=>t.startsWith("on")?!Wo(t):e(t))}try{Cb(require("@emotion/is-prop-valid").default)}catch{}function Eb(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(N0(s)||n===!0&&Wo(s)||!t&&!Wo(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const ha=k.createContext({});function fa(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function si(e){return typeof e=="string"||Array.isArray(e)}const sd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],id=["initial",...sd];function ma(e){return fa(e.animate)||id.some(t=>si(e[t]))}function T0(e){return!!(ma(e)||e.variants)}function Pb(e,t){if(ma(e)){const{initial:n,animate:r}=e;return{initial:n===!1||si(n)?n:void 0,animate:si(r)?r:void 0}}return e.inherit!==!1?t:{}}function Ab(e){const{initial:t,animate:n}=Pb(e,k.useContext(ha));return k.useMemo(()=>({initial:t,animate:n}),[Yh(t),Yh(n)])}function Yh(e){return Array.isArray(e)?e.join(" "):e}const ii={};function Rb(e){for(const t in e)ii[t]=e[t],Wu(t)&&(ii[t].isCSSVariable=!0)}function C0(e,{layout:t,layoutId:n}){return Kr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ii[e]||e==="opacity")}const Mb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ob=qr.length;function Lb(e,t,n){let r="",s=!0;for(let i=0;i<Ob;i++){const o=qr[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=x0(a,td[o]);if(!l){s=!1;const d=Mb[o]||o;r+=`${d}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function od(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Kr.has(l)){o=!0;continue}else if(Wu(l)){s[l]=c;continue}else{const d=x0(c,td[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=Lb(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const ad=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function E0(e,t,n){for(const r in t)!De(t[r])&&!C0(r,n)&&(e[r]=t[r])}function Ib({transformTemplate:e},t){return k.useMemo(()=>{const n=ad();return od(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Db(e,t){const n=e.style||{},r={};return E0(r,n,e),Object.assign(r,Ib(e,t)),r}function $b(e,t){const n={},r=Db(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Vb={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ub={offset:"strokeDashoffset",array:"strokeDasharray"};function Fb(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?Vb:Ub;e[i.offset]=$.transform(-r);const o=$.transform(t),a=$.transform(n);e[i.array]=`${o} ${a}`}function P0(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(od(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&Fb(h,s,i,o,!1)}const A0=()=>({...ad(),attrs:{}}),R0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function zb(e,t,n,r){const s=k.useMemo(()=>{const i=A0();return P0(i,t,R0(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};E0(i,e.style,e),s.style={...i,...s.style}}return s}const Bb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ld(e){return typeof e!="string"||e.includes("-")?!1:!!(Bb.indexOf(e)>-1||/[A-Z]/u.test(e))}function Wb(e,t,n,{latestValues:r},s,i=!1){const a=(ld(e)?zb:$b)(t,r,s,e),l=Eb(t,typeof e=="string",i),c=e!==k.Fragment?{...l,...a,ref:n}:{},{children:d}=t,h=k.useMemo(()=>De(d)?d.get():d,[d]);return k.createElement(e,{...c,children:h})}function Zh(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function cd(e,t,n,r){if(typeof t=="function"){const[s,i]=Zh(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Zh(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function ho(e){return De(e)?e.get():e}function Hb({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:qb(n,r,s,e),renderState:t()}}function qb(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=ho(i[f]);let{initial:o,animate:a}=e;const l=ma(e),c=T0(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!fa(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const v=cd(e,f[g]);if(v){const{transitionEnd:x,transition:S,...y}=v;for(const m in y){let p=y[m];if(Array.isArray(p)){const w=d?p.length-1:0;p=p[w]}p!==null&&(s[m]=p)}for(const m in x)s[m]=x[m]}}}return s}const M0=e=>(t,n)=>{const r=k.useContext(ha),s=k.useContext(Du),i=()=>Hb(e,t,r,s);return n?i():Tw(i)};function ud(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(De(r[o])||t.style&&De(t.style[o])||C0(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const Kb=M0({scrapeMotionValuesFromProps:ud,createRenderState:ad});function O0(e,t,n){const r=ud(e,t,n);for(const s in e)if(De(e[s])||De(t[s])){const i=qr.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const Gb=M0({scrapeMotionValuesFromProps:O0,createRenderState:A0}),Jb=Symbol.for("motionComponentSymbol");function _r(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Qb(e,t,n){return k.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):_r(n)&&(n.current=r))},[t])}const dd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Xb="framerAppearId",L0="data-"+dd(Xb),I0=k.createContext({});function Yb(e,t,n,r,s){var x,S;const{visualElement:i}=k.useContext(ha),o=k.useContext(j0),a=k.useContext(Du),l=k.useContext(S0).reducedMotion,c=k.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=k.useContext(I0);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&Zb(c.current,n,s,h);const f=k.useRef(!1);k.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const g=n[L0],v=k.useRef(!!g&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,g))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,g)));return Cw(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),k.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,g)}),v.current=!1))}),d}function Zb(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:D0(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&_r(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function D0(e){if(e)return e.options.allowProjection!==!1?e.projection:D0(e.parent)}function rl(e,{forwardMotionProps:t=!1}={},n,r){n&&Nb(n);const s=ld(e)?Gb:Kb;function i(a,l){let c;const d={...k.useContext(S0),...a,layoutId:e_(a)},{isStatic:h}=d,f=Ab(a),g=s(a,h);if(!h&&Iu){t_();const v=n_(d);c=v.MeasureLayout,f.visualElement=Yb(e,g,d,r,v.ProjectionNode)}return u.jsxs(ha.Provider,{value:f,children:[c&&f.visualElement?u.jsx(c,{visualElement:f.visualElement,...d}):null,Wb(e,a,Qb(g,f.visualElement,l),g,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=k.forwardRef(i);return o[Jb]=e,o}function e_({layoutId:e}){const t=k.useContext(Og).id;return t&&e!==void 0?t+"-"+e:e}function t_(e,t){k.useContext(j0).strict}function n_(e){const{drag:t,layout:n}=Ur;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function r_(e,t){if(typeof Proxy>"u")return rl;const n=new Map,r=(i,o)=>rl(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,rl(o,void 0,e,t)),n.get(o))})}function $0({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function s_({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function i_(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function sl(e){return e===void 0||e===1}function kc({scale:e,scaleX:t,scaleY:n}){return!sl(e)||!sl(t)||!sl(n)}function Ln(e){return kc(e)||V0(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function V0(e){return ef(e.x)||ef(e.y)}function ef(e){return e&&e!=="0%"}function Ho(e,t,n){const r=e-n,s=t*r;return n+s}function tf(e,t,n,r,s){return s!==void 0&&(e=Ho(e,s,r)),Ho(e,n,r)+t}function Sc(e,t=0,n=1,r,s){e.min=tf(e.min,t,n,r,s),e.max=tf(e.max,t,n,r,s)}function U0(e,{x:t,y:n}){Sc(e.x,t.translate,t.scale,t.originPoint),Sc(e.y,n.translate,n.scale,n.originPoint)}const nf=.999999999999,rf=1.0000000000001;function o_(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Sr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,U0(e,o)),r&&Ln(i.latestValues)&&Sr(e,i.latestValues))}t.x<rf&&t.x>nf&&(t.x=1),t.y<rf&&t.y>nf&&(t.y=1)}function kr(e,t){e.min=e.min+t,e.max=e.max+t}function sf(e,t,n,r,s=.5){const i=ce(e.min,e.max,s);Sc(e,t,n,i,r)}function Sr(e,t){sf(e.x,t.x,t.scaleX,t.scale,t.originX),sf(e.y,t.y,t.scaleY,t.scale,t.originY)}function F0(e,t){return $0(i_(e.getBoundingClientRect(),t))}function a_(e,t,n){const r=F0(e,n),{scroll:s}=t;return s&&(kr(r.x,s.offset.x),kr(r.y,s.offset.y)),r}const of=()=>({translate:0,scale:1,origin:0,originPoint:0}),jr=()=>({x:of(),y:of()}),af=()=>({min:0,max:0}),ge=()=>({x:af(),y:af()}),jc={current:null},z0={current:!1};function l_(){if(z0.current=!0,!!Iu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>jc.current=e.matches;e.addEventListener("change",t),t()}else jc.current=!1}const c_=new WeakMap;function u_(e,t,n){for(const r in t){const s=t[r],i=n[r];if(De(s))e.addValue(r,s);else if(De(i))e.addValue(r,Vr(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Vr(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const lf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class d_{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zu,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Ge.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,oe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=ma(n),this.isVariantNode=T0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const g=h[f];l[f]!==void 0&&De(g)&&g.set(l[f],!1)}}mount(t){this.current=t,c_.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),z0.current||l_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),bn(this.notifyUpdate),bn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Kr.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&oe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ur){const n=Ur[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lf.length;r++){const s=lf[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=u_(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Vr(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Lg(r)||Dg(r))?r=parseFloat(r):!Sb(r)&&_n.test(n)&&(r=v0(t,n)),this.setBaseTarget(t,De(r)?r.get():r)),De(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=cd(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!De(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Fu),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){nd.render(this.render)}}class B0 extends d_{constructor(){super(...arguments),this.KeyframeResolver=db}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;De(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function W0(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function h_(e){return window.getComputedStyle(e)}class f_ extends B0{constructor(){super(...arguments),this.type="html",this.renderInstance=W0}readValueFromInstance(t,n){var r;if(Kr.has(n))return(r=this.projection)!=null&&r.isProjecting?yc(n):P1(t,n);{const s=h_(t),i=(Wu(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return F0(t,n)}build(t,n,r){od(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return ud(t,n,r)}}const H0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function m_(e,t,n,r){W0(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(H0.has(s)?s:dd(s),t.attrs[s])}class p_ extends B0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ge}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Kr.has(n)){const r=y0(n);return r&&r.default||0}return n=H0.has(n)?n:dd(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return O0(t,n,r)}build(t,n,r){P0(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){m_(t,n,r,s)}mount(t){this.isSVGTag=R0(t.tagName),super.mount(t)}}const g_=(e,t)=>ld(e)?new p_(t):new f_(t,{allowProjection:e!==k.Fragment});function oi(e,t,n){const r=e.getProps();return cd(r,t,n!==void 0?n:r.custom,e)}const Nc=e=>Array.isArray(e);function y_(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Vr(n))}function v_(e){return Nc(e)?e[e.length-1]||0:e}function x_(e,t){const n=oi(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=v_(i[o]);y_(e,o,a)}}function w_(e){return!!(De(e)&&e.add)}function Tc(e,t){const n=e.getValue("willChange");if(w_(n))return n.add(t);if(!n&&Jt.WillChange){const r=new Jt.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function q0(e){return e.props[L0]}const b_=e=>e!==null;function __(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(b_),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const k_={type:"spring",stiffness:500,damping:25,restSpeed:10},S_=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),j_={type:"keyframes",duration:.8},N_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},T_=(e,{keyframes:t})=>t.length>2?j_:Kr.has(e)?e.startsWith("scale")?S_(t[1]):k_:N_;function C_({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const hd=(e,t,n,r={},s,i)=>o=>{const a=ed(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Mt(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};C_(a)||Object.assign(d,T_(e,d)),d.duration&&(d.duration=Mt(d.duration)),d.repeatDelay&&(d.repeatDelay=Mt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(Jt.instantAnimations||Jt.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&t.get()!==void 0){const f=__(d.keyframes,a);if(f!==void 0){oe.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new Yu(d):new Z1(d)};function E_({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function K0(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const d in a){const h=e.getValue(d,e.latestValues[d]??null),f=a[d];if(f===void 0||c&&E_(c,d))continue;const g={delay:n,...ed(i||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===v&&!g.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const y=q0(e);if(y){const m=window.MotionHandoffAnimation(y,d,oe);m!==null&&(g.startTime=m,x=!0)}}Tc(e,d),h.start(hd(d,h,f,e.shouldReduceMotion&&m0.has(d)?{type:!1}:g,e,x));const S=h.animation;S&&l.push(S)}return o&&Promise.all(l).then(()=>{oe.update(()=>{o&&x_(e,o)})}),l}function Cc(e,t,n={}){var l;const r=oi(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(K0(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return P_(e,t,c,d,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function P_(e,t,n=0,r=0,s=0,i=1,o){const a=[],l=e.variantChildren.size,c=(l-1)*s,d=typeof r=="function",h=d?f=>r(f,l):i===1?(f=0)=>f*s:(f=0)=>c-f*s;return Array.from(e.variantChildren).sort(A_).forEach((f,g)=>{f.notify("AnimationStart",t),a.push(Cc(f,t,{...o,delay:n+(d?0:r)+h(g)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(a)}function A_(e,t){return e.sortNodePosition(t)}function R_(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Cc(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Cc(e,t,n);else{const s=typeof t=="function"?oi(e,t,n.custom):t;r=Promise.all(K0(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function G0(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const M_=id.length;function J0(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?J0(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<M_;n++){const r=id[n],s=e.props[r];(si(s)||s===!1)&&(t[r]=s)}return t}const O_=[...sd].reverse(),L_=sd.length;function I_(e){return t=>Promise.all(t.map(({animation:n,options:r})=>R_(e,n,r)))}function D_(e){let t=I_(e),n=cf(),r=!0;const s=l=>(c,d)=>{var f;const h=oi(e,d,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:g,transitionEnd:v,...x}=h;c={...c,...x,...v}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,d=J0(e.parent)||{},h=[],f=new Set;let g={},v=1/0;for(let S=0;S<L_;S++){const y=O_[S],m=n[y],p=c[y]!==void 0?c[y]:d[y],w=si(p),_=y===l?m.isActive:null;_===!1&&(v=S);let j=p===d[y]&&p!==c[y]&&w;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),m.protectedKeys={...g},!m.isActive&&_===null||!p&&!m.prevProp||fa(p)||typeof p=="boolean")continue;const N=$_(m.prevProp,p);let b=N||y===l&&m.isActive&&!j&&w||S>v&&w,T=!1;const A=Array.isArray(p)?p:[p];let U=A.reduce(s(y),{});_===!1&&(U={});const{prevResolvedValues:X={}}=m,he={...X,...U},pe=K=>{b=!0,f.has(K)&&(T=!0,f.delete(K)),m.needsAnimating[K]=!0;const C=e.getValue(K);C&&(C.liveStyle=!1)};for(const K in he){const C=U[K],I=X[K];if(g.hasOwnProperty(K))continue;let D=!1;Nc(C)&&Nc(I)?D=!G0(C,I):D=C!==I,D?C!=null?pe(K):f.add(K):C!==void 0&&f.has(K)?pe(K):m.protectedKeys[K]=!0}m.prevProp=p,m.prevResolvedValues=U,m.isActive&&(g={...g,...U}),r&&e.blockInitialAnimation&&(b=!1),b&&(!(j&&N)||T)&&h.push(...A.map(K=>({animation:K,options:{type:y}})))}if(f.size){const S={};if(typeof c.initial!="boolean"){const y=oi(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(S.transition=y.transition)}f.forEach(y=>{const m=e.getBaseTarget(y),p=e.getValue(y);p&&(p.liveStyle=!0),S[y]=m??null}),h.push({animation:S})}let x=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var g;return(g=f.animationState)==null?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=cf(),r=!0}}}function $_(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!G0(t,e):!1}function Pn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cf(){return{animate:Pn(!0),whileInView:Pn(),whileHover:Pn(),whileTap:Pn(),whileDrag:Pn(),whileFocus:Pn(),exit:Pn()}}class Nn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class V_ extends Nn{constructor(t){super(t),t.animationState||(t.animationState=D_(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();fa(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let U_=0;class F_ extends Nn{constructor(){super(...arguments),this.id=U_++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const z_={animation:{Feature:V_},exit:{Feature:F_}};function ai(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function yi(e){return{point:{x:e.pageX,y:e.pageY}}}const B_=e=>t=>rd(t)&&e(t,yi(t));function Es(e,t,n,r){return ai(e,t,B_(n),r)}const Q0=1e-4,W_=1-Q0,H_=1+Q0,X0=.01,q_=0-X0,K_=0+X0;function Ue(e){return e.max-e.min}function G_(e,t,n){return Math.abs(e-t)<=n}function uf(e,t,n,r=.5){e.origin=r,e.originPoint=ce(t.min,t.max,e.origin),e.scale=Ue(n)/Ue(t),e.translate=ce(n.min,n.max,e.origin)-e.originPoint,(e.scale>=W_&&e.scale<=H_||isNaN(e.scale))&&(e.scale=1),(e.translate>=q_&&e.translate<=K_||isNaN(e.translate))&&(e.translate=0)}function Ps(e,t,n,r){uf(e.x,t.x,n.x,r?r.originX:void 0),uf(e.y,t.y,n.y,r?r.originY:void 0)}function df(e,t,n){e.min=n.min+t.min,e.max=e.min+Ue(t)}function J_(e,t,n){df(e.x,t.x,n.x),df(e.y,t.y,n.y)}function hf(e,t,n){e.min=t.min-n.min,e.max=e.min+Ue(t)}function As(e,t,n){hf(e.x,t.x,n.x),hf(e.y,t.y,n.y)}function ot(e){return[e("x"),e("y")]}const Y0=({current:e})=>e?e.ownerDocument.defaultView:null,ff=(e,t)=>Math.abs(e-t);function Q_(e,t){const n=ff(e.x,t.x),r=ff(e.y,t.y);return Math.sqrt(n**2+r**2)}class Z0{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ol(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=Q_(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:x}=f,{timestamp:S}=Pe;this.history.push({...x,timestamp:S});const{onStart:y,onMove:m}=this.handlers;g||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,f)},this.handlePointerMove=(f,g)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=il(g,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(f,g)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ol(f.type==="pointercancel"?this.lastMoveEventInfo:il(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,y),x&&x(f,y)},!rd(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=yi(t),l=il(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=Pe;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,ol(l,this.history)),this.removeListeners=mi(Es(this.contextWindow,"pointermove",this.handlePointerMove),Es(this.contextWindow,"pointerup",this.handlePointerUp),Es(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),bn(this.updatePoint)}}function il(e,t){return t?{point:t(e.point)}:e}function mf(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ol({point:e},t){return{point:e,delta:mf(e,ey(t)),offset:mf(e,X_(t)),velocity:Y_(t,.1)}}function X_(e){return e[0]}function ey(e){return e[e.length-1]}function Y_(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=ey(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Mt(t)));)n--;if(!r)return{x:0,y:0};const i=Ot(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Z_(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ce(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ce(n,e,r.max):Math.min(e,n)),e}function pf(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function ek(e,{top:t,left:n,bottom:r,right:s}){return{x:pf(e.x,n,s),y:pf(e.y,t,r)}}function gf(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function tk(e,t){return{x:gf(e.x,t.x),y:gf(e.y,t.y)}}function nk(e,t){let n=.5;const r=Ue(e),s=Ue(t);return s>r?n=ti(t.min,t.max-r,e.min):r>s&&(n=ti(e.min,e.max-s,t.min)),Gt(0,1,n)}function rk(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ec=.35;function sk(e=Ec){return e===!1?e=0:e===!0&&(e=Ec),{x:yf(e,"left","right"),y:yf(e,"top","bottom")}}function yf(e,t,n){return{min:vf(e,t),max:vf(e,n)}}function vf(e,t){return typeof e=="number"?e:e[t]||0}const ik=new WeakMap;class ok{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yi(h).point)},o=(h,f)=>{const{drag:g,dragPropagation:v,onDragStart:x}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gb(g),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ot(y=>{let m=this.getAxisMotionValue(y).get()||0;if(Lt.test(m)){const{projection:p}=this.visualElement;if(p&&p.layout){const w=p.layout.layoutBox[y];w&&(m=Ue(w)*(parseFloat(m)/100))}}this.originPoint[y]=m}),x&&oe.postRender(()=>x(h,f)),Tc(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:x,onDrag:S}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:y}=f;if(v&&this.currentDirection===null){this.currentDirection=ak(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),S&&S(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>ot(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Z0(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:Y0(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&oe.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!zi(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Z_(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&_r(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=ek(r.layoutBox,t):this.constraints=!1,this.elastic=sk(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ot(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=rk(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!_r(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=a_(r,s.root,this.visualElement.getTransformPagePoint());let o=tk(s.layout.layoutBox,i);if(n){const a=n(s_(o));this.hasMutatedConstraints=!!a,a&&(o=$0(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ot(d=>{if(!zi(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Tc(this.visualElement,t),r.start(hd(t,r,0,n,this.visualElement,!1))}stopAnimation(){ot(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ot(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ot(n=>{const{drag:r}=this.getProps();if(!zi(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-ce(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!_r(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ot(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=nk({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ot(o=>{if(!zi(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ce(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;ik.set(this.visualElement,this);const t=this.visualElement.current,n=Es(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();_r(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),oe.read(r);const o=ai(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ot(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ec,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function zi(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function ak(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class lk extends Nn{constructor(t){super(t),this.removeGroupControls=dt,this.removeListeners=dt,this.controls=new ok(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dt}unmount(){this.removeGroupControls(),this.removeListeners()}}const xf=e=>(t,n)=>{e&&oe.postRender(()=>e(t,n))};class ck extends Nn{constructor(){super(...arguments),this.removePointerDownListener=dt}onPointerDown(t){this.session=new Z0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Y0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:xf(t),onStart:xf(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&oe.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Es(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ls={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($.test(e))e=parseFloat(e);else return e;const n=wf(e,t.target.x),r=wf(e,t.target.y);return`${n}% ${r}%`}},uk={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=_n.parse(e);if(s.length>5)return r;const i=_n.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=ce(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let bf=!1;class dk extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;Rb(hk),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),bf&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),fo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,bf=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||oe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),nd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ty(e){const[t,n]=jb(),r=k.useContext(Og);return u.jsx(dk,{...e,layoutGroup:r,switchLayoutGroup:k.useContext(I0),isPresent:t,safeToRemove:n})}const hk={borderRadius:{...ls,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ls,borderTopRightRadius:ls,borderBottomLeftRadius:ls,borderBottomRightRadius:ls,boxShadow:uk};function fk(e,t,n){const r=De(e)?e:Vr(e);return r.start(hd("",r,t,n)),r.animation}const mk=(e,t)=>e.depth-t.depth;class pk{constructor(){this.children=[],this.isDirty=!1}add(t){$u(this.children,t),this.isDirty=!0}remove(t){Vu(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(mk),this.isDirty=!1,this.children.forEach(t)}}function gk(e,t){const n=Ge.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(bn(r),e(i-t))};return oe.setup(r,!0),()=>bn(r)}const ny=["TopLeft","TopRight","BottomLeft","BottomRight"],yk=ny.length,_f=e=>typeof e=="string"?parseFloat(e):e,kf=e=>typeof e=="number"||$.test(e);function vk(e,t,n,r,s,i){s?(e.opacity=ce(0,n.opacity??1,xk(r)),e.opacityExit=ce(t.opacity??1,0,wk(r))):i&&(e.opacity=ce(t.opacity??1,n.opacity??1,r));for(let o=0;o<yk;o++){const a=`border${ny[o]}Radius`;let l=Sf(t,a),c=Sf(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||kf(l)===kf(c)?(e[a]=Math.max(ce(_f(l),_f(c),r),0),(Lt.test(c)||Lt.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=ce(t.rotate||0,n.rotate||0,r))}function Sf(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const xk=ry(0,.5,Hg),wk=ry(.5,.95,dt);function ry(e,t,n){return r=>r<e?0:r>t?1:n(ti(e,t,r))}function jf(e,t){e.min=t.min,e.max=t.max}function it(e,t){jf(e.x,t.x),jf(e.y,t.y)}function Nf(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Tf(e,t,n,r,s){return e-=t,e=Ho(e,1/n,r),s!==void 0&&(e=Ho(e,1/s,r)),e}function bk(e,t=0,n=1,r=.5,s,i=e,o=e){if(Lt.test(t)&&(t=parseFloat(t),t=ce(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=ce(i.min,i.max,r);e===i&&(a-=t),e.min=Tf(e.min,t,n,a,s),e.max=Tf(e.max,t,n,a,s)}function Cf(e,t,[n,r,s],i,o){bk(e,t[n],t[r],t[s],t.scale,i,o)}const _k=["x","scaleX","originX"],kk=["y","scaleY","originY"];function Ef(e,t,n,r){Cf(e.x,t,_k,n?n.x:void 0,r?r.x:void 0),Cf(e.y,t,kk,n?n.y:void 0,r?r.y:void 0)}function Pf(e){return e.translate===0&&e.scale===1}function sy(e){return Pf(e.x)&&Pf(e.y)}function Af(e,t){return e.min===t.min&&e.max===t.max}function Sk(e,t){return Af(e.x,t.x)&&Af(e.y,t.y)}function Rf(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function iy(e,t){return Rf(e.x,t.x)&&Rf(e.y,t.y)}function Mf(e){return Ue(e.x)/Ue(e.y)}function Of(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class jk{constructor(){this.members=[]}add(t){$u(this.members,t),t.scheduleRender()}remove(t){if(Vu(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Nk(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:g,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const al=["","X","Y","Z"],Tk=1e3;let Ck=0;function ll(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function oy(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=q0(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",oe,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&oy(r)}function ay({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Ck++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ak),this.nodes.forEach(Lk),this.nodes.forEach(Ik),this.nodes.forEach(Rk)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new pk)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Fu),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=k0(o)&&!_b(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;oe.read(()=>{h=window.innerWidth}),e(o,()=>{const g=window.innerWidth;g!==h&&(h=g,this.root.updateBlockedByResize=!0,d&&d(),d=gk(f,250),fo.hasAnimatedSinceResize&&(fo.hasAnimatedSinceResize=!1,this.nodes.forEach(Df)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||Fk,{onLayoutAnimationStart:x,onLayoutAnimationComplete:S}=c.getProps(),y=!this.targetLayout||!iy(this.targetLayout,g),m=!h&&f;if(this.options.layoutRoot||this.resumeFrom||m||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const p={...ed(v,"layout"),onPlay:x,onComplete:S};(c.shouldReduceMotion||this.options.layoutRoot)&&(p.delay=0,p.type=!1),this.startAnimation(p),this.setAnimationOrigin(d,m)}else h||Df(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Dk),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lf);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(If);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ok),this.nodes.forEach(Ek),this.nodes.forEach(Pk)):this.nodes.forEach(If),this.clearAllSnapshots();const a=Ge.now();Pe.delta=Gt(0,1e3/60,a-Pe.timestamp),Pe.timestamp=a,Pe.isProcessing=!0,Xa.update.process(Pe),Xa.preRender.process(Pe),Xa.render.process(Pe),Pe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Mk),this.sharedNodes.forEach($k)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ue(this.snapshot.measuredBox.x)&&!Ue(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!sy(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ln(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),zk(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return ge();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Bk))){const{scroll:d}=this.root;d&&(kr(a.x,d.offset.x),kr(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=ge();if(it(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&it(a,o),kr(a.x,h.offset.x),kr(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=ge();it(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Sr(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ln(d.latestValues)&&Sr(l,d.latestValues)}return Ln(this.latestValues)&&Sr(l,this.latestValues),l}removeTransform(o){const a=ge();it(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ln(c.latestValues))continue;kc(c.latestValues)&&c.updateSnapshot();const d=ge(),h=c.measurePageBox();it(d,h),Ef(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ln(this.latestValues)&&Ef(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Pe.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),As(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),it(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J_(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):it(this.target,this.layout.layoutBox),U0(this.target,this.targetDelta)):it(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),As(this.relativeTargetOrigin,this.target,g.target),it(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||kc(this.parent.latestValues)||V0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Pe.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;it(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;o_(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ge());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Nf(this.prevProjectionDelta.x,this.projectionDelta.x),Nf(this.prevProjectionDelta.y,this.projectionDelta.y)),Ps(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Of(this.projectionDelta.x,this.prevProjectionDelta.x)||!Of(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jr(),this.projectionDelta=jr(),this.projectionDeltaWithTransform=jr()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=jr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ge(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=g!==v,S=this.getStack(),y=!S||S.members.length<=1,m=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(Uk));this.animationProgress=0;let p;this.mixTargetDelta=w=>{const _=w/1e3;$f(h.x,o.x,_),$f(h.y,o.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(As(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vk(this.relativeTarget,this.relativeTargetOrigin,f,_),p&&Sk(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=ge()),it(p,this.relativeTarget)),x&&(this.animationValues=d,vk(d,c,this.latestValues,_,m,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(bn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{fo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vr(0)),this.currentAnimation=fk(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&ly(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ge();const h=Ue(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Ue(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}it(a,l),Sr(a,d),Ps(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new jk),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&ll("z",o,c,this.animationValues);for(let d=0;d<al.length;d++)ll(`rotate${al[d]}`,o,c,this.animationValues),ll(`skew${al[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ho(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ho(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ln(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=Nk(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:f,y:g}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in ii){if(d[v]===void 0)continue;const{correct:x,applyTo:S,isCSSVariable:y}=ii[v],m=h==="none"?d[v]:x(d[v],c);if(S){const p=S.length;for(let w=0;w<p;w++)o[S[w]]=m}else y?this.options.visualElement.renderState.vars[v]=m:o[v]=m}this.options.layoutId&&(o.pointerEvents=c===this?ho(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Lf),this.root.sharedNodes.clear()}}}function Ek(e){e.updateLayout()}function Pk(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?ot(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],g=Ue(f);f.min=r[h].min,f.max=f.min+g}):ly(i,t.layoutBox,r)&&ot(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],g=Ue(r[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const a=jr();Ps(a,r,t.layoutBox);const l=jr();o?Ps(l,e.applyTransform(s,!0),t.measuredBox):Ps(l,r,t.layoutBox);const c=!sy(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const v=ge();As(v,t.layoutBox,f.layoutBox);const x=ge();As(x,r,g.layoutBox),iy(v,x)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Ak(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Rk(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Mk(e){e.clearSnapshot()}function Lf(e){e.clearMeasurements()}function If(e){e.isLayoutDirty=!1}function Ok(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Df(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Lk(e){e.resolveTargetDelta()}function Ik(e){e.calcProjection()}function Dk(e){e.resetSkewAndRotation()}function $k(e){e.removeLeadSnapshot()}function $f(e,t,n){e.translate=ce(t.translate,0,n),e.scale=ce(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Vf(e,t,n,r){e.min=ce(t.min,n.min,r),e.max=ce(t.max,n.max,r)}function Vk(e,t,n,r){Vf(e.x,t.x,n.x,r),Vf(e.y,t.y,n.y,r)}function Uk(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Fk={duration:.45,ease:[.4,0,.1,1]},Uf=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ff=Uf("applewebkit/")&&!Uf("chrome/")?Math.round:dt;function zf(e){e.min=Ff(e.min),e.max=Ff(e.max)}function zk(e){zf(e.x),zf(e.y)}function ly(e,t,n){return e==="position"||e==="preserve-aspect"&&!G_(Mf(t),Mf(n),.2)}function Bk(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Wk=ay({attachResizeListener:(e,t)=>ai(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cl={current:void 0},cy=ay({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!cl.current){const e=new Wk({});e.mount(window),e.setOptions({layoutScroll:!0}),cl.current=e}return cl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Hk={pan:{Feature:ck},drag:{Feature:lk,ProjectionNode:cy,MeasureLayout:ty}};function Bf(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&oe.postRender(()=>i(t,yi(t)))}class qk extends Nn{mount(){const{current:t}=this.node;t&&(this.unmount=yb(t,(n,r)=>(Bf(this.node,r,"Start"),s=>Bf(this.node,s,"End"))))}unmount(){}}class Kk extends Nn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mi(ai(this.node.current,"focus",()=>this.onFocus()),ai(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Wf(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&oe.postRender(()=>i(t,yi(t)))}class Gk extends Nn{mount(){const{current:t}=this.node;t&&(this.unmount=bb(t,(n,r)=>(Wf(this.node,r,"Start"),(s,{success:i})=>Wf(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pc=new WeakMap,ul=new WeakMap,Jk=e=>{const t=Pc.get(e.target);t&&t(e)},Qk=e=>{e.forEach(Jk)};function Xk({root:e,...t}){const n=e||document;ul.has(n)||ul.set(n,{});const r=ul.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Qk,{root:e,...t})),r[s]}function Yk(e,t,n){const r=Xk(t);return Pc.set(e,n),r.observe(e),()=>{Pc.delete(e),r.unobserve(e)}}const Zk={some:0,all:1};class eS extends Nn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Zk[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return Yk(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(tS(t,n))&&this.startObserver()}unmount(){}}function tS({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const nS={inView:{Feature:eS},tap:{Feature:Gk},focus:{Feature:Kk},hover:{Feature:qk}},rS={layout:{ProjectionNode:cy,MeasureLayout:ty}},sS={...z_,...nS,...Hk,...rS},iS=r_(sS,g_);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),H=(e,t)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>k.createElement("svg",{ref:d,...oS,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${aS(e)}`,a].join(" "),...c},[...t.map(([h,f])=>k.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=H("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=H("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=H("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=H("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=H("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=H("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=H("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=H("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=H("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=H("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=H("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=H("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=H("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=H("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=H("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=H("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=H("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=H("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=H("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=H("MoveRight",[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=H("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=H("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=H("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=H("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=H("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=H("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=H("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=H("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=H("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=H("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Jf(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jS(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Jf(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Jf(e[s],null)}}}}function NS(e){const t=CS(e),n=k.forwardRef((r,s)=>{const{children:i,...o}=r,a=k.Children.toArray(i),l=a.find(PS);if(l){const c=l.props.children,d=a.map(h=>h===l?k.Children.count(c)>1?k.Children.only(null):k.isValidElement(c)?c.props.children:null:h);return u.jsx(t,{...o,ref:s,children:k.isValidElement(c)?k.cloneElement(c,void 0,d):null})}return u.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var TS=NS("Slot");function CS(e){const t=k.forwardRef((n,r)=>{const{children:s,...i}=n;if(k.isValidElement(s)){const o=RS(s),a=AS(i,s.props);return s.type!==k.Fragment&&(a.ref=r?jS(r,o):o),k.cloneElement(s,a)}return k.Children.count(s)>1?k.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ES=Symbol("radix.slottable");function PS(e){return k.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ES}function AS(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function RS(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function py(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=py(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function gy(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=py(e))&&(r&&(r+=" "),r+=t);return r}const Qf=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Xf=gy,MS=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Xf(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const f=Qf(d)||Qf(h);return s[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...g}=d;return Object.entries(g).every(v=>{let[x,S]=v;return Array.isArray(S)?S.includes({...i,...a}[x]):{...i,...a}[x]===S})?[...c,h,f]:c},[]);return Xf(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},md="-",OS=e=>{const t=IS(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(md);return a[0]===""&&a.length!==1&&a.shift(),yy(a,t)||LS(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},yy=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?yy(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(md);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Yf=/^\[(.+)\]$/,LS=e=>{if(Yf.test(e)){const t=Yf.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},IS=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)Ac(n[s],r,s,t);return r},Ac=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Zf(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(DS(s)){Ac(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Ac(o,Zf(t,i),n,r)})})},Zf=(e,t)=>{let n=e;return t.split(md).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},DS=e=>e.isThemeGetter,$S=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Rc="!",Mc=":",VS=Mc.length,US=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const i=[];let o=0,a=0,l=0,c;for(let v=0;v<s.length;v++){let x=s[v];if(o===0&&a===0){if(x===Mc){i.push(s.slice(l,v)),l=v+VS;continue}if(x==="/"){c=v;continue}}x==="["?o++:x==="]"?o--:x==="("?a++:x===")"&&a--}const d=i.length===0?s:s.substring(l),h=FS(d),f=h!==d,g=c&&c>l?c-l:void 0;return{modifiers:i,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}};if(t){const s=t+Mc,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},FS=e=>e.endsWith(Rc)?e.substring(0,e.length-1):e.startsWith(Rc)?e.substring(1):e,zS=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||t[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},BS=e=>({cache:$S(e.cacheSize),parseClassName:US(e),sortModifiers:zS(e),...OS(e)}),WS=/\s+/,HS=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],a=e.trim().split(WS);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{isExternal:h,modifiers:f,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:x}=n(d);if(h){l=d+(l.length>0?" "+l:l);continue}let S=!!x,y=r(S?v.substring(0,x):v);if(!y){if(!S){l=d+(l.length>0?" "+l:l);continue}if(y=r(v),!y){l=d+(l.length>0?" "+l:l);continue}S=!1}const m=i(f).join(":"),p=g?m+Rc:m,w=p+y;if(o.includes(w))continue;o.push(w);const _=s(y,S);for(let j=0;j<_.length;++j){const N=_[j];o.push(p+N)}l=d+(l.length>0?" "+l:l)}return l};function qS(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=vy(t))&&(r&&(r+=" "),r+=n);return r}const vy=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=vy(e[r]))&&(n&&(n+=" "),n+=t);return n};function KS(e,...t){let n,r,s,i=o;function o(l){const c=t.reduce((d,h)=>h(d),e());return n=BS(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=HS(l,n);return s(l,d),d}return function(){return i(qS.apply(null,arguments))}}const be=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},xy=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,wy=/^\((?:(\w[\w-]*):)?(.+)\)$/i,GS=/^\d+\/\d+$/,JS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,YS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rr=e=>GS.test(e),F=e=>!!e&&!Number.isNaN(Number(e)),Zt=e=>!!e&&Number.isInteger(Number(e)),dl=e=>e.endsWith("%")&&F(e.slice(0,-1)),It=e=>JS.test(e),ej=()=>!0,tj=e=>QS.test(e)&&!XS.test(e),by=()=>!1,nj=e=>YS.test(e),rj=e=>ZS.test(e),sj=e=>!M(e)&&!O(e),ij=e=>Jr(e,Sy,by),M=e=>xy.test(e),An=e=>Jr(e,jy,tj),hl=e=>Jr(e,uj,F),em=e=>Jr(e,_y,by),oj=e=>Jr(e,ky,rj),Wi=e=>Jr(e,Ny,nj),O=e=>wy.test(e),cs=e=>Qr(e,jy),aj=e=>Qr(e,dj),tm=e=>Qr(e,_y),lj=e=>Qr(e,Sy),cj=e=>Qr(e,ky),Hi=e=>Qr(e,Ny,!0),Jr=(e,t,n)=>{const r=xy.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Qr=(e,t,n=!1)=>{const r=wy.exec(e);return r?r[1]?t(r[1]):n:!1},_y=e=>e==="position"||e==="percentage",ky=e=>e==="image"||e==="url",Sy=e=>e==="length"||e==="size"||e==="bg-size",jy=e=>e==="length",uj=e=>e==="number",dj=e=>e==="family-name",Ny=e=>e==="shadow",hj=()=>{const e=be("color"),t=be("font"),n=be("text"),r=be("font-weight"),s=be("tracking"),i=be("leading"),o=be("breakpoint"),a=be("container"),l=be("spacing"),c=be("radius"),d=be("shadow"),h=be("inset-shadow"),f=be("text-shadow"),g=be("drop-shadow"),v=be("blur"),x=be("perspective"),S=be("aspect"),y=be("ease"),m=be("animate"),p=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...w(),O,M],j=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],b=()=>[O,M,l],T=()=>[rr,"full","auto",...b()],A=()=>[Zt,"none","subgrid",O,M],U=()=>["auto",{span:["full",Zt,O,M]},Zt,O,M],X=()=>[Zt,"auto",O,M],he=()=>["auto","min","max","fr",O,M],pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Se=()=>["start","end","center","stretch","center-safe","end-safe"],Ce=()=>["auto",...b()],K=()=>[rr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],C=()=>[e,O,M],I=()=>[...w(),tm,em,{position:[O,M]}],D=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",lj,ij,{size:[O,M]}],Y=()=>[dl,cs,An],ae=()=>["","none","full",c,O,M],se=()=>["",F,cs,An],Tt=()=>["solid","dashed","dotted","double"],st=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[F,dl,tm,em],bi=()=>["","none",v,O,M],Cn=()=>["none",F,O,M],Xt=()=>["none",F,O,M],Zr=()=>[F,O,M],En=()=>[rr,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[It],breakpoint:[It],color:[ej],container:[It],"drop-shadow":[It],ease:["in","out","in-out"],font:[sj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[It],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[It],shadow:[It],spacing:["px",F],text:[It],"text-shadow":[It],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",rr,M,O,S]}],container:["container"],columns:[{columns:[F,M,O,a]}],"break-after":[{"break-after":p()}],"break-before":[{"break-before":p()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[Zt,"auto",O,M]}],basis:[{basis:[rr,"full","auto",a,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[F,rr,"auto","initial","none",M]}],grow:[{grow:["",F,O,M]}],shrink:[{shrink:["",F,O,M]}],order:[{order:[Zt,"first","last","none",O,M]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":he()}],"auto-rows":[{"auto-rows":he()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:[...pe(),"normal"]}],"justify-items":[{"justify-items":[...Se(),"normal"]}],"justify-self":[{"justify-self":["auto",...Se()]}],"align-content":[{content:["normal",...pe()]}],"align-items":[{items:[...Se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Se(),{baseline:["","last"]}]}],"place-content":[{"place-content":pe()}],"place-items":[{"place-items":[...Se(),"baseline"]}],"place-self":[{"place-self":["auto",...Se()]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:Ce()}],mx:[{mx:Ce()}],my:[{my:Ce()}],ms:[{ms:Ce()}],me:[{me:Ce()}],mt:[{mt:Ce()}],mr:[{mr:Ce()}],mb:[{mb:Ce()}],ml:[{ml:Ce()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[a,"screen",...K()]}],"min-w":[{"min-w":[a,"screen","none",...K()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",n,cs,An]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,O,hl]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dl,M]}],"font-family":[{font:[aj,M,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,O,M]}],"line-clamp":[{"line-clamp":[F,"none",O,hl]}],leading:[{leading:[i,...b()]}],"list-image":[{"list-image":["none",O,M]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",O,M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Tt(),"wavy"]}],"text-decoration-thickness":[{decoration:[F,"from-font","auto",O,An]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[F,"auto",O,M]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",O,M]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",O,M]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:I()}],"bg-repeat":[{bg:D()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Zt,O,M],radial:["",O,M],conic:[Zt,O,M]},cj,oj]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Tt(),"hidden","none"]}],"divide-style":[{divide:[...Tt(),"hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:[...Tt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[F,O,M]}],"outline-w":[{outline:["",F,cs,An]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",d,Hi,Wi]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",h,Hi,Wi]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[F,An]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",f,Hi,Wi]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[F,O,M]}],"mix-blend":[{"mix-blend":[...st(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":st()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[F]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[O,M]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[F]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:I()}],"mask-repeat":[{mask:D()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",O,M]}],filter:[{filter:["","none",O,M]}],blur:[{blur:bi()}],brightness:[{brightness:[F,O,M]}],contrast:[{contrast:[F,O,M]}],"drop-shadow":[{"drop-shadow":["","none",g,Hi,Wi]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",F,O,M]}],"hue-rotate":[{"hue-rotate":[F,O,M]}],invert:[{invert:["",F,O,M]}],saturate:[{saturate:[F,O,M]}],sepia:[{sepia:["",F,O,M]}],"backdrop-filter":[{"backdrop-filter":["","none",O,M]}],"backdrop-blur":[{"backdrop-blur":bi()}],"backdrop-brightness":[{"backdrop-brightness":[F,O,M]}],"backdrop-contrast":[{"backdrop-contrast":[F,O,M]}],"backdrop-grayscale":[{"backdrop-grayscale":["",F,O,M]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[F,O,M]}],"backdrop-invert":[{"backdrop-invert":["",F,O,M]}],"backdrop-opacity":[{"backdrop-opacity":[F,O,M]}],"backdrop-saturate":[{"backdrop-saturate":[F,O,M]}],"backdrop-sepia":[{"backdrop-sepia":["",F,O,M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",O,M]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[F,"initial",O,M]}],ease:[{ease:["linear","initial",y,O,M]}],delay:[{delay:[F,O,M]}],animate:[{animate:["none",m,O,M]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,O,M]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:Cn()}],"rotate-x":[{"rotate-x":Cn()}],"rotate-y":[{"rotate-y":Cn()}],"rotate-z":[{"rotate-z":Cn()}],scale:[{scale:Xt()}],"scale-x":[{"scale-x":Xt()}],"scale-y":[{"scale-y":Xt()}],"scale-z":[{"scale-z":Xt()}],"scale-3d":["scale-3d"],skew:[{skew:Zr()}],"skew-x":[{"skew-x":Zr()}],"skew-y":[{"skew-y":Zr()}],transform:[{transform:[O,M,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:En()}],"translate-x":[{"translate-x":En()}],"translate-y":[{"translate-y":En()}],"translate-z":[{"translate-z":En()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",O,M]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",O,M]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[F,cs,An,hl]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},fj=KS(hj);function mj(...e){return fj(gy(e))}const pj=MS("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),mo=k.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?TS:"button";return u.jsx(o,{className:mj(pj({variant:t,size:n,className:e})),ref:i,...s})});mo.displayName="Button";function gj({onLoginClick:e}){const[t,n]=k.useState(0),r=k.useMemo(()=>["trazable","medible","inteligente","eficaz","eficiente","sustentable"],[]),s=["text-red-500","text-green-500","text-yellow-500","text-blue-500","text-purple-500","text-pink-500","text-indigo-500","text-emerald-500","text-orange-500"],i=k.useMemo(()=>{const a=[...s];return r.map(()=>{const l=Math.floor(Math.random()*a.length);return a.splice(l,1)[0]||"text-blue-500"})},[r]);k.useEffect(()=>{const a=setTimeout(()=>{n(l=>(l+1)%r.length)},2500);return()=>clearTimeout(a)},[t,r.length]);const o=()=>{console.log("Login button clicked!"),e()};return u.jsx("div",{className:"w-full",children:u.jsx("div",{className:"container mx-auto",children:u.jsxs("div",{className:"flex gap-8 py-20 lg:py-40 items-center justify-center flex-col",children:[u.jsx("div",{children:u.jsxs(mo,{variant:"secondary",size:"sm",className:"gap-4",children:["Lee nuestro artículo ",u.jsx(qf,{className:"w-4 h-4"})]})}),u.jsxs("div",{className:"flex gap-4 flex-col",children:[u.jsxs("h1",{className:"text-5xl md:text-7xl max-w-2xl tracking-tighter text-center font-regular",children:[u.jsx("span",{className:"text-black-600",children:"La Red Hospitalaria es"}),u.jsxs("span",{className:"relative flex w-full justify-center overflow-hidden text-center md:pb-4 md:pt-1",children:[" ",r.map((a,l)=>u.jsx(iS.span,{className:`absolute font-semibold ${i[l]}`,initial:{opacity:0,y:"-100"},transition:{type:"spring",stiffness:50},animate:t===l?{y:0,opacity:1}:{y:t>l?-150:150,opacity:0},children:a},l))]})]}),u.jsx("p",{className:"text-lg md:text-xl leading-relaxed tracking-tight text-muted-foreground max-w-2xl text-center",children:"Innovación Colaborativa para el Intercambio y Distribución Responsable de Medicamentos en el Sistema de Salud Mexicano."})]}),u.jsxs("div",{className:"flex flex-row gap-3",children:[u.jsxs(mo,{size:"lg",className:"gap-4",variant:"outline",children:["¿Cómo Funciona? ",u.jsx(yS,{className:"w-4 h-4"})]}),u.jsxs(mo,{size:"lg",className:"gap-4 bg-black text-white",onClick:o,children:["Inicia Sesión ",u.jsx(qf,{className:"w-4 h-4"})]})]})]})})})}function yj({onLoginClick:e}){return u.jsx("div",{className:"block",children:u.jsx(gj,{onLoginClick:e})})}const vj="modulepreload",xj=function(e){return"/"+e},nm={},vi=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=xj(l),l in nm)return;nm[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":vj,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},wj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vi(async()=>{const{default:r}=await Promise.resolve().then(()=>Xr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class pd extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class bj extends pd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class rm extends pd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class sm extends pd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Oc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Oc||(Oc={}));var _j=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class kj{constructor(t,{headers:n={},customFetch:r,region:s=Oc.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=wj(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return _j(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(x=>{throw new bj(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new rm(h);if(!h.ok)throw new sm(h);let g=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield h.json():g==="application/octet-stream"?v=yield h.blob():g==="text/event-stream"?v=h:g==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof sm||s instanceof rm?s.context:void 0}}})}}var qe={},gd={},ga={},xi={},ya={},va={},Sj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fr=Sj();const jj=Fr.fetch,Ty=Fr.fetch.bind(Fr),Cy=Fr.Headers,Nj=Fr.Request,Tj=Fr.Response,Xr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Cy,Request:Nj,Response:Tj,default:Ty,fetch:jj},Symbol.toStringTag,{value:"Module"})),Cj=ev(Xr);var xa={};Object.defineProperty(xa,"__esModule",{value:!0});let Ej=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};xa.default=Ej;var Ey=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(va,"__esModule",{value:!0});const Pj=Ey(Cj),Aj=Ey(xa);let Rj=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Pj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),S=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&S&&S.length>1&&(h=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{c=JSON.parse(x),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,g="OK")}catch{i.status===404&&x===""?(f=204,g="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,g="OK"),c&&this.shouldThrowOnError)throw new Aj.default(c)}return{error:c,data:d,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};va.default=Rj;var Mj=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ya,"__esModule",{value:!0});const Oj=Mj(va);let Lj=class extends Oj.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ya.default=Lj;var Ij=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xi,"__esModule",{value:!0});const Dj=Ij(ya);let $j=class extends Dj.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};xi.default=$j;var Vj=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ga,"__esModule",{value:!0});const us=Vj(xi);let Uj=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new us.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new us.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new us.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new us.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new us.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ga.default=Uj;var wa={},ba={};Object.defineProperty(ba,"__esModule",{value:!0});ba.version=void 0;ba.version="0.0.0-automated";Object.defineProperty(wa,"__esModule",{value:!0});wa.DEFAULT_HEADERS=void 0;const Fj=ba;wa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Fj.version}`};var Py=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gd,"__esModule",{value:!0});const zj=Py(ga),Bj=Py(xi),Wj=wa;let Hj=class Ay{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Wj.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new zj.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ay(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Bj.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};gd.default=Hj;var Yr=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qe,"__esModule",{value:!0});qe.PostgrestError=qe.PostgrestBuilder=qe.PostgrestTransformBuilder=qe.PostgrestFilterBuilder=qe.PostgrestQueryBuilder=qe.PostgrestClient=void 0;const Ry=Yr(gd);qe.PostgrestClient=Ry.default;const My=Yr(ga);qe.PostgrestQueryBuilder=My.default;const Oy=Yr(xi);qe.PostgrestFilterBuilder=Oy.default;const Ly=Yr(ya);qe.PostgrestTransformBuilder=Ly.default;const Iy=Yr(va);qe.PostgrestBuilder=Iy.default;const Dy=Yr(xa);qe.PostgrestError=Dy.default;var qj=qe.default={PostgrestClient:Ry.default,PostgrestQueryBuilder:My.default,PostgrestFilterBuilder:Oy.default,PostgrestTransformBuilder:Ly.default,PostgrestBuilder:Iy.default,PostgrestError:Dy.default};const{PostgrestClient:Kj,PostgrestQueryBuilder:eT,PostgrestFilterBuilder:tT,PostgrestTransformBuilder:nT,PostgrestBuilder:rT,PostgrestError:sT}=qj;function Gj(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Jj=Gj(),Qj="2.11.15",Xj=`realtime-js/${Qj}`,Yj="1.0.0",$y=1e4,Zj=1e3;var Os;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Os||(Os={}));var Le;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Le||(Le={}));var bt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(bt||(bt={}));var Lc;(function(e){e.websocket="websocket"})(Lc||(Lc={}));var Dn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Dn||(Dn={}));class e2{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Vy{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Z;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Z||(Z={}));const im=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=t2(o,e,t,s),i),{})},t2=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Uy(i,o):Ic(o)},Uy=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return i2(t,n)}switch(e){case Z.bool:return n2(t);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return r2(t);case Z.json:case Z.jsonb:return s2(t);case Z.timestamp:return o2(t);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return Ic(t);default:return Ic(t)}},Ic=e=>e,n2=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},r2=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},s2=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},i2=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Uy(t,a))}return e},o2=e=>typeof e=="string"?e.replace(" ","T"):e,Fy=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class fl{constructor(t,n,r={},s=$y){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var om;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(om||(om={}));class Ls{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ls.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ls.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ls.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(S=>S.presence_ref),g=h.map(S=>S.presence_ref),v=d.filter(S=>g.indexOf(S.presence_ref)<0),x=h.filter(S=>f.indexOf(S.presence_ref)<0);v.length>0&&(a[c]=v),x.length>0&&(l[c]=x)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var am;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(am||(am={}));var lm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(lm||(lm={}));var Vt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Vt||(Vt={}));class yd{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new fl(this,bt.join,this.params,this.timeout),this.rejoinTimer=new Vy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Le.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ls(this),this.broadcastEndpointURL=Fy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Le.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(Vt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Vt.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Vt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let x=0;x<g;x++){const S=f[x],{filter:{event:y,schema:m,table:p,filter:w}}=S,_=d&&d[x];if(_&&_.event===y&&_.schema===m&&_.table===p&&_.filter===w)v.push(Object.assign(Object.assign({},S),{id:_.id}));else{this.unsubscribe(),this.state=Le.errored,t==null||t(Vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Vt.SUBSCRIBED);return}}).receive("error",d=>{this.state=Le.errored,t==null||t(Vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Le.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new fl(this,bt.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new fl(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=bt;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var v,x,S;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(x=g.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var v,x,S,y,m,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const w=g.id,_=(v=g.filter)===null||v===void 0?void 0:v.event;return w&&((x=n.ids)===null||x===void 0?void 0:x.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const w=(m=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return w==="*"||w===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:x,table:S,commit_timestamp:y,type:m,errors:p}=v;f=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:y,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(v))}g.callback(f,r)})}_isClosed(){return this.state===Le.closed}_isJoined(){return this.state===Le.joined}_isJoining(){return this.state===Le.joining}_isLeaving(){return this.state===Le.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&yd.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bt.close,{},t)}_onError(t){this._on(bt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Le.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=im(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=im(t.columns,t.old_record)),n}}const cm=()=>{},a2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class l2{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$y,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cm,this.ref=0,this.logger=cm,this.conn=null,this.sendBuffer=[],this.serializer=new e2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>vi(async()=>{const{default:l}=await Promise.resolve().then(()=>Xr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Lc.websocket}`,this.httpEndpoint=Fy(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Vy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Jj),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Yj}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Os.connecting:return Dn.Connecting;case Os.open:return Dn.Open;case Os.closing:return Dn.Closing;default:return Dn.Closed}}isConnected(){return this.connectionState()===Dn.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new yd(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Xj};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(bt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Zj,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(bt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([a2],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class vd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function je(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class c2 extends vd{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Dc extends vd{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var u2=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const zy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vi(async()=>{const{default:r}=await Promise.resolve().then(()=>Xr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},d2=()=>u2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vi(()=>Promise.resolve().then(()=>Xr),void 0)).Response:Response}),$c=e=>{if(Array.isArray(e))return e.map(n=>$c(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=$c(r)}),t};var er=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const ml=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),h2=(e,t,n)=>er(void 0,void 0,void 0,function*(){const r=yield d2();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new c2(ml(s),e.status||500))}).catch(s=>{t(new Dc(ml(s),s))}):t(new Dc(ml(e),e))}),f2=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function wi(e,t,n,r,s,i){return er(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,f2(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>h2(l,a,r))})})}function Ko(e,t,n,r){return er(this,void 0,void 0,function*(){return wi(e,"GET",t,n,r)})}function sn(e,t,n,r,s){return er(this,void 0,void 0,function*(){return wi(e,"POST",t,r,s,n)})}function m2(e,t,n,r,s){return er(this,void 0,void 0,function*(){return wi(e,"PUT",t,r,s,n)})}function p2(e,t,n,r){return er(this,void 0,void 0,function*(){return wi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function By(e,t,n,r,s){return er(this,void 0,void 0,function*(){return wi(e,"DELETE",t,r,s,n)})}var We=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const g2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},um={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class y2{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=zy(s)}uploadOrUpdate(t,n,r,s){return We(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},um),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(je(i))return{data:null,error:i};throw i}})}upload(t,n,r){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return We(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:um.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(je(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return We(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield sn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new vd("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}update(t,n,r){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return We(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}copy(t,n,r){return We(this,void 0,void 0,function*(){try{return{data:{path:(yield sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return We(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield sn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return We(this,void 0,void 0,function*(){try{const s=yield sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}download(t,n){return We(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Ko(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(je(a))return{data:null,error:a};throw a}})}info(t){return We(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ko(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:$c(r),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}exists(t){return We(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield p2(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(je(r)&&r instanceof Dc){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return We(this,void 0,void 0,function*(){try{return{data:yield By(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}list(t,n,r){return We(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},g2),n),{prefix:t||""});return{data:yield sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const v2="2.7.1",x2={"X-Client-Info":`storage-js/${v2}`};var sr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class w2{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},x2),n),this.fetch=zy(r)}listBuckets(){return sr(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(je(t))return{data:null,error:t};throw t}})}getBucket(t){return sr(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return sr(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return sr(this,void 0,void 0,function*(){try{return{data:yield m2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}emptyBucket(t){return sr(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}deleteBucket(t){return sr(this,void 0,void 0,function*(){try{return{data:yield By(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}}class b2 extends w2{constructor(t,n={},r){super(t,n,r)}from(t){return new y2(this.url,this.headers,t,this.fetch)}}const _2="2.50.3";let ys="";typeof Deno<"u"?ys="deno":typeof document<"u"?ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ys="react-native":ys="node";const k2={"X-Client-Info":`supabase-js-${ys}/${_2}`},S2={headers:k2},j2={schema:"public"},N2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},T2={};var C2=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const E2=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ty:t=fetch,(...n)=>t(...n)},P2=()=>typeof Headers>"u"?Cy:Headers,A2=(e,t,n)=>{const r=E2(n),s=P2();return(i,o)=>C2(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var R2=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function M2(e){return e.endsWith("/")?e:e+"/"}function O2(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>R2(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Wy="2.70.0",lr=30*1e3,Vc=3,pl=Vc*lr,L2="http://localhost:9999",I2="supabase.auth.token",D2={"X-Client-Info":`gotrue-js/${Wy}`},Uc="X-Supabase-Api-Version",Hy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,V2=6e5;class xd extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function V(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class U2 extends xd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function F2(e){return V(e)&&e.name==="AuthApiError"}class qy extends xd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Tn extends xd{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class tn extends Tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function z2(e){return V(e)&&e.name==="AuthSessionMissingError"}class qi extends Tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ki extends Tn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Gi extends Tn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function B2(e){return V(e)&&e.name==="AuthImplicitGrantRedirectError"}class dm extends Tn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fc extends Tn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function gl(e){return V(e)&&e.name==="AuthRetryableFetchError"}class hm extends Tn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Is extends Tn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fm=` 	
\r=`.split(""),W2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fm.length;t+=1)e[fm[t].charCodeAt(0)]=-2;for(let t=0;t<Go.length;t+=1)e[Go[t].charCodeAt(0)]=t;return e})();function mm(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Go[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Go[r]),t.queuedBits-=6}}function Ky(e,t,n){const r=W2[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pm(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{K2(o,r,n)};for(let o=0;o<e.length;o+=1)Ky(e.charCodeAt(o),s,i);return t.join("")}function H2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function q2(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}H2(r,t)}}function K2(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function G2(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Ky(e.charCodeAt(s),n,r);return new Uint8Array(t)}function J2(e){const t=[];return q2(e,n=>t.push(n)),new Uint8Array(t)}function Q2(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>mm(s,n,r)),mm(null,n,r),t.join("")}function X2(e){return Math.round(Date.now()/1e3)+e}function Y2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const yt=()=>typeof window<"u"&&typeof document<"u",Rn={tested:!1,writable:!1},Ds=()=>{if(!yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rn.tested)return Rn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Rn.tested=!0,Rn.writable=!0}catch{Rn.tested=!0,Rn.writable=!1}return Rn.writable};function Z2(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Gy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vi(async()=>{const{default:r}=await Promise.resolve().then(()=>Xr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},eN=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Jy=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ji=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Qi=async(e,t)=>{await e.removeItem(t)};class _a{constructor(){this.promise=new _a.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}_a.promiseConstructor=Promise;function yl(e){const t=e.split(".");if(t.length!==3)throw new Is("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!$2.test(t[r]))throw new Is("JWT not in base64url format");return{header:JSON.parse(pm(t[0])),payload:JSON.parse(pm(t[1])),signature:G2(t[2]),raw:{header:t[0],payload:t[1]}}}async function tN(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function nN(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function rN(e){return("0"+e.toString(16)).substr(-2)}function sN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,rN).join("")}async function iN(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function oN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await iN(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ir(e,t,n=!1){const r=sN();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Jy(e,`${t}-code-verifier`,s);const i=await oN(r);return[i,r===i?"plain":"s256"]}const aN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lN(e){const t=e.headers.get(Uc);if(!t||!t.match(aN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function cN(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function uN(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function or(e){if(!dN.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var hN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const In=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fN=[502,503,504];async function gm(e){var t;if(!eN(e))throw new Fc(In(e),0);if(fN.includes(e.status))throw new Fc(In(e),e.status);let n;try{n=await e.json()}catch(i){throw new qy(In(i),i)}let r;const s=lN(e);if(s&&s.getTime()>=Hy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new hm(In(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new tn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new hm(In(n),e.status,n.weak_password.reasons);throw new U2(In(n),e.status||500,r)}const mN=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function B(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Uc]||(i[Uc]=Hy["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await pN(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function pN(e,t,n,r,s,i){const o=mN(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Fc(In(l),0)}if(a.ok||await gm(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await gm(l)}}function Dt(e){var t;let n=null;xN(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=X2(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function ym(e){const t=Dt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ln(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function gN(e){return{data:e,error:null}}function yN(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=hN(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function vN(e){return e}function xN(e){return e.access_token&&e.refresh_token&&e.expires_in}const vl=["global","local","others"];var wN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class bN{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Gy(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=vl[0]){if(vl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vl.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ln})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=wN(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:yN,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(V(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ln})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:vN});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);c[`${S}Page`]=x}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){or(t);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ln})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){or(t);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ln})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){or(t);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ln})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){or(t.userId);try{const{data:n,error:r}=await B(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteFactor(t){or(t.userId),or(t.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}}const _N={getItem:e=>Ds()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ds()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ds()&&globalThis.localStorage.removeItem(e)}};function vm(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function kN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ar={debug:!!(globalThis&&Ds()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class SN extends Qy{}async function jN(e,t,n){ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ar.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new SN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ar.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}kN();const NN={url:L2,storageKey:I2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:D2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function xm(e,t,n){return await n()}class li{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=li.nextInstanceID,li.nextInstanceID+=1,this.instanceID>0&&yt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},NN),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new bN({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Gy(s.fetch),this.lock=s.lock||xm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:yt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=jN:this.lock=xm,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ds()?this.storage=_N:(this.memoryStorage={},this.storage=vm(this.memoryStorage)):(this.memoryStorage={},this.storage=vm(this.memoryStorage)),yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wy}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Z2(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),yt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),B2(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return V(n)?{error:n}:{error:new qy("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Dt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await ir(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:v},xform:Dt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Dt})}else throw new Ki("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ym})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ym})}else throw new Ki("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new qi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,a,l,c,d,h,f,g;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:S,wallet:y,statement:m,options:p}=t;let w;if(yt())if(typeof y=="object")w=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))w=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const _=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const j=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),m?{statement:m}:null));let N;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")N=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)N=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),x=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const j=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=j}}try{const{data:S,error:y}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Q2(x)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Dt});if(y)throw y;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new qi}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:y})}catch(S){if(V(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const n=await Ji(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Dt});if(await Qi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new qi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(V(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Dt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new qi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await ir(this.storage,this.storageKey));const{error:h}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ki("You must provide either an email or phone number.")}catch(a){if(V(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Dt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ir(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:gN})}catch(i){if(V(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new tn;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(V(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await B(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await B(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ki("You must provide either an email or phone number and a type")}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ji(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<pl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ln}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tn}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ln})})}catch(n){if(V(n))return z2(n)&&(await this._removeSession(),await Qi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new tn;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await ir(this.storage,this.storageKey));const{data:c,error:d}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ln});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new tn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=yl(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(V(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new tn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!yt())throw new Gi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new dm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new dm("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Gi("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const g=f-d;g*1e3<=lr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:x,error:S}=await this._getUser(i);if(S)throw S;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(V(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ji(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(F2(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Qi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Y2(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ir(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(V(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return yt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(V(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await nN(async s=>(s>0&&await tN(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Dt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&gl(i)&&Date.now()+o-r<lr})}catch(r){if(this._debug(n,"error",r),V(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),yt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ji(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<pl;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${pl}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),gl(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new tn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new _a;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new tn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),V(i)){const o={session:null,error:i};return gl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Jy(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Qi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),lr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/lr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${lr}ms, refresh threshold is ${Vc} ticks`),s<=Vc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Qy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ir(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await B(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await B(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=yl(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+V2>Date.now()))return r;const{data:s,error:i}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Is("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new Is("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return{data:null,error:v};r=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=yl(r);if(cN(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const c=uN(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,J2(`${a}.${l}`)))throw new Is("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}}li.nextInstanceID=0;const TN=li;class CN extends TN{constructor(t){super(t)}}var EN=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class PN{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=M2(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:j2,realtime:T2,auth:Object.assign(Object.assign({},N2),{storageKey:c}),global:S2},h=O2(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=A2(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Kj(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new kj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new b2(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return EN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new CN({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new l2(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const AN=(e,t,n)=>new PN(e,t,n),po="https://jgqhvugbaoowncaomswg.supabase.co",RN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpncWh2dWdiYW9vd25jYW9tc3dnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzMzkxMDAsImV4cCI6MjA2NjkxNTEwMH0.RI570ZIu6Vhh2UwGaNcjVw1AVTtOQF8xO5a2Fsz4S-E";if(!po.startsWith("https://")||!po.includes(".supabase.co"))throw console.error("❌ Invalid Supabase URL format:",po),new Error("Invalid Supabase URL format. Should be https://your-project.supabase.co");const J=AN(po,RN,{auth:{persistSession:!0,autoRefreshToken:!0},global:{headers:{"X-Client-Info":"medication-exchange-app"}}});J.from("hospitals").select("count").limit(1).then(({error:e})=>{e?console.error("❌ Supabase connection test failed:",e.message):console.log("✅ Supabase connection established successfully")}).catch(e=>{console.error("❌ Network error during Supabase connection test:",e.message)});const pt=()=>{const[e,t]=k.useState(null),[n,r]=k.useState(!0);return k.useEffect(()=>{J.auth.getSession().then(({data:{session:l}})=>{t((l==null?void 0:l.user)??null),r(!1)});const{data:{subscription:a}}=J.auth.onAuthStateChange((l,c)=>{t((c==null?void 0:c.user)??null),r(!1)});return()=>a.unsubscribe()},[]),{user:e,loading:n,signUp:async(a,l)=>{const{data:c,error:d}=await J.auth.signUp({email:a,password:l});return{data:c,error:d}},signIn:async(a,l)=>{const{data:c,error:d}=await J.auth.signInWithPassword({email:a,password:l});return{data:c,error:d}},signOut:async()=>{const{error:a}=await J.auth.signOut();return{error:a}}}},Nt=()=>{const[e,t]=k.useState([]),[n,r]=k.useState(!0),[s,i]=k.useState(null),o=async()=>{try{r(!0);const{data:c,error:d}=await J.from("hospitals").select("*").eq("status","active").order("name");if(d)throw d;t(c||[])}catch(c){i(c instanceof Error?c.message:"Error fetching hospitals")}finally{r(!1)}};return k.useEffect(()=>{o()},[]),{hospitals:e,loading:n,error:s,createHospital:async c=>{try{const{data:d,error:h}=await J.from("hospitals").insert([c]).select().single();if(h)throw h;return await o(),{data:d,error:null}}catch(d){return{data:null,error:d instanceof Error?d.message:"Error creating hospital"}}},updateHospital:async(c,d)=>{try{const{data:h,error:f}=await J.from("hospitals").update(d).eq("id",c).select().single();if(f)throw f;return await o(),{data:h,error:null}}catch(h){return{data:null,error:h instanceof Error?h.message:"Error updating hospital"}}},refetch:o}},MN=({onSuccess:e})=>{const[t,n]=k.useState(!0),[r,s]=k.useState(""),[i,o]=k.useState(""),[a,l]=k.useState(!1),[c,d]=k.useState(null),{signIn:h,signUp:f}=pt(),g=async v=>{v.preventDefault(),l(!0),d(null);try{const{error:x}=t?await h(r,i):await f(r,i);x?d(x.message):e()}catch{d("Ocurrió un error inesperado")}finally{l(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-teal-50 flex items-center justify-center p-4",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:u.jsx(uy,{className:"w-8 h-8 text-white"})})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"REDIFAR"}),u.jsx("p",{className:"text-gray-600",children:t?"Red de intercambio Hospitalario":"Crea tu cuenta hospitalaria"})]}),u.jsxs("form",{onSubmit:g,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrónico"}),u.jsxs("div",{className:"relative",children:[u.jsx(my,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"email",value:r,onChange:v=>s(v.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"hospital@ejemplo.com",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña"}),u.jsxs("div",{className:"relative",children:[u.jsx(mS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"password",value:i,onChange:v=>o(v.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••",required:!0})]})]}),c&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:u.jsx("p",{className:"text-sm text-red-600",children:c})}),u.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Procesando...":t?"Iniciar Sesión":"Crear Cuenta"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{onClick:()=>n(!t),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:t?"¿No tienes cuenta? Regístrate":"¿Ya tienes cuenta? Inicia sesión"})}),!t&&u.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(fd,{className:"w-5 h-5 text-blue-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Registro Hospitalario"}),u.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Después del registro, podrás configurar la información de tu hospital y comenzar a intercambiar medicamentos con la red."})]})]})})]})})})},ka=()=>{const{user:e}=pt(),[t,n]=k.useState([]),[r,s]=k.useState("default"),[i,o]=k.useState(0),a=async()=>{if("Notification"in window){const g=await Notification.requestPermission();return s(g),g==="granted"}return!1},l=k.useCallback(g=>{if(r==="granted"&&"Notification"in window){const v=new Notification(g.title,{body:g.message,icon:"/vite.svg",tag:g.id});v.onclick=()=>{window.focus(),v.close()}}},[r]),c=k.useCallback(g=>{n(v=>v.some(x=>x.id===g.id)?v:[g,...v.slice(0,19)]),o(Date.now()),l(g)},[l]),d=k.useCallback(()=>{e&&(n([]),o(Date.now()))},[]),h=k.useCallback(()=>{e&&(n(g=>{const v=g.map(x=>x.id);return localStorage.setItem("readNotificationIds",JSON.stringify(v)),g.map(x=>({...x,isRead:!0}))}),o(Date.now()))},[e]),f=k.useCallback(async()=>{if(e)try{const{data:g,error:v}=await J.from("notifications").select("*").order("created_at",{ascending:!1}).limit(10);if(v){console.error("Error refreshing notifications:",v);return}if(g){const x=JSON.parse(localStorage.getItem("readNotificationIds")||"[]"),S=g.map(y=>({id:y.id,type:y.type,title:y.title,message:y.message,hospitalName:y.hospital_name,medicationName:y.medication_name,urgency:y.urgency,timestamp:y.created_at,relatedId:y.related_id,isRead:x.includes(y.id)}));n(S),o(Date.now())}}catch(g){console.error("Network error refreshing notifications:",g)}},[e]);return k.useEffect(()=>{if(!e)return;"Notification"in window&&s(Notification.permission),f();const g=setInterval(f,3e4);return()=>{clearInterval(g)}},[e,f]),k.useEffect(()=>{if(!e)return;const g=J.channel("realtime:notifications");return g.on("postgres_changes",{event:"INSERT",schema:"public",table:"medication_requests"},v=>{const x=v.new;c({id:x.id,type:"request",title:"Nueva solicitud de medicamento",message:`${x.medication_name} solicitado por ${x.hospital_name}`,hospitalName:x.hospital_name,medicationName:x.medication_name,urgency:x.urgency,timestamp:x.created_at,relatedId:x.id,isRead:!1})}),g.on("postgres_changes",{event:"INSERT",schema:"public",table:"medication_offers"},v=>{const x=v.new;c({id:x.id,type:"offer",title:"Nuevo insumo disponible",message:`${x.medication_name} ofrecido por ${x.hospital_name}`,hospitalName:x.hospital_name,medicationName:x.medication_name,timestamp:x.created_at,relatedId:x.id,isRead:!1})}),g.subscribe(),()=>{J.removeChannel(g)}},[e,c]),{notifications:t,permission:r,lastUpdate:i,requestPermission:a,refreshNotifications:f,clearNotifications:d,markAsRead:h,unreadCount:t.filter(g=>!g.isRead).length}},Jo=[{primary:"bg-blue-600",secondary:"bg-blue-50",text:"text-blue-600",border:"border-blue-500",gradient:"from-blue-500 to-blue-600",hover:"hover:bg-blue-700",light:"bg-blue-100",dark:"bg-blue-800"},{primary:"bg-emerald-600",secondary:"bg-emerald-50",text:"text-emerald-600",border:"border-emerald-500",gradient:"from-emerald-500 to-emerald-600",hover:"hover:bg-emerald-700",light:"bg-emerald-100",dark:"bg-emerald-800"},{primary:"bg-purple-600",secondary:"bg-purple-50",text:"text-purple-600",border:"border-purple-500",gradient:"from-purple-500 to-purple-600",hover:"hover:bg-purple-700",light:"bg-purple-100",dark:"bg-purple-800"},{primary:"bg-orange-600",secondary:"bg-orange-50",text:"text-orange-600",border:"border-orange-500",gradient:"from-orange-500 to-orange-600",hover:"hover:bg-orange-700",light:"bg-orange-100",dark:"bg-orange-800"},{primary:"bg-teal-600",secondary:"bg-teal-50",text:"text-teal-600",border:"border-teal-500",gradient:"from-teal-500 to-teal-600",hover:"hover:bg-teal-700",light:"bg-teal-100",dark:"bg-teal-800"},{primary:"bg-rose-600",secondary:"bg-rose-50",text:"text-rose-600",border:"border-rose-500",gradient:"from-rose-500 to-rose-600",hover:"hover:bg-rose-700",light:"bg-rose-100",dark:"bg-rose-800"},{primary:"bg-indigo-600",secondary:"bg-indigo-50",text:"text-indigo-600",border:"border-indigo-500",gradient:"from-indigo-500 to-indigo-600",hover:"hover:bg-indigo-700",light:"bg-indigo-100",dark:"bg-indigo-800"},{primary:"bg-cyan-600",secondary:"bg-cyan-50",text:"text-cyan-600",border:"border-cyan-500",gradient:"from-cyan-500 to-cyan-600",hover:"hover:bg-cyan-700",light:"bg-cyan-100",dark:"bg-cyan-800"},{primary:"bg-amber-600",secondary:"bg-amber-50",text:"text-amber-600",border:"border-amber-500",gradient:"from-amber-500 to-amber-600",hover:"hover:bg-amber-700",light:"bg-amber-100",dark:"bg-amber-800"},{primary:"bg-pink-600",secondary:"bg-pink-50",text:"text-pink-600",border:"border-pink-500",gradient:"from-pink-500 to-pink-600",hover:"hover:bg-pink-700",light:"bg-pink-100",dark:"bg-pink-800"}],ON=e=>{let t=0;for(let r=0;r<e.length;r++){const s=e.charCodeAt(r);t=(t<<5)-t+s,t=t&t}const n=Math.abs(t)%Jo.length;return Jo[n]},LN=e=>Jo[e%Jo.length],tr=e=>k.useMemo(()=>e?ON(e):{primary:"bg-gray-600",secondary:"bg-gray-50",text:"text-gray-600",border:"border-gray-500",gradient:"from-gray-500 to-gray-600",hover:"hover:bg-gray-700",light:"bg-gray-100",dark:"bg-gray-800"},[e]),IN=()=>{const{user:e}=pt(),{hospitals:t}=Nt(),{notifications:n,permission:r,lastUpdate:s,requestPermission:i,refreshNotifications:o,clearNotifications:a,markAsRead:l,unreadCount:c}=ka(),d=t.find(w=>w.user_id===(e==null?void 0:e.id)),h=tr(d==null?void 0:d.id),[f,g]=k.useState(!1),[v,x]=k.useState(!0);k.useEffect(()=>{console.log("🔄 NotificationCenter re-rendered, lastUpdate:",new Date(s).toLocaleTimeString())},[s]);const S=(w,_)=>w==="request"?_==="critical"?u.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center animate-pulse",children:u.jsx(Rs,{className:"w-4 h-4 text-white"})}):u.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:u.jsx(qo,{className:"w-4 h-4 text-white"})}):u.jsx("div",{className:"w-8 h-8 bg-teal-500 rounded-full flex items-center justify-center",children:u.jsx(Ms,{className:"w-4 h-4 text-white"})}),y=w=>{const _=new Date,j=new Date(w),N=Math.floor((_.getTime()-j.getTime())/(1e3*60));return N<1?"Ahora mismo":N<60?`hace ${N}m`:N<1440?`hace ${Math.floor(N/60)}h`:`hace ${Math.floor(N/1440)}d`},m=w=>{switch(w){case"critical":return"bg-red-500 text-white animate-pulse";case"high":return"bg-orange-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";default:return"bg-gray-500 text-white"}},p=w=>{switch(w){case"critical":return"bg-red-50 border-l-4 border-red-500";case"high":return"bg-orange-50 border-l-4 border-orange-500";case"medium":return"bg-yellow-50 border-l-4 border-yellow-500";case"low":return"bg-green-50 border-l-4 border-green-500";default:return"bg-gray-50 border-l-4 border-gray-500"}};return u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>{g(!f),f||l()},className:`relative p-2 sm:p-3 rounded-full transition-all duration-300 transform hover:scale-110 border-2 border-white/30 ${c>0?`text-white bg-gradient-to-r ${h.gradient} shadow-lg animate-pulse`:"text-white/80 hover:text-white hover:bg-white/20"}`,children:[u.jsx(Hf,{className:`w-4 h-4 sm:w-5 sm:h-5 transition-transform duration-300 ${c>0?"animate-bounce":""}`}),c>0&&u.jsxs("div",{className:"absolute -top-1 -right-1 sm:-top-2 sm:-right-2 flex items-center justify-center",children:[u.jsx("span",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold animate-ping",children:c>99?"99+":c}),u.jsx("span",{className:"absolute w-5 h-5 sm:w-6 sm:h-6 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:c>99?"99+":c})]})]}),f&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>g(!1)}),u.jsxs("div",{className:"absolute right-0 mt-2 sm:mt-3 w-80 sm:w-96 bg-white rounded-xl shadow-2xl border border-gray-200 z-50 max-h-[28rem] sm:max-h-[32rem] overflow-hidden",children:[u.jsxs("div",{className:`p-3 sm:p-4 bg-gradient-to-r ${h.gradient} text-white`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-lg font-bold",children:"🔔 Centro de Notificaciones"}),c>0&&u.jsxs("p",{className:"text-xs sm:text-sm opacity-90",children:[c," notificación",c!==1?"es":""," nueva",c!==1?"s":""]})]}),u.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[u.jsx("button",{onClick:()=>x(!v),className:"p-1 rounded-full hover:bg-white/20 transition-colors hidden sm:block",title:v?"Silenciar sonidos":"Activar sonidos",children:v?u.jsx(_S,{className:"w-3 h-3 sm:w-4 sm:h-4"}):u.jsx(kS,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),n.length>0&&u.jsx("button",{onClick:a,className:"text-xs sm:text-sm bg-white/20 hover:bg-white/30 px-2 py-1 rounded transition-colors",children:"Limpiar"})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 p-2 rounded-lg bg-green-500/20 border border-green-300/30",children:[u.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-xs font-medium text-green-200",children:"🌐 Sistema Global Activo"}),u.jsx("p",{className:"text-xs opacity-80 hidden sm:block",children:"Alertas instantáneas de TODOS los hospitales"})]})]})]}),u.jsx("div",{className:"max-h-64 sm:max-h-80 overflow-y-auto",children:n.length===0?u.jsxs("div",{className:"p-6 sm:p-8 text-center text-gray-500",children:[u.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Hf,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-300"})}),u.jsx("p",{className:"font-medium text-gray-700",children:"No hay notificaciones"}),u.jsx("p",{className:"text-xs sm:text-sm mt-1",children:"Las notificaciones aparecen automáticamente cuando cualquier hospital envía solicitudes u ofertas"})]}):u.jsx("div",{className:"divide-y divide-gray-100",children:n.map((w,_)=>u.jsx("div",{className:`p-3 sm:p-4 transition-all duration-300 hover:bg-gray-50 ${p(w.urgency)} ${_===0?"animate-slideInRight":""}`,children:u.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[S(w.type,w.urgency),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-900 leading-tight",children:w.title}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-700 mt-1 leading-relaxed",children:w.message})]}),u.jsx("button",{onClick:()=>l(w.id),className:"text-gray-400 hover:text-red-500 ml-1 sm:ml-2 p-1 rounded-full hover:bg-red-50 transition-colors",title:"Descartar notificación",children:u.jsx(SS,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),u.jsxs("div",{className:"flex items-center justify-between mt-3",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-2 space-y-1 sm:space-y-0",children:[u.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full truncate max-w-32 sm:max-w-none",children:["📍 ",w.hospitalName]}),u.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full truncate max-w-32 sm:max-w-none",children:["💊 ",w.medicationName]})]}),w.urgency&&u.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${m(w.urgency)}`,children:w.urgency==="critical"?"🚨 CRÍTICO":w.urgency==="high"?"⚠️ ALTO":w.urgency==="medium"?"📋 MEDIO":"📝 BAJO"})]}),u.jsxs("div",{className:"flex items-center justify-between mt-2",children:[u.jsxs("span",{className:"text-xs text-gray-500",children:["⏰ ",y(w.timestamp)]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[w.type==="request"&&u.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:[u.jsx("span",{className:"sm:hidden",children:"📋"}),u.jsx("span",{className:"hidden sm:inline",children:"📋 Solicitud"})]}),w.type==="offer"&&u.jsxs("span",{className:"text-xs bg-teal-100 text-teal-700 px-2 py-1 rounded-full",children:[u.jsx("span",{className:"sm:hidden",children:"💊"}),u.jsx("span",{className:"hidden sm:inline",children:"💊 Oferta"})]})]})]})]})]})},w.id))})}),u.jsx("div",{className:"p-2 sm:p-3 bg-gray-50 border-t border-gray-200",children:u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[u.jsxs("span",{children:["📊 Total: ",n.length]}),u.jsxs("span",{className:"hidden sm:inline",children:["🔄 ",new Date(s).toLocaleTimeString()]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),u.jsx("span",{className:"hidden sm:inline",children:"🌐 Global"})]})]})})]})]})]})},DN=()=>{const{user:e,signOut:t}=pt(),{hospitals:n}=Nt();k.useState(!1);const r=n.find(o=>o.user_id===(e==null?void 0:e.id)),s=tr(r==null?void 0:r.id),i=async()=>{try{await t()}catch(o){console.error("Error signing out:",o)}};return u.jsx("header",{className:`${s.primary} shadow-lg border-b-4 ${s.border} fixed top-0 left-0 right-0 z-40`,children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"p-2 rounded-full bg-white/20 mr-3",children:u.jsx(uy,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg sm:text-xl font-bold text-white",children:"REDIFAR"}),r&&u.jsx("p",{className:"text-xs sm:text-sm text-white/90 font-medium hidden sm:block",children:r.name})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[u.jsx(IN,{}),u.jsxs("div",{className:"hidden sm:flex items-center space-x-3 border-r border-white/30 pr-4",children:[u.jsx("div",{className:"w-8 h-8 bg-white rounded-full overflow-hidden flex items-center justify-center",children:u.jsx("img",{src:`/logos/${(r==null?void 0:r.id)||"default"}.png`,alt:"Logo hospital",className:"w-full h-full object-contain"})}),u.jsx("div",{className:"text-sm",children:u.jsx("p",{className:"text-white/80",children:(r==null?void 0:r.name)||"Hospital General San Juan"})})]}),u.jsxs("button",{onClick:i,className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-2 text-white/90 hover:text-white hover:bg-white/20 rounded-lg transition-colors",title:"Cerrar sesión",children:[u.jsx(pS,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Salir"})]})]})]})})})},Xy=e=>{const{user:t}=pt(),{hospitals:n}=Nt(),[r,s]=k.useState([]),[i,o]=k.useState(!0),[a,l]=k.useState(!1),[c,d]=k.useState(null),[h,f]=k.useState({}),g=m=>{s(p=>[...p,m])};k.useEffect(()=>{if(t&&n.length>0){const m=n.find(p=>p.user_id===t.id);d(m),o(!1)}},[t,n]);const v=k.useCallback(async m=>{if(!(!m||!(c!=null&&c.id))){l(!0);try{const{data:p,error:w}=await J.from("mensajes").select(`
        id,
        sender_hospital_id,
        recipient_hospital_id,
        content,
        messages_type,
        created_at,
        read_at,
        sender_hospital:sender_hospital_id (
          name
        )
      `).or(`and(sender_hospital_id.eq.${c.id},recipient_hospital_id.eq.${m}),and(sender_hospital_id.eq.${m},recipient_hospital_id.eq.${c.id})`).order("created_at",{ascending:!0});if(w)throw w;s(p)}catch(p){console.error("Error fetching messages:",p)}finally{l(!1)}}},[c]);k.useEffect(()=>{if(!(c!=null&&c.id))return;const m=J.channel(`messages-realtime-${c.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"mensajes"},p=>{const w=p.new,_=w.recipient_hospital_id===c.id;w.sender_hospital_id,c.id,e&&(w.sender_hospital_id===c.id&&w.recipient_hospital_id===e||w.recipient_hospital_id===c.id&&w.sender_hospital_id===e)?s(N=>N.some(T=>T.id===w.id)?N:[...N,w]):_&&s(N=>{if(N.some(A=>A.id===w.id))return N;const T=[...N,w];return setTimeout(()=>{s(A=>A.filter(U=>U.id!==w.id))},100),T})}).subscribe();return()=>{J.removeChannel(m)}},[c==null?void 0:c.id,e]);const x=async m=>{const p=`temp-${Date.now()}`,w={id:p,sender_hospital_id:m.sender_hospital_id,recipient_hospital_id:m.recipient_hospital_id,content:m.content,messages_type:m.messages_type,created_at:new Date().toISOString(),read_at:null,sender_hospital:{name:(c==null?void 0:c.name)||"Tú"}};g(w);try{const{data:_,error:j}=await J.from("mensajes").insert({sender_hospital_id:m.sender_hospital_id,recipient_hospital_id:m.recipient_hospital_id,content:m.content,messages_type:m.messages_type}).select(`
  id,
  sender_hospital_id,
  recipient_hospital_id,
  content,
  messages_type,
  created_at,
  read_at,
  sender_hospital:sender_hospital_id (
    name
  ),
  recipient_hospital:recipient_hospital_id (
    name
  )
`);if(j)throw j;return s(N=>N.map(b=>b.id===p?_[0]:b)),{data:_[0],error:null}}catch(_){return console.error("Error sending message:",_),{data:null,error:_}}},S=async()=>({id:"direct"}),y=async()=>{};return k.useEffect(()=>{if(!(c!=null&&c.id))return;(async()=>{const{data:p,error:w}=await J.from("mensajes").select("sender_hospital_id",{count:"exact",head:!1}).eq("recipient_hospital_id",c.id).is("read_at",null);if(w){console.error("Error fetching unread counts:",w);return}const _={};for(const j of p){const N=j.sender_hospital_id;_[N]=(_[N]||0)+1}f(_)})()},[c==null?void 0:c.id,r]),{messages:r,conversations:[],loading:i,messagesLoading:a,sendMessage:x,markAsRead:y,createConversation:S,fetchMessages:v,fetchConversations:()=>{},currentHospital:c,unreadCountMap:h}},$N=()=>{const{unreadCountMap:e={}}=Xy(null);return{totalUnread:Object.values(e).reduce((n,r)=>n+r,0)}},VN=({activeTab:e,setActiveTab:t})=>{const{user:n}=pt(),{hospitals:r}=Nt(),[s,i]=k.useState(!1),{totalUnread:o}=$N(),a=r.find(h=>h.user_id===(n==null?void 0:n.id)),l=tr(a==null?void 0:a.id),c=[{id:"dashboard",label:"Inicio",icon:fS},{id:"hospitales",label:"Hospitales",icon:fd},{id:"solicitudes",label:"Solicitudes",icon:Gr},{id:"insumos-disponibles",label:"Insumos Disponibles",icon:pa},{id:"transferencias",label:"Transferencias",icon:dy},{id:"mensajes",label:"Mensajes",icon:gs}],d=h=>{t(h),i(!1)};return u.jsxs(u.Fragment,{children:[u.jsx("nav",{className:"hidden lg:block fixed left-0 top-14 sm:top-16 h-[calc(100vh-3.5rem)] sm:h-[calc(100vh-4rem)] w-64 bg-white shadow-lg border-r border-gray-200 z-40",children:u.jsx("div",{className:"p-4",children:u.jsx("div",{className:"space-y-2",children:c.map(h=>{const f=h.icon;return u.jsxs("button",{onClick:()=>d(h.id),className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${e===h.id?`${l.primary} text-white shadow-md transform scale-105`:"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[u.jsx(f,{className:"w-5 h-5 mr-3"}),h.label]},h.id)})})})}),u.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 safe-area-pb",children:u.jsx("div",{className:"flex items-center justify-around py-2",children:c.map(h=>{const f=h.icon,g=e===h.id;return u.jsxs("button",{onClick:()=>d(h.id),className:`flex flex-col items-center justify-center py-2 px-3 min-w-0 flex-1 transition-colors duration-200 ${g?`${l.text}`:"text-gray-500"}`,children:[u.jsxs("div",{className:"relative p-1 rounded-lg",children:[u.jsx(f,{className:`w-5 h-5 ${g?"animate-pulse":""}`}),h.id==="mensajes"&&o>0&&u.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-bold shadow",children:o>9?"9+":o})]}),u.jsx("span",{className:`text-xs mt-1 font-medium truncate max-w-full ${g?"font-semibold":""}`,children:h.label})]},h.id)})})})]})},Yy=()=>{const[e,t]=k.useState([]),[n,r]=k.useState(!0),[s,i]=k.useState(null),o=async()=>{try{r(!0);const{data:c,error:d}=await J.from("medication_requests").select(`
          *,
          hospitals (
            id,
            name,
            city,
            state,
            phone,
            email
          )
        `).eq("status","pending").order("created_at",{ascending:!1});if(d)throw d;t(c||[])}catch(c){i(c instanceof Error?c.message:"Error fetching medication requests")}finally{r(!1)}};return k.useEffect(()=>{o()},[]),{requests:e,loading:n,error:s,createRequest:async c=>{try{const{data:d,error:h}=await J.from("medication_requests").insert([c]).select().single();if(h)throw h;const{refreshNotifications:f}=ka();return f(),setTimeout(o,500),{data:d,error:null}}catch(d){return{data:null,error:d instanceof Error?d.message:"Error creating request"}}},updateRequest:async(c,d)=>{try{const{data:h,error:f}=await J.from("medication_requests").update(d).eq("id",c).select().single();if(f)throw f;return await o(),{data:h,error:null}}catch(h){return{data:null,error:h instanceof Error?h.message:"Error updating request"}}},refetch:o}},Zy=()=>{const[e,t]=k.useState([]),[n,r]=k.useState(!0),[s,i]=k.useState(null),o=async()=>{try{r(!0);const{data:c,error:d}=await J.from("medication_offers").select(`
          *,
          hospitals (
            id,
            name,
            city,
            state,
            phone,
            email
          )
        `).eq("status","available").order("created_at",{ascending:!1});if(d)throw d;t(c||[])}catch(c){i(c instanceof Error?c.message:"Error fetching medication offers")}finally{r(!1)}},a=async c=>{try{let d;const{data:h,error:f}=await J.from("medications").select("id").eq("name",c.medication_name).single();if(h)d=h.id;else{const{data:x,error:S}=await J.from("medications").insert([{name:c.medication_name,generic_name:c.generic_name||c.medication_name,dosage:c.dosage||"N/A",form:c.form||"tablet",manufacturer:c.manufacturer||"N/A",category:c.category||"other",requires_refrigeration:c.requires_refrigeration||!1,controlled_substance:c.controlled_substance||!1}]).select("id").single();if(S)throw S;d=x.id}const{data:g,error:v}=await J.from("medication_offers").insert([{hospital_id:c.hospital_id,medication_id:d,quantity_available:c.quantity_available,price_per_unit:c.price_per_unit,expiration_date:c.expiration_date,conditions:c.conditions,contact_person:c.contact_person,contact_phone:c.contact_phone,contact_email:c.contact_email,valid_until:c.valid_until,medication_name:c.medication_name}]).select().single();if(v)throw v;return setTimeout(o,500),{data:g,error:null}}catch(d){return{data:null,error:d instanceof Error?d.message:"Error creating offer"}}};return k.useEffect(()=>{o()},[]),{offers:e,loading:n,error:s,createOffer:a,updateOffer:async(c,d)=>{try{const{data:h,error:f}=await J.from("medication_offers").update(d).eq("id",c).select();if(f)throw f;return await o(),{data:h,error:null}}catch(h){return{data:null,error:h instanceof Error?h.message:"Error updating offer"}}},refetch:o}},wm=({onNavigate:e})=>{const{user:t}=pt(),{hospitals:n}=Nt(),{requests:r,loading:s}=Yy(),{offers:i,loading:o}=Zy(),a=n.find(p=>p.user_id===(t==null?void 0:t.id)),l=tr(a==null?void 0:a.id),c=r.length,d=i.length,h=r.filter(p=>p.urgency==="critical").length,f=r.filter(p=>p.urgency==="high").length,g=h+f,v=n.length,x=[...r.slice(0,3).map(p=>{var w,_;return{type:"request",message:`Nueva solicitud de ${((w=p.medications)==null?void 0:w.name)||"medicamento"}`,hospital:((_=p.hospitals)==null?void 0:_.name)||"Hospital",time:new Date(p.created_at).toLocaleString(),urgent:p.urgency==="critical"||p.urgency==="high",id:p.id}}),...i.slice(0,3).map(p=>{var w,_;return{type:"offer",message:`Nueva oferta de ${((w=p.medications)==null?void 0:w.name)||"medicamento"}`,hospital:((_=p.hospitals)==null?void 0:_.name)||"Hospital",time:new Date(p.created_at).toLocaleString(),urgent:!1,id:p.id}})].sort((p,w)=>new Date(w.time).getTime()-new Date(p.time).getTime()).slice(0,6),S=r.reduce((p,w)=>{var j;const _=((j=w.medications)==null?void 0:j.name)||"Desconocido";return p[_]=(p[_]||0)+1,p},{}),y=Object.entries(S).sort(([,p],[,w])=>w-p).slice(0,5).map(([p,w])=>({name:p,requests:w})),m=[{title:"Solicitudes Activas",value:c.toString(),change:"+"+Math.floor(c*.1),trend:"up",icon:qo,onClick:()=>e("solicitudes")},{title:"Insumos Disponibles",value:d.toString(),change:"+"+Math.floor(d*.15),trend:"up",icon:Ms,onClick:()=>e("ofertas")},{title:"Hospitales Conectados",value:v.toString(),change:"+"+Math.floor(v*.05),trend:"up",icon:Gf,onClick:()=>e("hospitales")},{title:"Solicitudes Urgentes",value:g.toString(),change:g>5?"+2":"-1",trend:g>5?"up":"down",icon:Rs,onClick:()=>e("solicitudes")}];return s||o?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:`${l.primary} rounded-lg p-4 sm:p-6 text-white`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold mb-2",children:["Bienvenido, ",(a==null?void 0:a.name)||"Hospital"]}),u.jsx("p",{className:"text-sm sm:text-base text-white/90",children:"Panel de control de la Red de Intercambio Hospitalario"})]}),u.jsxs("div",{className:"text-right hidden sm:block",children:[u.jsx("p",{className:"text-white/80 text-xs sm:text-sm",children:"Última actualización"}),u.jsx("p",{className:"font-semibold text-sm",children:new Date().toLocaleTimeString()})]})]})}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:m.map((p,w)=>{const _=p.icon;return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",onClick:p.onClick,children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:p.title}),u.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 mt-1",children:p.value})]}),u.jsx("div",{className:`p-3 rounded-full ${p.icon===Rs?"bg-orange-100":l.light}`,children:u.jsx(_,{className:`w-5 h-5 sm:w-6 sm:h-6 ${p.icon===Rs?"text-orange-600":l.text}`})})]}),u.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[p.trend==="up"?u.jsx(Kf,{className:"w-4 h-4 text-green-500 mr-1"}):u.jsx(wS,{className:"w-4 h-4 text-red-500 mr-1"}),u.jsx("span",{className:`text-sm font-medium ${p.trend==="up"?"text-green-600":"text-red-600"}`,children:p.change}),u.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1 hidden sm:inline",children:"vs último mes"})]}),u.jsx(Bi,{className:"w-4 h-4 text-gray-400 hidden sm:block"})]})]},w)})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 border border-gray-200",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Acciones Rápidas"})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("button",{onClick:()=>e("solicitudes"),className:`w-full flex items-center justify-between p-3 sm:p-4 ${l.light} ${l.text} rounded-lg hover:bg-opacity-80 transition-colors`,children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Gr,{className:"w-5 h-5 mr-3"}),u.jsx("span",{className:"text-sm sm:text-base font-medium",children:"Nueva Solicitud"})]}),u.jsx(Bi,{className:"w-4 h-4 hidden sm:block"})]}),u.jsxs("button",{onClick:()=>e("insumos-disponibles"),className:"w-full flex items-center justify-between p-3 sm:p-4 bg-teal-100 text-teal-700 rounded-lg hover:bg-teal-200 transition-colors",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(pa,{className:"w-5 h-5 mr-3"}),u.jsx("span",{className:"text-sm sm:text-base font-medium",children:"Registrar Insumos"})]}),u.jsx(Bi,{className:"w-4 h-4 hidden sm:block"})]}),u.jsxs("button",{onClick:()=>e("hospitales"),className:"w-full flex items-center justify-between p-3 sm:p-4 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Gf,{className:"w-5 h-5 mr-3"}),u.jsx("span",{className:"text-sm sm:text-base font-medium",children:"Ver Red Hospitalaria"})]}),u.jsx(Bi,{className:"w-4 h-4 hidden sm:block"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 border border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Medicamentos Más Solicitados"}),u.jsx("button",{onClick:()=>e("solicitudes"),className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700",children:"Ver todas"})]}),u.jsx("div",{className:"space-y-4",children:y.length>0?y.map((p,w)=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.name}),u.jsxs("p",{className:"text-xs text-gray-500",children:[p.requests," solicitudes"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${w===0?"bg-red-500":w===1?"bg-orange-500":w===2?"bg-yellow-500":"bg-green-500"}`}),u.jsx(Kf,{className:"w-4 h-4 text-green-500"})]})]},w)):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No hay solicitudes registradas"})})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 border border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Actividad Reciente"}),u.jsxs("div",{className:"flex space-x-2 text-xs sm:text-sm",children:[u.jsx("button",{onClick:()=>e("solicitudes"),className:"text-blue-600 hover:text-blue-700 hidden sm:inline",children:"Ver solicitudes"}),u.jsx("span",{className:"text-gray-300 hidden sm:inline",children:"|"}),u.jsx("button",{onClick:()=>e("insumos-disponibles"),className:"text-teal-600 hover:text-teal-700 hidden sm:inline",children:"Ver insumos"})]})]}),u.jsx("div",{className:"space-y-4",children:x.length>0?x.map((p,w)=>u.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[u.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${p.urgent?"bg-red-500 animate-pulse":p.type==="request"?"bg-blue-500":"bg-teal-500"}`}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 flex-1 mr-2",children:p.message}),u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${p.type==="request"?"bg-blue-100 text-blue-700":"bg-teal-100 text-teal-700"}`,children:p.type==="request"?"Sol.":"Oferta"})]}),u.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs",children:[u.jsx("p",{className:"text-xs text-gray-500",children:p.hospital}),u.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:p.time})]})]})]},`${p.type}-${p.id}`)):u.jsxs("div",{className:"text-center py-8",children:[u.jsx(qo,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),u.jsx("p",{className:"text-sm text-gray-500",children:"No hay actividad reciente"}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Las solicitudes y ofertas aparecerán aquí"})]})})]})]})},UN=({onNavigate:e})=>{const{user:t}=pt(),{requests:n,loading:r,createRequest:s}=Yy(),{hospitals:i}=Nt(),{requestPermission:o,refreshNotifications:a}=ka(),l=i.find(T=>T.user_id===(t==null?void 0:t.id)),c=tr(l==null?void 0:l.id),[d,h]=k.useState(""),[f,g]=k.useState("all"),[v,x]=k.useState(!1),[S,y]=k.useState("cards"),[m,p]=k.useState({medicationName:"",genericName:"",dosage:"",quantity:0,urgency:"medium",dateNeeded:"",reason:"",contactPerson:"",contactPhone:""}),w=n.filter(T=>{var X,he,pe,Se;const A=((he=(X=T.medications)==null?void 0:X.name)==null?void 0:he.toLowerCase().includes(d.toLowerCase()))||((Se=(pe=T.hospitals)==null?void 0:pe.name)==null?void 0:Se.toLowerCase().includes(d.toLowerCase())),U=f==="all"||T.urgency===f;return A&&U}),_={low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"},j={low:"Baja",medium:"Media",high:"Alta",critical:"Crítica"},N=(T,A,U)=>{localStorage.setItem("contactHospital",JSON.stringify({hospitalId:T,hospitalName:A,subject:U,timestamp:Date.now()})),e("mensajes")},b=async T=>{if(T.preventDefault(),!(!l||!t))try{const{error:A}=await s({hospital_id:l.id,medication_name:m.medicationName,quantity_requested:m.quantity,urgency:m.urgency,reason:m.reason,contact_person:m.contactPerson,contact_phone:m.contactPhone,contact_email:t.email||"",date_needed:m.dateNeeded});A||(x(!1),p({medicationName:"",genericName:"",dosage:"",quantity:0,urgency:"medium",dateNeeded:"",reason:"",contactPerson:"",contactPhone:""}),await o(),setTimeout(a,1e3))}catch(A){console.error("Error creating request:",A)}};return r?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Solicitudes"}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("div",{className:"hidden sm:flex items-center bg-gray-100 rounded-lg p-1",children:[u.jsx("button",{onClick:()=>y("cards"),className:`p-2 rounded-md transition-colors ${S==="cards"?`${c.primary} text-white`:"text-gray-600 hover:text-gray-900"}`,title:"Vista de tarjetas",children:u.jsx(hy,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>y("table"),className:`p-2 rounded-md transition-colors ${S==="table"?`${c.primary} text-white`:"text-gray-600 hover:text-gray-900"}`,title:"Vista de tabla",children:u.jsx(fy,{className:"w-4 h-4"})})]}),u.jsxs("button",{onClick:()=>x(!0),className:`${c.primary} text-white px-4 py-2 rounded-lg ${c.hover} transition-colors flex items-center space-x-2`,children:[u.jsx(pa,{className:"w-4 h-4"}),u.jsx("span",{children:"Nueva Solicitud"})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Gr,{className:"absolute left-2 sm:left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),u.jsx("input",{type:"text",placeholder:"Buscar medicamentos o hospitales...",value:d,onChange:T=>h(T.target.value),className:`w-full pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-${c.text.split("-")[1]}-500 focus:border-transparent text-sm`})]}),u.jsxs("select",{value:f,onChange:T=>g(T.target.value),className:"px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[u.jsx("option",{value:"all",children:"Todas las urgencias"}),u.jsx("option",{value:"low",children:"Baja"}),u.jsx("option",{value:"medium",children:"Media"}),u.jsx("option",{value:"high",children:"Alta"}),u.jsx("option",{value:"critical",children:"Crítica"})]})]}),S==="cards"?u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:w.map(T=>{var A;return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:T.medication_name||"Medicamento no disponible"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:((A=T.hospitals)==null?void 0:A.name)||"Hospital no disponible"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${_[T.urgency]}`,children:j[T.urgency]}),T.urgency==="critical"&&u.jsx(Rs,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-500"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 text-xs sm:text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Cantidad Solicitada"}),u.jsxs("p",{className:"font-medium",children:[T.quantity_requested," unidades"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Dosificación"}),u.jsx("p",{className:"font-medium",children:T.dosage||"No especificada"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Fecha Necesaria"}),u.jsx("p",{className:"font-medium",children:new Date(T.date_needed).toLocaleDateString()})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Contacto"}),u.jsx("p",{className:"font-medium",children:T.contact_person})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Razón"}),u.jsx("p",{className:"text-xs sm:text-sm",children:T.reason})]})]}),u.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[u.jsx(qo,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),new Date(T.created_at).toLocaleDateString()]}),u.jsx("button",{className:"bg-teal-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-teal-700 transition-colors text-sm",children:"Responder"})]})]},T.id)})}):u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medicamento"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"Hospital"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Urgencia"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell",children:"Fecha Necesaria"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell",children:"Contacto"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(T=>{var A,U;return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-3 sm:px-6 py-4",children:u.jsxs("div",{children:[u.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate max-w-32 sm:max-w-none",children:T.medication_name||"Medicamento no disponible"}),u.jsx("div",{className:"text-xs text-gray-500 sm:hidden",children:((A=T.hospitals)==null?void 0:A.name)||"Hospital no disponible"}),u.jsx("div",{className:"text-xs text-gray-500 hidden sm:block",children:T.dosage||"No especificada"})]})}),u.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap hidden sm:table-cell",children:u.jsx("div",{className:"text-xs sm:text-sm text-gray-900",children:((U=T.hospitals)==null?void 0:U.name)||"Hospital no disponible"})}),u.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-xs sm:text-sm text-gray-900",children:T.quantity_requested})}),u.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:u.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${_[T.urgency]}`,children:[u.jsx("span",{className:"sm:hidden",children:j[T.urgency].charAt(0)}),u.jsx("span",{className:"hidden sm:inline",children:j[T.urgency]})]})}),u.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap hidden lg:table-cell",children:u.jsx("div",{className:"text-xs sm:text-sm text-gray-900",children:new Date(T.date_needed).toLocaleDateString()})}),u.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap hidden md:table-cell",children:u.jsx("div",{className:"text-xs sm:text-sm text-gray-900",children:T.contact_person})}),u.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-right text-xs sm:text-sm font-medium",children:u.jsxs("button",{onClick:()=>{var X,he;return N((X=T.hospitals)==null?void 0:X.id,(he=T.hospitals)==null?void 0:he.name,`Solicitud: ${T.medication_name}`)},className:"bg-teal-600 text-white px-2 sm:px-3 py-1 rounded-md hover:bg-teal-700 transition-colors text-xs",children:[u.jsx("span",{className:"sm:hidden",children:"Resp."}),u.jsx("span",{className:"hidden sm:inline",children:"Responder"})]})})]},T.id)})})]})})}),v&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Nueva Solicitud de Medicamento"}),u.jsxs("form",{onSubmit:b,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Medicamento"}),u.jsx("input",{type:"text",value:m.medicationName,onChange:T=>p({...m,medicationName:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Amoxicilina",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Genérico"}),u.jsx("input",{type:"text",value:m.genericName,onChange:T=>p({...m,genericName:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Amoxicilina"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dosificación"}),u.jsx("input",{type:"text",value:m.dosage,onChange:T=>p({...m,dosage:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: 500mg"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cantidad Solicitada"}),u.jsx("input",{type:"number",value:m.quantity,onChange:T=>p({...m,quantity:parseInt(T.target.value)||0}),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: 100",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgencia"}),u.jsxs("select",{value:m.urgency,onChange:T=>p({...m,urgency:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"low",children:"Baja"}),u.jsx("option",{value:"medium",children:"Media"}),u.jsx("option",{value:"high",children:"Alta"}),u.jsx("option",{value:"critical",children:"Crítica"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha Necesaria"}),u.jsx("input",{type:"date",value:m.dateNeeded,onChange:T=>p({...m,dateNeeded:T.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Razón de la Solicitud"}),u.jsx("textarea",{rows:3,value:m.reason,onChange:T=>p({...m,reason:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describa la razón de la solicitud...",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Persona de Contacto"}),u.jsx("input",{type:"text",value:m.contactPerson,onChange:T=>p({...m,contactPerson:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Dr. Juan Pérez",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teléfono"}),u.jsx("input",{type:"tel",value:m.contactPhone,onChange:T=>p({...m,contactPhone:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: +52 55 1234 5678",required:!0})]})]}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),u.jsx("button",{type:"submit",className:`${c.primary} text-white px-6 py-2 rounded-lg ${c.hover} transition-colors`,children:"Enviar Solicitud"})]})]})]})})})]})},FN=()=>{const[e,t]=k.useState([]),[n,r]=k.useState(!0),[s,i]=k.useState(null),o=async()=>{try{r(!0);const{data:l,error:c}=await J.from("medications").select("*").order("name");if(c)throw c;t(l||[])}catch(l){i(l instanceof Error?l.message:"Error fetching medications")}finally{r(!1)}};return k.useEffect(()=>{o()},[]),{medications:e,loading:n,error:s,createMedication:async l=>{try{const{data:c,error:d}=await J.from("medications").insert([l]).select().single();if(d)throw d;return await o(),{data:c,error:null}}catch(c){return{data:null,error:c instanceof Error?c.message:"Error creating medication"}}},refetch:o}},zN=({onNavigate:e})=>{const{user:t}=pt(),{offers:n,loading:r,createOffer:s}=Zy();FN();const{hospitals:i}=Nt(),{requestPermission:o,refreshNotifications:a}=ka(),l=i.find(b=>b.user_id===(t==null?void 0:t.id)),c=tr(l==null?void 0:l.id),[d,h]=k.useState(""),[f,g]=k.useState("all"),[v,x]=k.useState(!1),[S,y]=k.useState("cards"),[m,p]=k.useState({medicationName:"",genericName:"",dosage:"",quantity:0,expirationDate:"",pricePerUnit:"",conditions:"",contactPerson:"",contactPhone:"",validUntil:"",requiresRefrigeration:!1,controlledSubstance:!1}),w=(b,T,A)=>{localStorage.setItem("contactHospital",JSON.stringify({hospitalId:b,hospitalName:T,subject:A,timestamp:Date.now()})),e("mensajes")},_=n.filter(b=>{var U,X,he,pe,Se;const T=((X=(U=b.medications)==null?void 0:U.name)==null?void 0:X.toLowerCase().includes(d.toLowerCase()))||((pe=(he=b.hospitals)==null?void 0:he.name)==null?void 0:pe.toLowerCase().includes(d.toLowerCase())),A=f==="all"||((Se=b.medications)==null?void 0:Se.category)===f;return T&&A}),j={antibiotics:"Antibióticos",analgesics:"Analgésicos",cardiovascular:"Cardiovascular",respiratory:"Respiratorio",neurological:"Neurológico",endocrine:"Endocrino",oncology:"Oncología",other:"Otros"},N=async b=>{if(b.preventDefault(),!(!l||!t))try{const{error:T}=await s({hospital_id:l.id,medication_name:m.medicationName,generic_name:m.genericName,dosage:m.dosage,quantity_available:m.quantity,price_per_unit:m.pricePerUnit?parseFloat(m.pricePerUnit):null,expiration_date:m.expirationDate,conditions:m.conditions,contact_person:m.contactPerson,contact_phone:m.contactPhone,contact_email:t.email||"",valid_until:m.validUntil,requires_refrigeration:m.requiresRefrigeration,controlled_substance:m.controlledSubstance});T||(x(!1),p({medicationName:"",genericName:"",dosage:"",quantity:0,expirationDate:"",pricePerUnit:"",conditions:"",contactPerson:"",contactPhone:"",validUntil:"",requiresRefrigeration:!1,controlledSubstance:!1}),await o(),setTimeout(a,1e3))}catch(T){console.error("Error creating offer:",T)}};return r?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Insumos Disponibles"}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("div",{className:"hidden sm:flex items-center bg-gray-100 rounded-lg p-1",children:[u.jsx("button",{onClick:()=>y("cards"),className:`p-2 rounded-md transition-colors ${S==="cards"?`${c.primary} text-white`:"text-gray-600 hover:text-gray-900"}`,title:"Vista de tarjetas",children:u.jsx(hy,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>y("table"),className:`p-2 rounded-md transition-colors ${S==="table"?`${c.primary} text-white`:"text-gray-600 hover:text-gray-900"}`,title:"Vista de tabla",children:u.jsx(fy,{className:"w-4 h-4"})})]}),u.jsxs("button",{onClick:()=>x(!0),className:`${c.primary} text-white px-4 py-2 rounded-lg ${c.hover} transition-colors flex items-center space-x-2`,children:[u.jsx(pa,{className:"w-4 h-4"}),u.jsx("span",{children:"Registrar Insumos"})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Gr,{className:"absolute left-2 sm:left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),u.jsx("input",{type:"text",placeholder:"Buscar medicamentos u hospitales...",value:d,onChange:b=>h(b.target.value),className:`w-full pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-${c.text.split("-")[1]}-500 focus:border-transparent text-sm`})]}),u.jsxs("select",{value:f,onChange:b=>g(b.target.value),className:"px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",children:[u.jsx("option",{value:"all",children:"Todas las categorías"}),Object.entries(j).map(([b,T])=>u.jsx("option",{value:b,children:T},b))]})]}),S==="cards"?u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:_.map(b=>{var T;return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:b.medication_name}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:((T=b.hospitals)==null?void 0:T.name)||"Hospital no disponible"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center space-y-1 sm:space-y-0 sm:space-x-2",children:[u.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-teal-100 text-teal-800 whitespace-nowrap",children:"Medicamento"}),u.jsx("div",{className:"flex items-center space-x-1",children:u.jsx(Ms,{className:"w-3 h-3 sm:w-4 sm:h-4 text-teal-500",title:"Medicamento disponible"})})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 text-xs sm:text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Cantidad Disponible"}),u.jsxs("p",{className:"font-medium",children:[b.quantity_available," unidades"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Presentación"}),u.jsx("p",{className:"font-medium",children:"Unidad"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Fecha de caducidad"}),u.jsx("p",{className:"font-medium",children:new Date(b.expiration_date).toLocaleDateString()})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Precio"}),u.jsx("p",{className:"font-medium",children:b.price_per_unit?`$${b.price_per_unit} / unidad`:"Donación"})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Condiciones"}),u.jsx("p",{className:"text-xs sm:text-sm",children:b.conditions})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Contacto"}),u.jsx("p",{className:"text-xs sm:text-sm font-medium",children:b.contact_person})]})]}),u.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[u.jsx(Ms,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),u.jsx("span",{className:"hidden sm:inline",children:"Válido hasta: "}),new Date(b.valid_until).toLocaleDateString()]}),u.jsx("button",{onClick:()=>{var A,U;return w((A=b.hospitals)==null?void 0:A.id,(U=b.hospitals)==null?void 0:U.name,`Oferta: ${b.medication_name}`)},className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Contactar"})]})]},b.id)})}):u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medicamento"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hospital"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Caducidad"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(b=>{var T;return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.medication_name}),u.jsx("div",{className:"text-sm text-gray-500",children:"Unidad"}),u.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[u.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-teal-100 text-teal-800",children:"Medicamento"}),u.jsx(Ms,{className:"w-3 h-3 text-teal-500",title:"Medicamento disponible"})]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:((T=b.hospitals)==null?void 0:T.name)||"Hospital no disponible"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"text-sm text-gray-900",children:[b.quantity_available," unidades"]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:b.price_per_unit?`$${b.price_per_unit}`:"Donación"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:new Date(b.expiration_date).toLocaleDateString()})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:b.contact_person})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:u.jsx("button",{onClick:()=>{var A,U;return w((A=b.hospitals)==null?void 0:A.id,(U=b.hospitals)==null?void 0:U.name,`Oferta: ${b.medication_name}`)},className:"bg-blue-600 text-white px-3 py-1 rounded-md hover:bg-blue-700 transition-colors",children:"Contactar"})})]},b.id)})})]})})}),v&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Nueva Oferta de Medicamento"}),u.jsxs("form",{onSubmit:N,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Código del Medicamento"}),u.jsx("input",{type:"text",value:m.medicationName,onChange:b=>p({...m,medicationName:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Ej: 010.000.3609.00",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Medicamento"}),u.jsx("input",{type:"text",value:m.genericName,onChange:b=>p({...m,genericName:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Ej: Acetaminofén"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Presentación"}),u.jsx("input",{type:"text",value:m.dosage,onChange:b=>p({...m,dosage:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Ej: tableta"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cantidad Disponible"}),u.jsx("input",{type:"number",value:m.quantity,onChange:b=>p({...m,quantity:parseInt(b.target.value)||0}),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Ej: 100",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Caducidad"}),u.jsx("input",{type:"date",value:m.expirationDate,onChange:b=>p({...m,expirationDate:b.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio por Unidad (Opcional)"}),u.jsx("input",{type:"number",step:"0.01",value:m.pricePerUnit,onChange:b=>p({...m,pricePerUnit:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Ej: 0.50"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Condiciones de la Oferta"}),u.jsx("textarea",{rows:3,value:m.conditions,onChange:b=>p({...m,conditions:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Describa las condiciones del medicamento...",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Persona de Contacto"}),u.jsx("input",{type:"text",value:m.contactPerson,onChange:b=>p({...m,contactPerson:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Ej: Dr. Ana López",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teléfono"}),u.jsx("input",{type:"tel",value:m.contactPhone,onChange:b=>p({...m,contactPhone:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Ej: +52 55 1234 5678",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Válido Hasta"}),u.jsx("input",{type:"date",value:m.validUntil,onChange:b=>p({...m,validUntil:b.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),u.jsxs("div",{className:"flex items-center space-x-6",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:m.requiresRefrigeration,onChange:b=>p({...m,requiresRefrigeration:b.target.checked}),className:"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500"}),u.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Requiere refrigeración"})]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:m.controlledSubstance,onChange:b=>p({...m,controlledSubstance:b.target.checked}),className:"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500"}),u.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Sustancia controlada"})]})]}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),u.jsx("button",{type:"submit",className:`${c.primary} text-white px-6 py-2 rounded-lg ${c.hover} transition-colors`,children:"Publicar Oferta"})]})]})]})})})]})},BN=()=>{const{hospitals:e,loading:t}=Nt(),[n,r]=k.useState(""),[s,i]=k.useState("all"),[o,a]=k.useState("all");if(t)return u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const l=e.filter(f=>{const g=f.name.toLowerCase().includes(n.toLowerCase())||f.city.toLowerCase().includes(n.toLowerCase()),v=s==="all"||f.type===s,x=o==="all"||f.state===o;return g&&v&&x}),c={public:"Público",private:"Privado",university:"Universitario"},d={public:"bg-blue-100 text-blue-800",private:"bg-green-100 text-green-800",university:"bg-purple-100 text-purple-800"},h=[...new Set(e.map(f=>f.state))];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Red Hospitalaria"}),u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[u.jsx(fd,{className:"w-4 h-4"}),u.jsxs("span",{children:[e.length," hospitales conectados"]})]})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:space-x-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Gr,{className:"absolute left-2 sm:left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),u.jsx("input",{type:"text",placeholder:"Buscar por nombre o ciudad...",value:n,onChange:f=>r(f.target.value),className:"w-full pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),u.jsxs("select",{value:s,onChange:f=>i(f.target.value),className:"px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[u.jsx("option",{value:"all",children:"Todos los tipos"}),Object.entries(c).map(([f,g])=>u.jsx("option",{value:f,children:g},f))]}),u.jsxs("select",{value:o,onChange:f=>a(f.target.value),className:"px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[u.jsx("option",{value:"all",children:"Todos los estados"}),h.map(f=>u.jsx("option",{value:f,children:f},f))]})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:l.map((f,g)=>{const v=LN(g);return u.jsxs("div",{className:`bg-white rounded-lg shadow-sm border-l-4 ${v.border} p-4 sm:p-6`,children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${v.primary}`}),u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:f.name})]}),u.jsxs("div",{className:"flex items-center mt-1",children:[u.jsx(gS,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500 mr-1"}),u.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:[f.city,", ",f.state]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${d[f.type]}`,children:c[f.type]}),f.verified&&u.jsx(dS,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500",title:"Hospital verificado"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(bS,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500 mr-2"}),u.jsxs("span",{className:"text-xs sm:text-sm text-gray-700",children:[u.jsx("strong",{children:"Director:"})," ",f.director]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(lS,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500 mr-2"}),u.jsxs("span",{className:"text-xs sm:text-sm text-gray-700",children:[u.jsx("strong",{children:"Camas:"})," ",f.beds]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs sm:text-sm text-gray-700 mb-2",children:u.jsx("strong",{children:"Especialidades:"})}),u.jsx("div",{className:"flex flex-wrap gap-1",children:f.specialties.map((x,S)=>u.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded-full",children:x},S))})]}),u.jsx("div",{className:"border-t pt-3",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between text-xs sm:text-sm space-y-1 sm:space-y-0",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(vS,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500 mr-1"}),u.jsx("span",{className:"text-gray-600",children:f.phone})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(my,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500 mr-1"}),u.jsx("span",{className:"text-gray-600",children:f.email})]})]})})]}),u.jsxs("div",{className:"mt-4 sm:mt-6 flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[u.jsx("button",{className:"flex-1 bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Contactar"}),u.jsx("button",{className:`flex-1 ${v.light} ${v.text} px-3 sm:px-4 py-2 rounded-lg ${v.hover} hover:text-white transition-colors text-sm`,children:"Ver Perfil"})]})]},f.id)})})]})},WN=()=>{var wd;const{user:e}=pt(),{hospitals:t}=Nt(),[n,r]=k.useState(null);k.useState(null);const[s,i]=k.useState([]),[o,a]=k.useState(null),l=k.useRef(!1),[c,d]=k.useState(!1);k.useEffect(()=>{const E=()=>d(window.innerWidth<1024);return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const h=(t||[]).filter(E=>E.user_id!==(e==null?void 0:e.id)),{messages:f,loading:g,messagesLoading:v,sendMessage:x,markAsRead:S,fetchMessages:y,currentHospital:m}=Xy(n);k.useState({});const[p,w]=k.useState({}),[_,j]=k.useState({});k.useState({}),k.useEffect(()=>{const E=()=>{try{const L=localStorage.getItem("conversationOrder");L&&i(JSON.parse(L))}catch{console.error("Error parsing saved conversation order")}};return E(),window.addEventListener("conversationOrderUpdated",E),()=>{window.removeEventListener("conversationOrderUpdated",E)}},[]),k.useEffect(()=>{const E=()=>{if(document.visibilityState==="visible"){const L=JSON.parse(localStorage.getItem("conversationOrder")||"[]");i(L)}};return document.addEventListener("visibilitychange",E),()=>{document.removeEventListener("visibilitychange",E)}},[]),k.useEffect(()=>{const E=()=>{const L=JSON.parse(localStorage.getItem("conversationOrder")||"[]");i(L)};return window.addEventListener("conversationOrderUpdated",E),()=>{window.removeEventListener("conversationOrderUpdated",E)}},[]),k.useEffect(()=>{const E=JSON.parse(localStorage.getItem("conversationOrder")||"[]");i(E)},[]),k.useEffect(()=>{const E=JSON.parse(localStorage.getItem("conversationOrder")||"[]");i(E)},[]),k.useEffect(()=>{if(!m||f.length===0)return;const E=f[f.length-1];if(!E||E.id===o)return;const L=E.sender_hospital_id===m.id?E.recipient_hospital_id:E.sender_hospital_id;_i[L]=E.content,L!==n&&E.sender_hospital_id!==m.id&&(a(E.id),j(G=>{const we=G[L]||0;return{...G,[L]:we+1}}),w(G=>({...G,[L]:!0})),i(G=>{const we=[L,...G.filter(Sa=>Sa!==L)];return localStorage.setItem("conversationOrder",JSON.stringify(we)),we}))},[f,n,m,o]);const N=tr(m==null?void 0:m.id),[b,T]=k.useState(""),[A,U]=k.useState(""),[X,he]=k.useState(!1),[pe,Se]=k.useState(!1),Ce=k.useRef(null),[K,C]=k.useState([]),[I,D]=k.useState(!1),[z,Y]=k.useState({medicationName:"",quantity:0,recipientHospitalId:""}),ae=()=>{var E;(E=Ce.current)==null||E.scrollIntoView({behavior:"auto"})};k.useEffect(()=>{!n||f.length===0||ae()},[f,n]),k.useEffect(()=>{if(!n)return;(async()=>{S(),window.location.hash=n,l.current=!1,await y(n);const L=JSON.parse(localStorage.getItem("conversationOrder")||"[]");i(L)})()},[n]),k.useEffect(()=>{const E=localStorage.getItem("contactHospital");if(!(!E||!m))try{const{hospitalId:L,subject:G}=JSON.parse(E);if(L&&G){r(L);const we=`Hola, me interesa contactarte sobre: ${G}`;x({sender_hospital_id:m.id,recipient_hospital_id:L,content:we,message_type:"text"}),localStorage.removeItem("contactHospital")}}catch(L){console.error("Error parsing contact info:",L)}},[m]);const se=h.filter(E=>E.name.toLowerCase().includes(A.toLowerCase())).sort((E,L)=>{const G=s.indexOf(E.id),we=s.indexOf(L.id);return G===-1&&we===-1?0:G===-1?1:we===-1?-1:G-we}),Tt=k.useCallback(async E=>{if(E.preventDefault(),!(!b.trim()||!n||!m||X||pe)){he(!0),Se(!0);try{T(""),setTimeout(ae,50);const{error:L}=await x({sender_hospital_id:m.id,recipient_hospital_id:n,content:b.trim(),message_type:"text"});L&&T(b.trim()),!L&&n&&i(G=>{const we=[n,...G.filter(Sa=>Sa!==n)];return localStorage.setItem("conversationOrder",JSON.stringify(we)),we})}catch(L){console.error("Error sending message:",L)}finally{he(!1),Se(!1)}}},[b,n,m,x,X,pe,y]),st=k.useCallback(()=>{D(!0),Y({...z,recipientHospitalId:n||""})},[n,z]),te=k.useCallback(async E=>{if(E.preventDefault(),!m||!n||!z.medicationName||!z.quantity)return;const L={id:`transfer-${Date.now()}`,fromHospitalId:m.id,toHospitalId:n,medicationName:z.medicationName,quantity:z.quantity,status:"pending",agreedByFrom:!0,agreedByTo:!1,createdAt:new Date().toISOString()};C(we=>[...we,L]);const G=`🔄 PROPUESTA DE TRANSFERENCIA

Medicamento: ${z.medicationName}
Cantidad: ${z.quantity} unidades

¿Estás de acuerdo con esta transferencia? Responde "ACEPTO" para confirmar.`;await x({sender_hospital_id:m.id,recipient_hospital_id:n,content:G,message_type:"text"}),D(!1),Y({medicationName:"",quantity:0,recipientHospitalId:""})},[m,n,z,x]),bi=k.useCallback(async E=>{C(L=>L.map(G=>G.id===E?{...G,agreedByTo:!0,status:"agreed"}:G)),m&&n&&await x({sender_hospital_id:m.id,recipient_hospital_id:n,content:"✅ ACEPTO la transferencia propuesta. La transferencia está ahora confirmada y puede proceder.",message_type:"text"})},[m,n,x]),Cn=K.filter(E=>E.toHospitalId===(m==null?void 0:m.id)&&E.fromHospitalId===n&&!E.agreedByTo),Xt=K.filter(E=>(E.fromHospitalId===(m==null?void 0:m.id)||E.toHospitalId===(m==null?void 0:m.id))&&(E.fromHospitalId===n||E.toHospitalId===n)&&E.agreedByFrom&&E.agreedByTo),Zr=E=>{const L=new Date(E);return(new Date().getTime()-L.getTime())/(1e3*60*60)<24?L.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):L.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})},En=E=>E.split(" ").map(L=>L.charAt(0)).join("").substring(0,2).toUpperCase();if(g)return u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const _i={};return f.slice().reverse().forEach(E=>{const L=E.sender_hospital_id===(m==null?void 0:m.id)?E.recipient_hospital_id:E.sender_hospital_id;_i[L]||(_i[L]=E.content)}),u.jsxs("div",{className:"h-[calc(100vh-10rem)] sm:h-[calc(100vh-12rem)] lg:h-[calc(100vh-8rem)] flex flex-col lg:flex-row bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[u.jsxs("div",{className:`flex flex-col ${c&&n?"hidden":"flex"} w-full lg:w-1/3`,children:[u.jsxs("div",{className:`p-3 sm:p-4 bg-gradient-to-r ${N.gradient} text-white lg:rounded-none`,children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("h2",{className:"text-base sm:text-lg font-bold flex items-center lg:flex",children:[u.jsx(gs,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),u.jsx("span",{className:"hidden sm:inline lg:inline",children:"Red Hospitalaria"}),u.jsx("span",{className:"sm:hidden lg:hidden",children:"Chats"})]})}),u.jsxs("div",{className:"relative hidden lg:block",children:[u.jsx(Gr,{className:"absolute left-2 sm:left-3 top-1/2 transform -translate-y-1/2 text-white/70 w-4 h-4"}),u.jsx("input",{type:"text",placeholder:"Buscar hospitales...",value:A,onChange:E=>U(E.target.value),className:"w-full pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-white/70 focus:bg-white/30 focus:outline-none text-sm"})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto bg-white",children:se.length===0?u.jsxs("div",{className:"p-4 sm:p-6 text-center text-gray-500",children:[u.jsx(gs,{className:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 text-gray-300"}),u.jsx("p",{className:"font-medium",children:"No hay hospitales"}),u.jsx("p",{className:"text-xs sm:text-sm mt-1",children:"No se encontraron hospitales en la red"})]}):u.jsx("div",{className:"divide-y divide-gray-100 lg:divide-gray-200",children:se.map(E=>{const L=n===E.id;return u.jsx("div",{onClick:()=>{r(E.id),w(G=>({...G,[E.id]:!1})),j(G=>({...G,[E.id]:0}))},className:`p-3 sm:p-4 cursor-pointer transition-colors border-l-4 ${L?`${N.light} ${N.text} ${N.border}`:"hover:bg-gray-50 border-transparent"}`,children:u.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[u.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center text-white font-bold text-sm ${N.primary} shadow-md`,children:En(E.name)}),_[E.id]>0&&u.jsx("div",{className:`ml-auto mt-1 text-white text-xs font-bold rounded-full px-2 py-0.5 shadow-md ${N.primary}`,title:`${_[E.id]} mensaje(s) sin leer`,children:_[E.id]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 truncate",children:E.name}),u.jsx("p",{className:"text-xs text-gray-600 truncate mt-0.5 font-medium",children:_i[E.id]||""}),u.jsxs("p",{className:"text-xs text-gray-400 mt-1 hidden lg:block",children:[E.city,", ",E.state]})]}),u.jsxs("div",{className:"text-right hidden lg:block",children:[u.jsx("span",{className:"text-xs text-gray-400",children:"12:30"}),u.jsx("div",{className:"mt-1",children:u.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:E.type==="public"?"Público":E.type==="private"?"Privado":"Universitario"})})]})]}),u.jsxs("div",{className:"flex items-center justify-between mt-2 lg:hidden",children:[u.jsx("div",{className:"flex items-center text-xs text-gray-500",children:u.jsx("span",{children:E.city})}),u.jsx("div",{className:"flex items-center text-xs text-gray-400",children:u.jsx("span",{children:"12:30"})})]})]})]})},E.id)})})})]}),u.jsx("div",{className:`flex-1 flex flex-col min-h-0 ${c&&!n?"hidden":"flex"}`,children:n?u.jsxs(u.Fragment,{children:[(()=>{const E=h.find(L=>L.id===n);return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-200 bg-gray-50",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[c&&u.jsx("button",{onClick:()=>r(null),className:"text-blue-600 text-sm font-medium mr-2 hover:underline",children:"← Atrás"}),u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[u.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center text-white font-bold text-xs sm:text-sm ${N.primary}`,children:En((E==null?void 0:E.name)||"Hospital")}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:(E==null?void 0:E.name)||"Hospital"}),u.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[E==null?void 0:E.city,", ",E==null?void 0:E.state]})]})]}),u.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[Xt.length>0&&u.jsxs("div",{className:"flex items-center space-x-1 px-2 sm:px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs sm:text-sm",children:[u.jsx(cS,{className:"w-3 h-3 sm:w-4 sm:h-4"}),u.jsxs("span",{className:"hidden sm:inline",children:[Xt.length," transferencia(s) activa(s)"]}),u.jsx("span",{className:"sm:hidden",children:Xt.length})]}),u.jsxs("button",{onClick:st,className:`px-2 sm:px-3 py-1 bg-gradient-to-r ${N.gradient} text-white rounded-lg hover:opacity-90 transition-all text-xs sm:text-sm flex items-center space-x-1`,children:[u.jsx(dy,{className:"w-3 h-3 sm:w-4 sm:h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Proponer Transferencia"}),u.jsx("span",{className:"sm:hidden",children:"Transfer"})]})]})]}),Cn.length>0&&u.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[u.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Transferencias Pendientes de Aprobación:"}),Cn.map(L=>u.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:L.medicationName}),u.jsxs("p",{className:"text-xs text-gray-600",children:[L.quantity," unidades"]})]}),u.jsx("button",{onClick:()=>bi(L.id),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors",children:"Aceptar"})]},L.id))]})]})})})(),u.jsxs("div",{className:"flex-1 overflow-y-auto p-2 sm:p-4 space-y-2 sm:space-y-4 bg-gray-50 lg:bg-white",style:{minHeight:0,backgroundImage:'url("data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23f0f0f0" fill-opacity="0.1"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")'},children:[v?u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-blue-600"})}):f.length===0?u.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:u.jsxs("div",{className:"text-center",children:[u.jsx(gs,{className:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 text-gray-300"}),u.jsx("p",{className:"font-medium",children:"No hay mensajes"}),u.jsx("p",{className:"text-xs sm:text-sm mt-1",children:"Envía el primer mensaje para comenzar la conversación"})]})}):f.map(E=>{var we;const L=E.sender_hospital_id===(m==null?void 0:m.id),G=E.id.startsWith("temp-");return u.jsx("div",{className:`flex ${L?"justify-end":"justify-start"} px-1 sm:px-0 animate-fadeIn`,children:u.jsxs("div",{className:`max-w-xs sm:max-w-sm lg:max-w-md px-3 sm:px-4 py-2 shadow-sm transition-opacity ${L?`bg-gradient-to-r ${N.gradient} text-white rounded-tl-2xl rounded-tr-2xl rounded-bl-2xl rounded-br-md`:"bg-white text-gray-900 border border-gray-200 rounded-tl-md rounded-tr-2xl rounded-bl-2xl rounded-br-2xl"} ${G?"opacity-70":"opacity-100"}`,children:[!L&&u.jsx("p",{className:"text-xs font-medium mb-1 opacity-70 hidden lg:block",children:((we=E.sender_hospital)==null?void 0:we.name)||"Hospital"}),u.jsx("p",{className:"text-sm leading-relaxed",children:E.content}),u.jsxs("div",{className:`flex items-center justify-end mt-1 space-x-1 ${L?"text-white/70":"text-gray-500"}`,children:[u.jsx("span",{className:"text-xs",children:Zr(E.created_at)}),L&&!G&&(E.read_at?u.jsx(uS,{className:"w-3 h-3",title:"Leído"}):u.jsx(hS,{className:"w-3 h-3",title:"Enviado"})),G&&u.jsx("div",{className:"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin",title:"Enviando..."})]})]})},E.id)}),u.jsx("div",{ref:Ce})]}),u.jsx("form",{onSubmit:Tt,className:"p-3 sm:p-4 border-t border-gray-200 bg-white",children:u.jsxs("div",{className:"flex items-end space-x-2 sm:space-x-3",children:[u.jsx("input",{type:"text",value:b,onChange:E=>T(E.target.value),placeholder:"Escribe un mensaje",disabled:X||pe,autoComplete:"off",className:"flex-1 px-4 py-3 border border-gray-300 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 text-sm bg-gray-50 resize-none max-h-20"}),u.jsx("button",{type:"submit",disabled:!b.trim()||X||pe,className:`w-12 h-12 bg-gradient-to-r ${N.gradient} text-white rounded-full hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg`,children:X||pe?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsx(xS,{className:"w-5 h-5"})})]})})]}):u.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500 bg-gray-50 lg:bg-white",children:u.jsxs("div",{className:"text-center",children:[u.jsx(gs,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecciona un hospital"}),u.jsx("p",{className:"text-sm mb-4",children:"Elige un hospital de la red para comenzar a chatear"})]})})}),I&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"bg-white rounded-lg max-w-md w-full",children:u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Proponer Transferencia"}),u.jsxs("p",{className:"text-gray-600 mb-6",children:["Propón una transferencia de medicamento a ",(wd=h.find(E=>E.id===n))==null?void 0:wd.name]}),u.jsxs("form",{onSubmit:te,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medicamento"}),u.jsx("input",{type:"text",value:z.medicationName,onChange:E=>Y({...z,medicationName:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nombre del medicamento",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cantidad"}),u.jsx("input",{type:"number",value:z.quantity,onChange:E=>Y({...z,quantity:parseInt(E.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Cantidad a transferir",min:"1",required:!0})]}),u.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[u.jsx("button",{type:"button",onClick:()=>D(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),u.jsx("button",{type:"submit",className:`px-6 py-2 bg-gradient-to-r ${N.gradient} text-white rounded-lg hover:opacity-90 transition-all`,children:"Proponer Transferencia"})]})]})]})})})]})},HN=()=>{const{user:e}=pt(),{hospitals:t}=Nt(),n=k.useMemo(()=>!e||t.length===0?null:t.find(r=>r.user_id===e.id)||null,[e,t]);return k.useEffect(()=>{if(!n)return;console.log("✅ MessageListener activo para:",n.name);const r=i=>{const o=i.new;if(!(o.recipient_hospital_id===n.id))return;const l=o.sender_hospital_id;console.log("📩 Mensaje entrante recibido de:",l);const c=JSON.parse(localStorage.getItem("conversationOrder")||"[]"),d=[l,...c.filter(f=>f!==l)];localStorage.setItem("conversationOrder",JSON.stringify(d)),window.dispatchEvent(new Event("conversationOrderUpdated"));const h=JSON.parse(localStorage.getItem("unreadCountMap")||"{}");if(h[l]=(h[l]||0)+1,localStorage.setItem("unreadCountMap",JSON.stringify(h)),window.dispatchEvent(new Event("unreadMessagesUpdated")),document.visibilityState==="visible"){const f=document.createElement("div");f.innerText="📩 Nuevo mensaje recibido",f.style.cssText=`
          position: fixed;
          bottom: 20px;
          right: 20px;
          background: white;
          color: black;
          padding: 10px 16px;
          border-radius: 10px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          z-index: 9999;
          font-family: sans-serif;
          font-size: 14px;
        `,document.body.appendChild(f),setTimeout(()=>{document.body.removeChild(f)},4e3)}"Notification"in window&&Notification.permission==="granted"&&new Notification("📩 Nuevo mensaje recibido",{body:"Has recibido un nuevo mensaje de otro hospital.",icon:"/logo.png"})},s=J.channel("global-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"mensajes"},r).subscribe();return()=>{J.removeChannel(s)}},[n]),null};function qN(){const{user:e,loading:t}=pt();Nt();const[n,r]=k.useState("dashboard"),[s,i]=k.useState(!1);k.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(l=>{console.log("🔔 Permiso de notificaciones:",l)})},[]);const o=()=>{i(!0),setTimeout(()=>{const l=document.getElementById("auth-form-section");l&&l.scrollIntoView({behavior:"smooth",block:"start"})},100)};if(t)return u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})});if(!e)return u.jsxs("div",{className:"min-h-screen",children:[u.jsx(yj,{onLoginClick:o}),s&&u.jsx("div",{id:"auth-form-section",className:"min-h-screen bg-gray-50 py-12",children:u.jsx(MN,{onSuccess:()=>i(!1)})})]});const a=()=>{switch(n){case"dashboard":return u.jsx(wm,{onNavigate:r});case"hospitales":return u.jsx(BN,{});case"solicitudes":return u.jsx(UN,{onNavigate:r});case"insumos-disponibles":return u.jsx(zN,{onNavigate:r});case"transferencias":return u.jsxs("div",{className:"text-center py-12",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Transferencias"}),u.jsx("p",{className:"text-gray-600",children:"Las transferencias se gestionan a través del sistema de mensajería cuando ambos hospitales están de acuerdo"})]});case"mensajes":return u.jsx(WN,{});default:return u.jsx(wm,{onNavigate:r})}};return u.jsxs("div",{className:"min-h-screen bg-gray-50 pt-14 sm:pt-16 pb-20 lg:pb-0",children:[u.jsx(DN,{}),u.jsx(VN,{activeTab:n,setActiveTab:r}),u.jsx(HN,{})," ",u.jsx("main",{className:"lg:ml-64 px-4 sm:px-6 lg:px-8 py-4 sm:py-8 pb-4 lg:pb-8",children:a()})]})}Mg(document.getElementById("root")).render(u.jsx(k.StrictMode,{children:u.jsx(qN,{})}));
