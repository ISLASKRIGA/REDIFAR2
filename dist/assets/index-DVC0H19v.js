(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Dm={exports:{}},Yo={},$m={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hi=Symbol.for("react.element"),vv=Symbol.for("react.portal"),xv=Symbol.for("react.fragment"),wv=Symbol.for("react.strict_mode"),bv=Symbol.for("react.profiler"),_v=Symbol.for("react.provider"),kv=Symbol.for("react.context"),Sv=Symbol.for("react.forward_ref"),jv=Symbol.for("react.suspense"),Nv=Symbol.for("react.memo"),Tv=Symbol.for("react.lazy"),Od=Symbol.iterator;function Ev(e){return e===null||typeof e!="object"?null:(e=Od&&e[Od]||e["@@iterator"],typeof e=="function"?e:null)}var Vm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Um=Object.assign,Fm={};function Wr(e,t,n){this.props=e,this.context=t,this.refs=Fm,this.updater=n||Vm}Wr.prototype.isReactComponent={};Wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zm(){}zm.prototype=Wr.prototype;function qc(e,t,n){this.props=e,this.context=t,this.refs=Fm,this.updater=n||Vm}var Kc=qc.prototype=new zm;Kc.constructor=qc;Um(Kc,Wr.prototype);Kc.isPureReactComponent=!0;var Ld=Array.isArray,Bm=Object.prototype.hasOwnProperty,Gc={current:null},Wm={key:!0,ref:!0,__self:!0,__source:!0};function Hm(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Bm.call(t,r)&&!Wm.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:hi,type:e,key:i,ref:o,props:s,_owner:Gc.current}}function Cv(e,t){return{$$typeof:hi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jc(e){return typeof e=="object"&&e!==null&&e.$$typeof===hi}function Pv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Id=/\/+/g;function Ea(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pv(""+e.key):t.toString(36)}function Zi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case hi:case vv:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ea(o,0):r,Ld(s)?(n="",e!=null&&(n=e.replace(Id,"$&/")+"/"),Zi(s,t,n,"",function(c){return c})):s!=null&&(Jc(s)&&(s=Cv(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Id,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ld(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Ea(i,a);o+=Zi(i,t,n,l,s)}else if(l=Ev(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Ea(i,a++),o+=Zi(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Si(e,t,n){if(e==null)return e;var r=[],s=0;return Zi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Av(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},eo={transition:null},Rv={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:eo,ReactCurrentOwner:Gc};function qm(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Si,forEach:function(e,t,n){Si(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Si(e,function(){t++}),t},toArray:function(e){return Si(e,function(t){return t})||[]},only:function(e){if(!Jc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=Wr;B.Fragment=xv;B.Profiler=bv;B.PureComponent=qc;B.StrictMode=wv;B.Suspense=jv;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rv;B.act=qm;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Um({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Gc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Bm.call(t,l)&&!Wm.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:hi,type:e.type,key:s,ref:i,props:r,_owner:o}};B.createContext=function(e){return e={$$typeof:kv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_v,_context:e},e.Consumer=e};B.createElement=Hm;B.createFactory=function(e){var t=Hm.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:Sv,render:e}};B.isValidElement=Jc;B.lazy=function(e){return{$$typeof:Tv,_payload:{_status:-1,_result:e},_init:Av}};B.memo=function(e,t){return{$$typeof:Nv,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=eo.transition;eo.transition={};try{e()}finally{eo.transition=t}};B.unstable_act=qm;B.useCallback=function(e,t){return Be.current.useCallback(e,t)};B.useContext=function(e){return Be.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};B.useEffect=function(e,t){return Be.current.useEffect(e,t)};B.useId=function(){return Be.current.useId()};B.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Be.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};B.useRef=function(e){return Be.current.useRef(e)};B.useState=function(e){return Be.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Be.current.useTransition()};B.version="18.3.1";$m.exports=B;var _=$m.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv=_,Ov=Symbol.for("react.element"),Lv=Symbol.for("react.fragment"),Iv=Object.prototype.hasOwnProperty,Dv=Mv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$v={key:!0,ref:!0,__self:!0,__source:!0};function Km(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Iv.call(t,r)&&!$v.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Ov,type:e,key:i,ref:o,props:s,_owner:Dv.current}}Yo.Fragment=Lv;Yo.jsx=Km;Yo.jsxs=Km;Dm.exports=Yo;var u=Dm.exports,Gm={exports:{}},rt={},Jm={exports:{}},Qm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,I){var $=E.length;E.push(I);e:for(;0<$;){var Y=$-1>>>1,ne=E[Y];if(0<s(ne,I))E[Y]=I,E[$]=ne,$=Y;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var I=E[0],$=E.pop();if($!==I){E[0]=$;e:for(var Y=0,ne=E.length,le=ne>>>1;Y<le;){var ce=2*(Y+1)-1,ot=E[ce],ie=ce+1,X=E[ie];if(0>s(ot,$))ie<ne&&0>s(X,ot)?(E[Y]=X,E[ie]=$,Y=ie):(E[Y]=ot,E[ce]=$,Y=ce);else if(ie<ne&&0>s(X,$))E[Y]=X,E[ie]=$,Y=ie;else break e}}return I}function s(E,I){var $=E.sortIndex-I.sortIndex;return $!==0?$:E.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,g=!1,x=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(E){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=E)r(c),I.sortIndex=I.expirationTime,t(l,I);else break;I=n(c)}}function b(E){if(w=!1,p(E),!x)if(n(l)!==null)x=!0,me(S);else{var I=n(c);I!==null&&W(b,I.startTime-E)}}function S(E,I){x=!1,w&&(w=!1,y(v),v=-1),g=!0;var $=f;try{for(p(I),h=n(l);h!==null&&(!(h.expirationTime>I)||E&&!D());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,f=h.priorityLevel;var ne=Y(h.expirationTime<=I);I=e.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(l)&&r(l),p(I)}else r(l);h=n(l)}if(h!==null)var le=!0;else{var ce=n(c);ce!==null&&W(b,ce.startTime-I),le=!1}return le}finally{h=null,f=$,g=!1}}var j=!1,N=null,v=-1,C=5,A=-1;function D(){return!(e.unstable_now()-A<C)}function Z(){if(N!==null){var E=e.unstable_now();A=E;var I=!0;try{I=N(!0,E)}finally{I?ye():(j=!1,N=null)}}else j=!1}var ye;if(typeof m=="function")ye=function(){m(Z)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,be=ve.port2;ve.port1.onmessage=Z,ye=function(){be.postMessage(null)}}else ye=function(){k(Z,0)};function me(E){N=E,j||(j=!0,ye())}function W(E,I){v=k(function(){E(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,me(S))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(E){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var $=f;f=I;try{return E()}finally{f=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,I){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var $=f;f=E;try{return I()}finally{f=$}},e.unstable_scheduleCallback=function(E,I,$){var Y=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Y+$:Y):$=Y,E){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=$+ne,E={id:d++,callback:I,priorityLevel:E,startTime:$,expirationTime:ne,sortIndex:-1},$>Y?(E.sortIndex=$,t(c,E),n(l)===null&&E===n(c)&&(w?(y(v),v=-1):w=!0,W(b,$-Y))):(E.sortIndex=ne,t(l,E),x||g||(x=!0,me(S))),E},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(E){var I=f;return function(){var $=f;f=I;try{return E.apply(this,arguments)}finally{f=$}}}})(Qm);Jm.exports=Qm;var Vv=Jm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv=_,nt=Vv;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xm=new Set,Fs={};function Yn(e,t){Or(e,t),Or(e+"Capture",t)}function Or(e,t){for(Fs[e]=t,e=0;e<t.length;e++)Xm.add(t[e])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kl=Object.prototype.hasOwnProperty,Fv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dd={},$d={};function zv(e){return kl.call($d,e)?!0:kl.call(Dd,e)?!1:Fv.test(e)?$d[e]=!0:(Dd[e]=!0,!1)}function Bv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wv(e,t,n,r){if(t===null||typeof t>"u"||Bv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qc=/[\-:]([a-z])/g;function Xc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qc,Xc);Me[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qc,Xc);Me[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qc,Xc);Me[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yc(e,t,n,r){var s=Me.hasOwnProperty(t)?Me[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wv(t,n,s,r)&&(n=null),r||s===null?zv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Yt=Uv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ji=Symbol.for("react.element"),dr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),Zc=Symbol.for("react.strict_mode"),Sl=Symbol.for("react.profiler"),Ym=Symbol.for("react.provider"),Zm=Symbol.for("react.context"),eu=Symbol.for("react.forward_ref"),jl=Symbol.for("react.suspense"),Nl=Symbol.for("react.suspense_list"),tu=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),ep=Symbol.for("react.offscreen"),Vd=Symbol.iterator;function rs(e){return e===null||typeof e!="object"?null:(e=Vd&&e[Vd]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,Ca;function ms(e){if(Ca===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ca=t&&t[1]||""}return`
`+Ca+e}var Pa=!1;function Aa(e,t){if(!e||Pa)return"";Pa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Pa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ms(e):""}function Hv(e){switch(e.tag){case 5:return ms(e.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 2:case 15:return e=Aa(e.type,!1),e;case 11:return e=Aa(e.type.render,!1),e;case 1:return e=Aa(e.type,!0),e;default:return""}}function Tl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hr:return"Fragment";case dr:return"Portal";case Sl:return"Profiler";case Zc:return"StrictMode";case jl:return"Suspense";case Nl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zm:return(e.displayName||"Context")+".Consumer";case Ym:return(e._context.displayName||"Context")+".Provider";case eu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tu:return t=e.displayName||null,t!==null?t:Tl(e.type)||"Memo";case rn:t=e._payload,e=e._init;try{return Tl(e(t))}catch{}}return null}function qv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tl(t);case 8:return t===Zc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kv(e){var t=tp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ni(e){e._valueTracker||(e._valueTracker=Kv(e))}function np(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=tp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function El(e,t){var n=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ud(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rp(e,t){t=t.checked,t!=null&&Yc(e,"checked",t,!1)}function Cl(e,t){rp(e,t);var n=wn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pl(e,t.type,wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pl(e,t,n){(t!=="number"||vo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ps=Array.isArray;function Er(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Al(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(ps(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wn(n)}}function sp(e,t){var n=wn(t.value),r=wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Bd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ip(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ip(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ti,op=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ti=Ti||document.createElement("div"),Ti.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ti.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gv=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(e){Gv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bs[t]=bs[e]})});function ap(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bs.hasOwnProperty(e)&&bs[e]?(""+t).trim():t+"px"}function lp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ap(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Jv=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ml(e,t){if(t){if(Jv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Ol(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ll=null;function nu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Il=null,Cr=null,Pr=null;function Wd(e){if(e=pi(e)){if(typeof Il!="function")throw Error(P(280));var t=e.stateNode;t&&(t=ra(t),Il(e.stateNode,e.type,t))}}function cp(e){Cr?Pr?Pr.push(e):Pr=[e]:Cr=e}function up(){if(Cr){var e=Cr,t=Pr;if(Pr=Cr=null,Wd(e),t)for(e=0;e<t.length;e++)Wd(t[e])}}function dp(e,t){return e(t)}function hp(){}var Ra=!1;function fp(e,t,n){if(Ra)return e(t,n);Ra=!0;try{return dp(e,t,n)}finally{Ra=!1,(Cr!==null||Pr!==null)&&(hp(),up())}}function Bs(e,t){var n=e.stateNode;if(n===null)return null;var r=ra(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Dl=!1;if(qt)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Dl=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Dl=!1}function Qv(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var _s=!1,xo=null,wo=!1,$l=null,Xv={onError:function(e){_s=!0,xo=e}};function Yv(e,t,n,r,s,i,o,a,l){_s=!1,xo=null,Qv.apply(Xv,arguments)}function Zv(e,t,n,r,s,i,o,a,l){if(Yv.apply(this,arguments),_s){if(_s){var c=xo;_s=!1,xo=null}else throw Error(P(198));wo||(wo=!0,$l=c)}}function Zn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hd(e){if(Zn(e)!==e)throw Error(P(188))}function ex(e){var t=e.alternate;if(!t){if(t=Zn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Hd(s),e;if(i===r)return Hd(s),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function pp(e){return e=ex(e),e!==null?gp(e):null}function gp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gp(e);if(t!==null)return t;e=e.sibling}return null}var yp=nt.unstable_scheduleCallback,qd=nt.unstable_cancelCallback,tx=nt.unstable_shouldYield,nx=nt.unstable_requestPaint,we=nt.unstable_now,rx=nt.unstable_getCurrentPriorityLevel,ru=nt.unstable_ImmediatePriority,vp=nt.unstable_UserBlockingPriority,bo=nt.unstable_NormalPriority,sx=nt.unstable_LowPriority,xp=nt.unstable_IdlePriority,Zo=null,At=null;function ix(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Zo,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:lx,ox=Math.log,ax=Math.LN2;function lx(e){return e>>>=0,e===0?32:31-(ox(e)/ax|0)|0}var Ei=64,Ci=4194304;function gs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _o(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=gs(a):(i&=o,i!==0&&(r=gs(i)))}else o=n&~s,o!==0?r=gs(o):i!==0&&(r=gs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),s=1<<n,r|=e[n],t&=~s;return r}function cx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ux(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-jt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=cx(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Vl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wp(){var e=Ei;return Ei<<=1,!(Ei&4194240)&&(Ei=64),e}function Ma(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function dx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-jt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function su(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Q=0;function bp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _p,iu,kp,Sp,jp,Ul=!1,Pi=[],hn=null,fn=null,mn=null,Ws=new Map,Hs=new Map,an=[],hx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kd(e,t){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":Ws.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(t.pointerId)}}function is(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=pi(t),t!==null&&iu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function fx(e,t,n,r,s){switch(t){case"focusin":return hn=is(hn,e,t,n,r,s),!0;case"dragenter":return fn=is(fn,e,t,n,r,s),!0;case"mouseover":return mn=is(mn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ws.set(i,is(Ws.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Hs.set(i,is(Hs.get(i)||null,e,t,n,r,s)),!0}return!1}function Np(e){var t=$n(e.target);if(t!==null){var n=Zn(t);if(n!==null){if(t=n.tag,t===13){if(t=mp(n),t!==null){e.blockedOn=t,jp(e.priority,function(){kp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function to(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ll=r,n.target.dispatchEvent(r),Ll=null}else return t=pi(n),t!==null&&iu(t),e.blockedOn=n,!1;t.shift()}return!0}function Gd(e,t,n){to(e)&&n.delete(t)}function mx(){Ul=!1,hn!==null&&to(hn)&&(hn=null),fn!==null&&to(fn)&&(fn=null),mn!==null&&to(mn)&&(mn=null),Ws.forEach(Gd),Hs.forEach(Gd)}function os(e,t){e.blockedOn===t&&(e.blockedOn=null,Ul||(Ul=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,mx)))}function qs(e){function t(s){return os(s,e)}if(0<Pi.length){os(Pi[0],e);for(var n=1;n<Pi.length;n++){var r=Pi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hn!==null&&os(hn,e),fn!==null&&os(fn,e),mn!==null&&os(mn,e),Ws.forEach(t),Hs.forEach(t),n=0;n<an.length;n++)r=an[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<an.length&&(n=an[0],n.blockedOn===null);)Np(n),n.blockedOn===null&&an.shift()}var Ar=Yt.ReactCurrentBatchConfig,ko=!0;function px(e,t,n,r){var s=Q,i=Ar.transition;Ar.transition=null;try{Q=1,ou(e,t,n,r)}finally{Q=s,Ar.transition=i}}function gx(e,t,n,r){var s=Q,i=Ar.transition;Ar.transition=null;try{Q=4,ou(e,t,n,r)}finally{Q=s,Ar.transition=i}}function ou(e,t,n,r){if(ko){var s=Fl(e,t,n,r);if(s===null)Ba(e,t,r,So,n),Kd(e,r);else if(fx(s,e,t,n,r))r.stopPropagation();else if(Kd(e,r),t&4&&-1<hx.indexOf(e)){for(;s!==null;){var i=pi(s);if(i!==null&&_p(i),i=Fl(e,t,n,r),i===null&&Ba(e,t,r,So,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ba(e,t,r,null,n)}}var So=null;function Fl(e,t,n,r){if(So=null,e=nu(r),e=$n(e),e!==null)if(t=Zn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=mp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return So=e,null}function Tp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rx()){case ru:return 1;case vp:return 4;case bo:case sx:return 16;case xp:return 536870912;default:return 16}default:return 16}}var un=null,au=null,no=null;function Ep(){if(no)return no;var e,t=au,n=t.length,r,s="value"in un?un.value:un.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return no=s.slice(e,1<r?1-r:void 0)}function ro(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function Jd(){return!1}function st(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ai:Jd,this.isPropagationStopped=Jd,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),t}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lu=st(Hr),mi=fe({},Hr,{view:0,detail:0}),yx=st(mi),Oa,La,as,ea=fe({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==as&&(as&&e.type==="mousemove"?(Oa=e.screenX-as.screenX,La=e.screenY-as.screenY):La=Oa=0,as=e),Oa)},movementY:function(e){return"movementY"in e?e.movementY:La}}),Qd=st(ea),vx=fe({},ea,{dataTransfer:0}),xx=st(vx),wx=fe({},mi,{relatedTarget:0}),Ia=st(wx),bx=fe({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),_x=st(bx),kx=fe({},Hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sx=st(kx),jx=fe({},Hr,{data:0}),Xd=st(jx),Nx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ex={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ex[e])?!!t[e]:!1}function cu(){return Cx}var Px=fe({},mi,{key:function(e){if(e.key){var t=Nx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ro(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cu,charCode:function(e){return e.type==="keypress"?ro(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ro(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ax=st(Px),Rx=fe({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yd=st(Rx),Mx=fe({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cu}),Ox=st(Mx),Lx=fe({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ix=st(Lx),Dx=fe({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$x=st(Dx),Vx=[9,13,27,32],uu=qt&&"CompositionEvent"in window,ks=null;qt&&"documentMode"in document&&(ks=document.documentMode);var Ux=qt&&"TextEvent"in window&&!ks,Cp=qt&&(!uu||ks&&8<ks&&11>=ks),Zd=" ",eh=!1;function Pp(e,t){switch(e){case"keyup":return Vx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ap(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function Fx(e,t){switch(e){case"compositionend":return Ap(t);case"keypress":return t.which!==32?null:(eh=!0,Zd);case"textInput":return e=t.data,e===Zd&&eh?null:e;default:return null}}function zx(e,t){if(fr)return e==="compositionend"||!uu&&Pp(e,t)?(e=Ep(),no=au=un=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cp&&t.locale!=="ko"?null:t.data;default:return null}}var Bx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function th(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bx[e.type]:t==="textarea"}function Rp(e,t,n,r){cp(r),t=jo(t,"onChange"),0<t.length&&(n=new lu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ss=null,Ks=null;function Wx(e){Bp(e,0)}function ta(e){var t=gr(e);if(np(t))return e}function Hx(e,t){if(e==="change")return t}var Mp=!1;if(qt){var Da;if(qt){var $a="oninput"in document;if(!$a){var nh=document.createElement("div");nh.setAttribute("oninput","return;"),$a=typeof nh.oninput=="function"}Da=$a}else Da=!1;Mp=Da&&(!document.documentMode||9<document.documentMode)}function rh(){Ss&&(Ss.detachEvent("onpropertychange",Op),Ks=Ss=null)}function Op(e){if(e.propertyName==="value"&&ta(Ks)){var t=[];Rp(t,Ks,e,nu(e)),fp(Wx,t)}}function qx(e,t,n){e==="focusin"?(rh(),Ss=t,Ks=n,Ss.attachEvent("onpropertychange",Op)):e==="focusout"&&rh()}function Kx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ta(Ks)}function Gx(e,t){if(e==="click")return ta(t)}function Jx(e,t){if(e==="input"||e==="change")return ta(t)}function Qx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Qx;function Gs(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!kl.call(t,s)||!Tt(e[s],t[s]))return!1}return!0}function sh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ih(e,t){var n=sh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sh(n)}}function Lp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ip(){for(var e=window,t=vo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vo(e.document)}return t}function du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xx(e){var t=Ip(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lp(n.ownerDocument.documentElement,n)){if(r!==null&&du(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ih(n,i);var o=ih(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yx=qt&&"documentMode"in document&&11>=document.documentMode,mr=null,zl=null,js=null,Bl=!1;function oh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bl||mr==null||mr!==vo(r)||(r=mr,"selectionStart"in r&&du(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),js&&Gs(js,r)||(js=r,r=jo(zl,"onSelect"),0<r.length&&(t=new lu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Ri(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionend:Ri("Transition","TransitionEnd")},Va={},Dp={};qt&&(Dp=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function na(e){if(Va[e])return Va[e];if(!pr[e])return e;var t=pr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dp)return Va[e]=t[n];return e}var $p=na("animationend"),Vp=na("animationiteration"),Up=na("animationstart"),Fp=na("transitionend"),zp=new Map,ah="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){zp.set(e,t),Yn(t,[e])}for(var Ua=0;Ua<ah.length;Ua++){var Fa=ah[Ua],Zx=Fa.toLowerCase(),ew=Fa[0].toUpperCase()+Fa.slice(1);Sn(Zx,"on"+ew)}Sn($p,"onAnimationEnd");Sn(Vp,"onAnimationIteration");Sn(Up,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(Fp,"onTransitionEnd");Or("onMouseEnter",["mouseout","mouseover"]);Or("onMouseLeave",["mouseout","mouseover"]);Or("onPointerEnter",["pointerout","pointerover"]);Or("onPointerLeave",["pointerout","pointerover"]);Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ys));function lh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Zv(r,t,void 0,e),e.currentTarget=null}function Bp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;lh(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;lh(s,a,c),i=l}}}if(wo)throw e=$l,wo=!1,$l=null,e}function re(e,t){var n=t[Gl];n===void 0&&(n=t[Gl]=new Set);var r=e+"__bubble";n.has(r)||(Wp(t,e,2,!1),n.add(r))}function za(e,t,n){var r=0;t&&(r|=4),Wp(n,e,r,t)}var Mi="_reactListening"+Math.random().toString(36).slice(2);function Js(e){if(!e[Mi]){e[Mi]=!0,Xm.forEach(function(n){n!=="selectionchange"&&(tw.has(n)||za(n,!1,e),za(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mi]||(t[Mi]=!0,za("selectionchange",!1,t))}}function Wp(e,t,n,r){switch(Tp(t)){case 1:var s=px;break;case 4:s=gx;break;default:s=ou}n=s.bind(null,t,n,e),s=void 0,!Dl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ba(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=$n(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}fp(function(){var c=i,d=nu(n),h=[];e:{var f=zp.get(e);if(f!==void 0){var g=lu,x=e;switch(e){case"keypress":if(ro(n)===0)break e;case"keydown":case"keyup":g=Ax;break;case"focusin":x="focus",g=Ia;break;case"focusout":x="blur",g=Ia;break;case"beforeblur":case"afterblur":g=Ia;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=xx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Ox;break;case $p:case Vp:case Up:g=_x;break;case Fp:g=Ix;break;case"scroll":g=yx;break;case"wheel":g=$x;break;case"copy":case"cut":case"paste":g=Sx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Yd}var w=(t&4)!==0,k=!w&&e==="scroll",y=w?f!==null?f+"Capture":null:f;w=[];for(var m=c,p;m!==null;){p=m;var b=p.stateNode;if(p.tag===5&&b!==null&&(p=b,y!==null&&(b=Bs(m,y),b!=null&&w.push(Qs(m,b,p)))),k)break;m=m.return}0<w.length&&(f=new g(f,x,null,n,d),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==Ll&&(x=n.relatedTarget||n.fromElement)&&($n(x)||x[Kt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=c,x=x?$n(x):null,x!==null&&(k=Zn(x),x!==k||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=c),g!==x)){if(w=Qd,b="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=Yd,b="onPointerLeave",y="onPointerEnter",m="pointer"),k=g==null?f:gr(g),p=x==null?f:gr(x),f=new w(b,m+"leave",g,n,d),f.target=k,f.relatedTarget=p,b=null,$n(d)===c&&(w=new w(y,m+"enter",x,n,d),w.target=p,w.relatedTarget=k,b=w),k=b,g&&x)t:{for(w=g,y=x,m=0,p=w;p;p=sr(p))m++;for(p=0,b=y;b;b=sr(b))p++;for(;0<m-p;)w=sr(w),m--;for(;0<p-m;)y=sr(y),p--;for(;m--;){if(w===y||y!==null&&w===y.alternate)break t;w=sr(w),y=sr(y)}w=null}else w=null;g!==null&&ch(h,f,g,w,!1),x!==null&&k!==null&&ch(h,k,x,w,!0)}}e:{if(f=c?gr(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=Hx;else if(th(f))if(Mp)S=Jx;else{S=Kx;var j=qx}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Gx);if(S&&(S=S(e,c))){Rp(h,S,n,d);break e}j&&j(e,f,c),e==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&Pl(f,"number",f.value)}switch(j=c?gr(c):window,e){case"focusin":(th(j)||j.contentEditable==="true")&&(mr=j,zl=c,js=null);break;case"focusout":js=zl=mr=null;break;case"mousedown":Bl=!0;break;case"contextmenu":case"mouseup":case"dragend":Bl=!1,oh(h,n,d);break;case"selectionchange":if(Yx)break;case"keydown":case"keyup":oh(h,n,d)}var N;if(uu)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else fr?Pp(e,n)&&(v="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Cp&&n.locale!=="ko"&&(fr||v!=="onCompositionStart"?v==="onCompositionEnd"&&fr&&(N=Ep()):(un=d,au="value"in un?un.value:un.textContent,fr=!0)),j=jo(c,v),0<j.length&&(v=new Xd(v,e,null,n,d),h.push({event:v,listeners:j}),N?v.data=N:(N=Ap(n),N!==null&&(v.data=N)))),(N=Ux?Fx(e,n):zx(e,n))&&(c=jo(c,"onBeforeInput"),0<c.length&&(d=new Xd("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=N))}Bp(h,t)})}function Qs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bs(e,n),i!=null&&r.unshift(Qs(e,i,s)),i=Bs(e,t),i!=null&&r.push(Qs(e,i,s))),e=e.return}return r}function sr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ch(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Bs(n,i),l!=null&&o.unshift(Qs(n,l,a))):s||(l=Bs(n,i),l!=null&&o.push(Qs(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var nw=/\r\n?/g,rw=/\u0000|\uFFFD/g;function uh(e){return(typeof e=="string"?e:""+e).replace(nw,`
`).replace(rw,"")}function Oi(e,t,n){if(t=uh(t),uh(e)!==t&&n)throw Error(P(425))}function No(){}var Wl=null,Hl=null;function ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kl=typeof setTimeout=="function"?setTimeout:void 0,sw=typeof clearTimeout=="function"?clearTimeout:void 0,dh=typeof Promise=="function"?Promise:void 0,iw=typeof queueMicrotask=="function"?queueMicrotask:typeof dh<"u"?function(e){return dh.resolve(null).then(e).catch(ow)}:Kl;function ow(e){setTimeout(function(){throw e})}function Wa(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),qs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);qs(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+qr,Xs="__reactProps$"+qr,Kt="__reactContainer$"+qr,Gl="__reactEvents$"+qr,aw="__reactListeners$"+qr,lw="__reactHandles$"+qr;function $n(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kt]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hh(e);e!==null;){if(n=e[Pt])return n;e=hh(e)}return t}e=n,n=e.parentNode}return null}function pi(e){return e=e[Pt]||e[Kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function ra(e){return e[Xs]||null}var Jl=[],yr=-1;function jn(e){return{current:e}}function se(e){0>yr||(e.current=Jl[yr],Jl[yr]=null,yr--)}function te(e,t){yr++,Jl[yr]=e.current,e.current=t}var bn={},Ve=jn(bn),Qe=jn(!1),Kn=bn;function Lr(e,t){var n=e.type.contextTypes;if(!n)return bn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xe(e){return e=e.childContextTypes,e!=null}function To(){se(Qe),se(Ve)}function fh(e,t,n){if(Ve.current!==bn)throw Error(P(168));te(Ve,t),te(Qe,n)}function Hp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(P(108,qv(e)||"Unknown",s));return fe({},n,r)}function Eo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bn,Kn=Ve.current,te(Ve,e),te(Qe,Qe.current),!0}function mh(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Hp(e,t,Kn),r.__reactInternalMemoizedMergedChildContext=e,se(Qe),se(Ve),te(Ve,e)):se(Qe),te(Qe,n)}var Ft=null,sa=!1,Ha=!1;function qp(e){Ft===null?Ft=[e]:Ft.push(e)}function cw(e){sa=!0,qp(e)}function Nn(){if(!Ha&&Ft!==null){Ha=!0;var e=0,t=Q;try{var n=Ft;for(Q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ft=null,sa=!1}catch(s){throw Ft!==null&&(Ft=Ft.slice(e+1)),yp(ru,Nn),s}finally{Q=t,Ha=!1}}return null}var vr=[],xr=0,Co=null,Po=0,ct=[],ut=0,Gn=null,zt=1,Bt="";function Mn(e,t){vr[xr++]=Po,vr[xr++]=Co,Co=e,Po=t}function Kp(e,t,n){ct[ut++]=zt,ct[ut++]=Bt,ct[ut++]=Gn,Gn=e;var r=zt;e=Bt;var s=32-jt(r)-1;r&=~(1<<s),n+=1;var i=32-jt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,zt=1<<32-jt(t)+s|n<<s|r,Bt=i+e}else zt=1<<i|n<<s|r,Bt=e}function hu(e){e.return!==null&&(Mn(e,1),Kp(e,1,0))}function fu(e){for(;e===Co;)Co=vr[--xr],vr[xr]=null,Po=vr[--xr],vr[xr]=null;for(;e===Gn;)Gn=ct[--ut],ct[ut]=null,Bt=ct[--ut],ct[ut]=null,zt=ct[--ut],ct[ut]=null}var tt=null,et=null,oe=!1,St=null;function Gp(e,t){var n=dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ph(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gn!==null?{id:zt,overflow:Bt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,et=null,!0):!1;default:return!1}}function Ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xl(e){if(oe){var t=et;if(t){var n=t;if(!ph(e,t)){if(Ql(e))throw Error(P(418));t=pn(n.nextSibling);var r=tt;t&&ph(e,t)?Gp(r,n):(e.flags=e.flags&-4097|2,oe=!1,tt=e)}}else{if(Ql(e))throw Error(P(418));e.flags=e.flags&-4097|2,oe=!1,tt=e}}}function gh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function Li(e){if(e!==tt)return!1;if(!oe)return gh(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ql(e.type,e.memoizedProps)),t&&(t=et)){if(Ql(e))throw Jp(),Error(P(418));for(;t;)Gp(e,t),t=pn(t.nextSibling)}if(gh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){et=pn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?pn(e.stateNode.nextSibling):null;return!0}function Jp(){for(var e=et;e;)e=pn(e.nextSibling)}function Ir(){et=tt=null,oe=!1}function mu(e){St===null?St=[e]:St.push(e)}var uw=Yt.ReactCurrentBatchConfig;function ls(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Ii(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yh(e){var t=e._init;return t(e._payload)}function Qp(e){function t(y,m){if(e){var p=y.deletions;p===null?(y.deletions=[m],y.flags|=16):p.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=xn(y,m),y.index=0,y.sibling=null,y}function i(y,m,p){return y.index=p,e?(p=y.alternate,p!==null?(p=p.index,p<m?(y.flags|=2,m):p):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,m,p,b){return m===null||m.tag!==6?(m=Ya(p,y.mode,b),m.return=y,m):(m=s(m,p),m.return=y,m)}function l(y,m,p,b){var S=p.type;return S===hr?d(y,m,p.props.children,b,p.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===rn&&yh(S)===m.type)?(b=s(m,p.props),b.ref=ls(y,m,p),b.return=y,b):(b=uo(p.type,p.key,p.props,null,y.mode,b),b.ref=ls(y,m,p),b.return=y,b)}function c(y,m,p,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=Za(p,y.mode,b),m.return=y,m):(m=s(m,p.children||[]),m.return=y,m)}function d(y,m,p,b,S){return m===null||m.tag!==7?(m=Wn(p,y.mode,b,S),m.return=y,m):(m=s(m,p),m.return=y,m)}function h(y,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ya(""+m,y.mode,p),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ji:return p=uo(m.type,m.key,m.props,null,y.mode,p),p.ref=ls(y,null,m),p.return=y,p;case dr:return m=Za(m,y.mode,p),m.return=y,m;case rn:var b=m._init;return h(y,b(m._payload),p)}if(ps(m)||rs(m))return m=Wn(m,y.mode,p,null),m.return=y,m;Ii(y,m)}return null}function f(y,m,p,b){var S=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:a(y,m,""+p,b);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ji:return p.key===S?l(y,m,p,b):null;case dr:return p.key===S?c(y,m,p,b):null;case rn:return S=p._init,f(y,m,S(p._payload),b)}if(ps(p)||rs(p))return S!==null?null:d(y,m,p,b,null);Ii(y,p)}return null}function g(y,m,p,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(p)||null,a(m,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ji:return y=y.get(b.key===null?p:b.key)||null,l(m,y,b,S);case dr:return y=y.get(b.key===null?p:b.key)||null,c(m,y,b,S);case rn:var j=b._init;return g(y,m,p,j(b._payload),S)}if(ps(b)||rs(b))return y=y.get(p)||null,d(m,y,b,S,null);Ii(m,b)}return null}function x(y,m,p,b){for(var S=null,j=null,N=m,v=m=0,C=null;N!==null&&v<p.length;v++){N.index>v?(C=N,N=null):C=N.sibling;var A=f(y,N,p[v],b);if(A===null){N===null&&(N=C);break}e&&N&&A.alternate===null&&t(y,N),m=i(A,m,v),j===null?S=A:j.sibling=A,j=A,N=C}if(v===p.length)return n(y,N),oe&&Mn(y,v),S;if(N===null){for(;v<p.length;v++)N=h(y,p[v],b),N!==null&&(m=i(N,m,v),j===null?S=N:j.sibling=N,j=N);return oe&&Mn(y,v),S}for(N=r(y,N);v<p.length;v++)C=g(N,y,v,p[v],b),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?v:C.key),m=i(C,m,v),j===null?S=C:j.sibling=C,j=C);return e&&N.forEach(function(D){return t(y,D)}),oe&&Mn(y,v),S}function w(y,m,p,b){var S=rs(p);if(typeof S!="function")throw Error(P(150));if(p=S.call(p),p==null)throw Error(P(151));for(var j=S=null,N=m,v=m=0,C=null,A=p.next();N!==null&&!A.done;v++,A=p.next()){N.index>v?(C=N,N=null):C=N.sibling;var D=f(y,N,A.value,b);if(D===null){N===null&&(N=C);break}e&&N&&D.alternate===null&&t(y,N),m=i(D,m,v),j===null?S=D:j.sibling=D,j=D,N=C}if(A.done)return n(y,N),oe&&Mn(y,v),S;if(N===null){for(;!A.done;v++,A=p.next())A=h(y,A.value,b),A!==null&&(m=i(A,m,v),j===null?S=A:j.sibling=A,j=A);return oe&&Mn(y,v),S}for(N=r(y,N);!A.done;v++,A=p.next())A=g(N,y,v,A.value,b),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?v:A.key),m=i(A,m,v),j===null?S=A:j.sibling=A,j=A);return e&&N.forEach(function(Z){return t(y,Z)}),oe&&Mn(y,v),S}function k(y,m,p,b){if(typeof p=="object"&&p!==null&&p.type===hr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case ji:e:{for(var S=p.key,j=m;j!==null;){if(j.key===S){if(S=p.type,S===hr){if(j.tag===7){n(y,j.sibling),m=s(j,p.props.children),m.return=y,y=m;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===rn&&yh(S)===j.type){n(y,j.sibling),m=s(j,p.props),m.ref=ls(y,j,p),m.return=y,y=m;break e}n(y,j);break}else t(y,j);j=j.sibling}p.type===hr?(m=Wn(p.props.children,y.mode,b,p.key),m.return=y,y=m):(b=uo(p.type,p.key,p.props,null,y.mode,b),b.ref=ls(y,m,p),b.return=y,y=b)}return o(y);case dr:e:{for(j=p.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(y,m.sibling),m=s(m,p.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else t(y,m);m=m.sibling}m=Za(p,y.mode,b),m.return=y,y=m}return o(y);case rn:return j=p._init,k(y,m,j(p._payload),b)}if(ps(p))return x(y,m,p,b);if(rs(p))return w(y,m,p,b);Ii(y,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,p),m.return=y,y=m):(n(y,m),m=Ya(p,y.mode,b),m.return=y,y=m),o(y)):n(y,m)}return k}var Dr=Qp(!0),Xp=Qp(!1),Ao=jn(null),Ro=null,wr=null,pu=null;function gu(){pu=wr=Ro=null}function yu(e){var t=Ao.current;se(Ao),e._currentValue=t}function Yl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Rr(e,t){Ro=e,pu=wr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(pu!==e)if(e={context:e,memoizedValue:t,next:null},wr===null){if(Ro===null)throw Error(P(308));wr=e,Ro.dependencies={lanes:0,firstContext:e}}else wr=wr.next=e;return t}var Vn=null;function vu(e){Vn===null?Vn=[e]:Vn.push(e)}function Yp(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,vu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Gt(e,n)}return s=r.interleaved,s===null?(t.next=t,vu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Gt(e,n)}function so(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,su(e,n)}}function vh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mo(e,t,n,r){var s=e.updateQueue;sn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,w=a;switch(f=t,g=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){h=x.call(g,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,f=typeof x=="function"?x.call(g,h,f):x,f==null)break e;h=fe({},h,f);break e;case 2:sn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Qn|=o,e.lanes=o,e.memoizedState=h}}function xh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var gi={},Rt=jn(gi),Ys=jn(gi),Zs=jn(gi);function Un(e){if(e===gi)throw Error(P(174));return e}function wu(e,t){switch(te(Zs,t),te(Ys,e),te(Rt,gi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rl(t,e)}se(Rt),te(Rt,t)}function $r(){se(Rt),se(Ys),se(Zs)}function eg(e){Un(Zs.current);var t=Un(Rt.current),n=Rl(t,e.type);t!==n&&(te(Ys,e),te(Rt,n))}function bu(e){Ys.current===e&&(se(Rt),se(Ys))}var ue=jn(0);function Oo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qa=[];function _u(){for(var e=0;e<qa.length;e++)qa[e]._workInProgressVersionPrimary=null;qa.length=0}var io=Yt.ReactCurrentDispatcher,Ka=Yt.ReactCurrentBatchConfig,Jn=0,he=null,je=null,Ee=null,Lo=!1,Ns=!1,ei=0,dw=0;function Oe(){throw Error(P(321))}function ku(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function Su(e,t,n,r,s,i){if(Jn=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=e===null||e.memoizedState===null?pw:gw,e=n(r,s),Ns){i=0;do{if(Ns=!1,ei=0,25<=i)throw Error(P(301));i+=1,Ee=je=null,t.updateQueue=null,io.current=yw,e=n(r,s)}while(Ns)}if(io.current=Io,t=je!==null&&je.next!==null,Jn=0,Ee=je=he=null,Lo=!1,t)throw Error(P(300));return e}function ju(){var e=ei!==0;return ei=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?he.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function gt(){if(je===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Ee===null?he.memoizedState:Ee.next;if(t!==null)Ee=t,je=e;else{if(e===null)throw Error(P(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Ee===null?he.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function ti(e,t){return typeof t=="function"?t(e):t}function Ga(e){var t=gt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=je,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Jn&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,he.lanes|=d,Qn|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Tt(r,t.memoizedState)||(Ge=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,he.lanes|=i,Qn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ja(e){var t=gt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Tt(i,t.memoizedState)||(Ge=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function tg(){}function ng(e,t){var n=he,r=gt(),s=t(),i=!Tt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ge=!0),r=r.queue,Nu(ig.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,ni(9,sg.bind(null,n,r,s,t),void 0,null),Ce===null)throw Error(P(349));Jn&30||rg(n,t,s)}return s}function rg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sg(e,t,n,r){t.value=n,t.getSnapshot=r,og(t)&&ag(e)}function ig(e,t,n){return n(function(){og(t)&&ag(e)})}function og(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function ag(e){var t=Gt(e,1);t!==null&&Nt(t,e,1,-1)}function wh(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:e},t.queue=e,e=e.dispatch=mw.bind(null,he,e),[t.memoizedState,e]}function ni(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function lg(){return gt().memoizedState}function oo(e,t,n,r){var s=Ct();he.flags|=e,s.memoizedState=ni(1|t,n,void 0,r===void 0?null:r)}function ia(e,t,n,r){var s=gt();r=r===void 0?null:r;var i=void 0;if(je!==null){var o=je.memoizedState;if(i=o.destroy,r!==null&&ku(r,o.deps)){s.memoizedState=ni(t,n,i,r);return}}he.flags|=e,s.memoizedState=ni(1|t,n,i,r)}function bh(e,t){return oo(8390656,8,e,t)}function Nu(e,t){return ia(2048,8,e,t)}function cg(e,t){return ia(4,2,e,t)}function ug(e,t){return ia(4,4,e,t)}function dg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hg(e,t,n){return n=n!=null?n.concat([e]):null,ia(4,4,dg.bind(null,t,e),n)}function Tu(){}function fg(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ku(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mg(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ku(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pg(e,t,n){return Jn&21?(Tt(n,t)||(n=wp(),he.lanes|=n,Qn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=n)}function hw(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var r=Ka.transition;Ka.transition={};try{e(!1),t()}finally{Q=n,Ka.transition=r}}function gg(){return gt().memoizedState}function fw(e,t,n){var r=vn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yg(e))vg(t,n);else if(n=Yp(e,t,n,r),n!==null){var s=ze();Nt(n,e,r,s),xg(n,t,r)}}function mw(e,t,n){var r=vn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yg(e))vg(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Tt(a,o)){var l=t.interleaved;l===null?(s.next=s,vu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Yp(e,t,s,r),n!==null&&(s=ze(),Nt(n,e,r,s),xg(n,t,r))}}function yg(e){var t=e.alternate;return e===he||t!==null&&t===he}function vg(e,t){Ns=Lo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,su(e,n)}}var Io={readContext:pt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},pw={readContext:pt,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:bh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,oo(4194308,4,dg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return oo(4,2,e,t)},useMemo:function(e,t){var n=Ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ct();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fw.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:wh,useDebugValue:Tu,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=wh(!1),t=e[0];return e=hw.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,s=Ct();if(oe){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Ce===null)throw Error(P(349));Jn&30||rg(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,bh(ig.bind(null,r,i,e),[e]),r.flags|=2048,ni(9,sg.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ct(),t=Ce.identifierPrefix;if(oe){var n=Bt,r=zt;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ei++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gw={readContext:pt,useCallback:fg,useContext:pt,useEffect:Nu,useImperativeHandle:hg,useInsertionEffect:cg,useLayoutEffect:ug,useMemo:mg,useReducer:Ga,useRef:lg,useState:function(){return Ga(ti)},useDebugValue:Tu,useDeferredValue:function(e){var t=gt();return pg(t,je.memoizedState,e)},useTransition:function(){var e=Ga(ti)[0],t=gt().memoizedState;return[e,t]},useMutableSource:tg,useSyncExternalStore:ng,useId:gg,unstable_isNewReconciler:!1},yw={readContext:pt,useCallback:fg,useContext:pt,useEffect:Nu,useImperativeHandle:hg,useInsertionEffect:cg,useLayoutEffect:ug,useMemo:mg,useReducer:Ja,useRef:lg,useState:function(){return Ja(ti)},useDebugValue:Tu,useDeferredValue:function(e){var t=gt();return je===null?t.memoizedState=e:pg(t,je.memoizedState,e)},useTransition:function(){var e=Ja(ti)[0],t=gt().memoizedState;return[e,t]},useMutableSource:tg,useSyncExternalStore:ng,useId:gg,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return(e=e._reactInternals)?Zn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ze(),s=vn(e),i=Ht(r,s);i.payload=t,n!=null&&(i.callback=n),t=gn(e,i,s),t!==null&&(Nt(t,e,s,r),so(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ze(),s=vn(e),i=Ht(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=gn(e,i,s),t!==null&&(Nt(t,e,s,r),so(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),r=vn(e),s=Ht(n,r);s.tag=2,t!=null&&(s.callback=t),t=gn(e,s,r),t!==null&&(Nt(t,e,r,n),so(t,e,r))}};function _h(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Gs(n,r)||!Gs(s,i):!0}function wg(e,t,n){var r=!1,s=bn,i=t.contextType;return typeof i=="object"&&i!==null?i=pt(i):(s=Xe(t)?Kn:Ve.current,r=t.contextTypes,i=(r=r!=null)?Lr(e,s):bn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function kh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function ec(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},xu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=pt(i):(i=Xe(t)?Kn:Ve.current,s.context=Lr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Zl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&oa.enqueueReplaceState(s,s.state,null),Mo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Vr(e,t){try{var n="",r=t;do n+=Hv(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Qa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function tc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vw=typeof WeakMap=="function"?WeakMap:Map;function bg(e,t,n){n=Ht(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$o||($o=!0,dc=r),tc(e,t)},n}function _g(e,t,n){n=Ht(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){tc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){tc(e,t),typeof r!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Sh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new vw;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Rw.bind(null,e,t,n),t.then(e,e))}function jh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ht(-1,1),t.tag=2,gn(n,t,1))),n.lanes|=1),e)}var xw=Yt.ReactCurrentOwner,Ge=!1;function Ue(e,t,n,r){t.child=e===null?Xp(t,null,n,r):Dr(t,e.child,n,r)}function Th(e,t,n,r,s){n=n.render;var i=t.ref;return Rr(t,s),r=Su(e,t,n,r,i,s),n=ju(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jt(e,t,s)):(oe&&n&&hu(t),t.flags|=1,Ue(e,t,r,s),t.child)}function Eh(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Lu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,kg(e,t,i,r,s)):(e=uo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gs,n(o,r)&&e.ref===t.ref)return Jt(e,t,s)}return t.flags|=1,e=xn(i,r),e.ref=t.ref,e.return=t,t.child=e}function kg(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Gs(i,r)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,Jt(e,t,s)}return nc(e,t,n,r,s)}function Sg(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(_r,Ze),Ze|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(_r,Ze),Ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,te(_r,Ze),Ze|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,te(_r,Ze),Ze|=r;return Ue(e,t,s,n),t.child}function jg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function nc(e,t,n,r,s){var i=Xe(n)?Kn:Ve.current;return i=Lr(t,i),Rr(t,s),n=Su(e,t,n,r,i,s),r=ju(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jt(e,t,s)):(oe&&r&&hu(t),t.flags|=1,Ue(e,t,n,s),t.child)}function Ch(e,t,n,r,s){if(Xe(n)){var i=!0;Eo(t)}else i=!1;if(Rr(t,s),t.stateNode===null)ao(e,t),wg(t,n,r),ec(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=pt(c):(c=Xe(n)?Kn:Ve.current,c=Lr(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&kh(t,o,r,c),sn=!1;var f=t.memoizedState;o.state=f,Mo(t,r,o,s),l=t.memoizedState,a!==r||f!==l||Qe.current||sn?(typeof d=="function"&&(Zl(t,n,d,r),l=t.memoizedState),(a=sn||_h(t,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Zp(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:bt(t.type,a),o.props=c,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=pt(l):(l=Xe(n)?Kn:Ve.current,l=Lr(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&kh(t,o,r,l),sn=!1,f=t.memoizedState,o.state=f,Mo(t,r,o,s);var x=t.memoizedState;a!==h||f!==x||Qe.current||sn?(typeof g=="function"&&(Zl(t,n,g,r),x=t.memoizedState),(c=sn||_h(t,n,c,r,f,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return rc(e,t,n,r,i,s)}function rc(e,t,n,r,s,i){jg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&mh(t,n,!1),Jt(e,t,i);r=t.stateNode,xw.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Dr(t,e.child,null,i),t.child=Dr(t,null,a,i)):Ue(e,t,a,i),t.memoizedState=r.state,s&&mh(t,n,!0),t.child}function Ng(e){var t=e.stateNode;t.pendingContext?fh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fh(e,t.context,!1),wu(e,t.containerInfo)}function Ph(e,t,n,r,s){return Ir(),mu(s),t.flags|=256,Ue(e,t,n,r),t.child}var sc={dehydrated:null,treeContext:null,retryLane:0};function ic(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tg(e,t,n){var r=t.pendingProps,s=ue.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),te(ue,s&1),e===null)return Xl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ca(o,r,0,null),e=Wn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ic(n),t.memoizedState=sc,e):Eu(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ww(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=xn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=xn(a,i):(i=Wn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ic(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=sc,r}return i=e.child,e=i.sibling,r=xn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Eu(e,t){return t=ca({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Di(e,t,n,r){return r!==null&&mu(r),Dr(t,e.child,null,n),e=Eu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ww(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Qa(Error(P(422))),Di(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ca({mode:"visible",children:r.children},s,0,null),i=Wn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Dr(t,e.child,null,o),t.child.memoizedState=ic(o),t.memoizedState=sc,i);if(!(t.mode&1))return Di(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(P(419)),r=Qa(i,r,void 0),Di(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ge||a){if(r=Ce,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Gt(e,s),Nt(r,e,s,-1))}return Ou(),r=Qa(Error(P(421))),Di(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Mw.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,et=pn(s.nextSibling),tt=t,oe=!0,St=null,e!==null&&(ct[ut++]=zt,ct[ut++]=Bt,ct[ut++]=Gn,zt=e.id,Bt=e.overflow,Gn=t),t=Eu(t,r.children),t.flags|=4096,t)}function Ah(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Yl(e.return,t,n)}function Xa(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Eg(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ue(e,t,r.children,n),r=ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ah(e,n,t);else if(e.tag===19)Ah(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(te(ue,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Oo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Xa(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Oo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Xa(t,!0,n,null,i);break;case"together":Xa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ao(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=xn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bw(e,t,n){switch(t.tag){case 3:Ng(t),Ir();break;case 5:eg(t);break;case 1:Xe(t.type)&&Eo(t);break;case 4:wu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;te(Ao,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(te(ue,ue.current&1),t.flags|=128,null):n&t.child.childLanes?Tg(e,t,n):(te(ue,ue.current&1),e=Jt(e,t,n),e!==null?e.sibling:null);te(ue,ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Eg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(ue,ue.current),r)break;return null;case 22:case 23:return t.lanes=0,Sg(e,t,n)}return Jt(e,t,n)}var Cg,oc,Pg,Ag;Cg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oc=function(){};Pg=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Un(Rt.current);var i=null;switch(n){case"input":s=El(e,s),r=El(e,r),i=[];break;case"select":s=fe({},s,{value:void 0}),r=fe({},r,{value:void 0}),i=[];break;case"textarea":s=Al(e,s),r=Al(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=No)}Ml(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fs.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fs.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&re("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Ag=function(e,t,n,r){n!==r&&(t.flags|=4)};function cs(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _w(e,t,n){var r=t.pendingProps;switch(fu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Xe(t.type)&&To(),Le(t),null;case 3:return r=t.stateNode,$r(),se(Qe),se(Ve),_u(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Li(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(mc(St),St=null))),oc(e,t),Le(t),null;case 5:bu(t);var s=Un(Zs.current);if(n=t.type,e!==null&&t.stateNode!=null)Pg(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Le(t),null}if(e=Un(Rt.current),Li(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Pt]=t,r[Xs]=i,e=(t.mode&1)!==0,n){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(s=0;s<ys.length;s++)re(ys[s],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":Ud(r,i),re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},re("invalid",r);break;case"textarea":zd(r,i),re("invalid",r)}Ml(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Oi(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Oi(r.textContent,a,e),s=["children",""+a]):Fs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&re("scroll",r)}switch(n){case"input":Ni(r),Fd(r,i,!0);break;case"textarea":Ni(r),Bd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=No)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ip(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Pt]=t,e[Xs]=r,Cg(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ol(n,r),n){case"dialog":re("cancel",e),re("close",e),s=r;break;case"iframe":case"object":case"embed":re("load",e),s=r;break;case"video":case"audio":for(s=0;s<ys.length;s++)re(ys[s],e);s=r;break;case"source":re("error",e),s=r;break;case"img":case"image":case"link":re("error",e),re("load",e),s=r;break;case"details":re("toggle",e),s=r;break;case"input":Ud(e,r),s=El(e,r),re("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=fe({},r,{value:void 0}),re("invalid",e);break;case"textarea":zd(e,r),s=Al(e,r),re("invalid",e);break;default:s=r}Ml(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?lp(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&op(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zs(e,l):typeof l=="number"&&zs(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&re("scroll",e):l!=null&&Yc(e,i,l,o))}switch(n){case"input":Ni(e),Fd(e,r,!1);break;case"textarea":Ni(e),Bd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+wn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Er(e,!!r.multiple,i,!1):r.defaultValue!=null&&Er(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=No)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)Ag(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=Un(Zs.current),Un(Rt.current),Li(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pt]=t,(i=r.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:Oi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pt]=t,t.stateNode=r}return Le(t),null;case 13:if(se(ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&et!==null&&t.mode&1&&!(t.flags&128))Jp(),Ir(),t.flags|=98560,i=!1;else if(i=Li(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Pt]=t}else Ir(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),i=!1}else St!==null&&(mc(St),St=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?Ne===0&&(Ne=3):Ou())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return $r(),oc(e,t),e===null&&Js(t.stateNode.containerInfo),Le(t),null;case 10:return yu(t.type._context),Le(t),null;case 17:return Xe(t.type)&&To(),Le(t),null;case 19:if(se(ue),i=t.memoizedState,i===null)return Le(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)cs(i,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Oo(e),o!==null){for(t.flags|=128,cs(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return te(ue,ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&we()>Ur&&(t.flags|=128,r=!0,cs(i,!1),t.lanes=4194304)}else{if(!r)if(e=Oo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!oe)return Le(t),null}else 2*we()-i.renderingStartTime>Ur&&n!==1073741824&&(t.flags|=128,r=!0,cs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=we(),t.sibling=null,n=ue.current,te(ue,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return Mu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ze&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function kw(e,t){switch(fu(t),t.tag){case 1:return Xe(t.type)&&To(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $r(),se(Qe),se(Ve),_u(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bu(t),null;case 13:if(se(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(ue),null;case 4:return $r(),null;case 10:return yu(t.type._context),null;case 22:case 23:return Mu(),null;case 24:return null;default:return null}}var $i=!1,De=!1,Sw=typeof WeakSet=="function"?WeakSet:Set,M=null;function br(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(e,t,r)}else n.current=null}function ac(e,t,n){try{n()}catch(r){ge(e,t,r)}}var Rh=!1;function jw(e,t){if(Wl=ko,e=Ip(),du(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hl={focusedElem:e,selectionRange:n},ko=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,k=x.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?w:bt(t.type,w),k);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(b){ge(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return x=Rh,Rh=!1,x}function Ts(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ac(t,n,i)}s=s.next}while(s!==r)}}function aa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function lc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Rg(e){var t=e.alternate;t!==null&&(e.alternate=null,Rg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[Xs],delete t[Gl],delete t[aw],delete t[lw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mg(e){return e.tag===5||e.tag===3||e.tag===4}function Mh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=No));else if(r!==4&&(e=e.child,e!==null))for(cc(e,t,n),e=e.sibling;e!==null;)cc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(uc(e,t,n),e=e.sibling;e!==null;)uc(e,t,n),e=e.sibling}var Pe=null,_t=!1;function Zt(e,t,n){for(n=n.child;n!==null;)Og(e,t,n),n=n.sibling}function Og(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Zo,n)}catch{}switch(n.tag){case 5:De||br(n,t);case 6:var r=Pe,s=_t;Pe=null,Zt(e,t,n),Pe=r,_t=s,Pe!==null&&(_t?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(_t?(e=Pe,n=n.stateNode,e.nodeType===8?Wa(e.parentNode,n):e.nodeType===1&&Wa(e,n),qs(e)):Wa(Pe,n.stateNode));break;case 4:r=Pe,s=_t,Pe=n.stateNode.containerInfo,_t=!0,Zt(e,t,n),Pe=r,_t=s;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ac(n,t,o),s=s.next}while(s!==r)}Zt(e,t,n);break;case 1:if(!De&&(br(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ge(n,t,a)}Zt(e,t,n);break;case 21:Zt(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,Zt(e,t,n),De=r):Zt(e,t,n);break;default:Zt(e,t,n)}}function Oh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Sw),t.forEach(function(r){var s=Ow.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pe=a.stateNode,_t=!1;break e;case 3:Pe=a.stateNode.containerInfo,_t=!0;break e;case 4:Pe=a.stateNode.containerInfo,_t=!0;break e}a=a.return}if(Pe===null)throw Error(P(160));Og(i,o,s),Pe=null,_t=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ge(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lg(t,e),t=t.sibling}function Lg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),Et(e),r&4){try{Ts(3,e,e.return),aa(3,e)}catch(w){ge(e,e.return,w)}try{Ts(5,e,e.return)}catch(w){ge(e,e.return,w)}}break;case 1:vt(t,e),Et(e),r&512&&n!==null&&br(n,n.return);break;case 5:if(vt(t,e),Et(e),r&512&&n!==null&&br(n,n.return),e.flags&32){var s=e.stateNode;try{zs(s,"")}catch(w){ge(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&rp(s,i),Ol(a,o);var c=Ol(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?lp(s,h):d==="dangerouslySetInnerHTML"?op(s,h):d==="children"?zs(s,h):Yc(s,d,h,c)}switch(a){case"input":Cl(s,i);break;case"textarea":sp(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Er(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Er(s,!!i.multiple,i.defaultValue,!0):Er(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xs]=i}catch(w){ge(e,e.return,w)}}break;case 6:if(vt(t,e),Et(e),r&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ge(e,e.return,w)}}break;case 3:if(vt(t,e),Et(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qs(t.containerInfo)}catch(w){ge(e,e.return,w)}break;case 4:vt(t,e),Et(e);break;case 13:vt(t,e),Et(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Au=we())),r&4&&Oh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(De=(c=De)||d,vt(t,e),De=c):vt(t,e),Et(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(M=e,d=e.child;d!==null;){for(h=M=d;M!==null;){switch(f=M,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ts(4,f,f.return);break;case 1:br(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){ge(r,n,w)}}break;case 5:br(f,f.return);break;case 22:if(f.memoizedState!==null){Ih(h);continue}}g!==null?(g.return=f,M=g):Ih(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ap("display",o))}catch(w){ge(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){ge(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vt(t,e),Et(e),r&4&&Oh(e);break;case 21:break;default:vt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Mg(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(zs(s,""),r.flags&=-33);var i=Mh(e);uc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Mh(e);cc(e,a,o);break;default:throw Error(P(161))}}catch(l){ge(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Nw(e,t,n){M=e,Ig(e)}function Ig(e,t,n){for(var r=(e.mode&1)!==0;M!==null;){var s=M,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||$i;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||De;a=$i;var c=De;if($i=o,(De=l)&&!c)for(M=s;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?Dh(s):l!==null?(l.return=o,M=l):Dh(s);for(;i!==null;)M=i,Ig(i),i=i.sibling;M=s,$i=a,De=c}Lh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,M=i):Lh(e)}}function Lh(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||aa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:bt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&xh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xh(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&qs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}De||t.flags&512&&lc(t)}catch(f){ge(t,t.return,f)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function Ih(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function Dh(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{aa(4,t)}catch(l){ge(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ge(t,s,l)}}var i=t.return;try{lc(t)}catch(l){ge(t,i,l)}break;case 5:var o=t.return;try{lc(t)}catch(l){ge(t,o,l)}}}catch(l){ge(t,t.return,l)}if(t===e){M=null;break}var a=t.sibling;if(a!==null){a.return=t.return,M=a;break}M=t.return}}var Tw=Math.ceil,Do=Yt.ReactCurrentDispatcher,Cu=Yt.ReactCurrentOwner,ht=Yt.ReactCurrentBatchConfig,K=0,Ce=null,ke=null,Re=0,Ze=0,_r=jn(0),Ne=0,ri=null,Qn=0,la=0,Pu=0,Es=null,qe=null,Au=0,Ur=1/0,Vt=null,$o=!1,dc=null,yn=null,Vi=!1,dn=null,Vo=0,Cs=0,hc=null,lo=-1,co=0;function ze(){return K&6?we():lo!==-1?lo:lo=we()}function vn(e){return e.mode&1?K&2&&Re!==0?Re&-Re:uw.transition!==null?(co===0&&(co=wp()),co):(e=Q,e!==0||(e=window.event,e=e===void 0?16:Tp(e.type)),e):1}function Nt(e,t,n,r){if(50<Cs)throw Cs=0,hc=null,Error(P(185));fi(e,n,r),(!(K&2)||e!==Ce)&&(e===Ce&&(!(K&2)&&(la|=n),Ne===4&&ln(e,Re)),Ye(e,r),n===1&&K===0&&!(t.mode&1)&&(Ur=we()+500,sa&&Nn()))}function Ye(e,t){var n=e.callbackNode;ux(e,t);var r=_o(e,e===Ce?Re:0);if(r===0)n!==null&&qd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qd(n),t===1)e.tag===0?cw($h.bind(null,e)):qp($h.bind(null,e)),iw(function(){!(K&6)&&Nn()}),n=null;else{switch(bp(r)){case 1:n=ru;break;case 4:n=vp;break;case 16:n=bo;break;case 536870912:n=xp;break;default:n=bo}n=Wg(n,Dg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Dg(e,t){if(lo=-1,co=0,K&6)throw Error(P(327));var n=e.callbackNode;if(Mr()&&e.callbackNode!==n)return null;var r=_o(e,e===Ce?Re:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Uo(e,r);else{t=r;var s=K;K|=2;var i=Vg();(Ce!==e||Re!==t)&&(Vt=null,Ur=we()+500,Bn(e,t));do try{Pw();break}catch(a){$g(e,a)}while(!0);gu(),Do.current=i,K=s,ke!==null?t=0:(Ce=null,Re=0,t=Ne)}if(t!==0){if(t===2&&(s=Vl(e),s!==0&&(r=s,t=fc(e,s))),t===1)throw n=ri,Bn(e,0),ln(e,r),Ye(e,we()),n;if(t===6)ln(e,r);else{if(s=e.current.alternate,!(r&30)&&!Ew(s)&&(t=Uo(e,r),t===2&&(i=Vl(e),i!==0&&(r=i,t=fc(e,i))),t===1))throw n=ri,Bn(e,0),ln(e,r),Ye(e,we()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:On(e,qe,Vt);break;case 3:if(ln(e,r),(r&130023424)===r&&(t=Au+500-we(),10<t)){if(_o(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Kl(On.bind(null,e,qe,Vt),t);break}On(e,qe,Vt);break;case 4:if(ln(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-jt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tw(r/1960))-r,10<r){e.timeoutHandle=Kl(On.bind(null,e,qe,Vt),r);break}On(e,qe,Vt);break;case 5:On(e,qe,Vt);break;default:throw Error(P(329))}}}return Ye(e,we()),e.callbackNode===n?Dg.bind(null,e):null}function fc(e,t){var n=Es;return e.current.memoizedState.isDehydrated&&(Bn(e,t).flags|=256),e=Uo(e,t),e!==2&&(t=qe,qe=n,t!==null&&mc(t)),e}function mc(e){qe===null?qe=e:qe.push.apply(qe,e)}function Ew(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Tt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t){for(t&=~Pu,t&=~la,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function $h(e){if(K&6)throw Error(P(327));Mr();var t=_o(e,0);if(!(t&1))return Ye(e,we()),null;var n=Uo(e,t);if(e.tag!==0&&n===2){var r=Vl(e);r!==0&&(t=r,n=fc(e,r))}if(n===1)throw n=ri,Bn(e,0),ln(e,t),Ye(e,we()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,On(e,qe,Vt),Ye(e,we()),null}function Ru(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(Ur=we()+500,sa&&Nn())}}function Xn(e){dn!==null&&dn.tag===0&&!(K&6)&&Mr();var t=K;K|=1;var n=ht.transition,r=Q;try{if(ht.transition=null,Q=1,e)return e()}finally{Q=r,ht.transition=n,K=t,!(K&6)&&Nn()}}function Mu(){Ze=_r.current,se(_r)}function Bn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sw(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(fu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&To();break;case 3:$r(),se(Qe),se(Ve),_u();break;case 5:bu(r);break;case 4:$r();break;case 13:se(ue);break;case 19:se(ue);break;case 10:yu(r.type._context);break;case 22:case 23:Mu()}n=n.return}if(Ce=e,ke=e=xn(e.current,null),Re=Ze=t,Ne=0,ri=null,Pu=la=Qn=0,qe=Es=null,Vn!==null){for(t=0;t<Vn.length;t++)if(n=Vn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Vn=null}return e}function $g(e,t){do{var n=ke;try{if(gu(),io.current=Io,Lo){for(var r=he.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Lo=!1}if(Jn=0,Ee=je=he=null,Ns=!1,ei=0,Cu.current=null,n===null||n.return===null){Ne=1,ri=t,ke=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Re,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=jh(o);if(g!==null){g.flags&=-257,Nh(g,o,a,i,t),g.mode&1&&Sh(i,c,t),t=g,l=c;var x=t.updateQueue;if(x===null){var w=new Set;w.add(l),t.updateQueue=w}else x.add(l);break e}else{if(!(t&1)){Sh(i,c,t),Ou();break e}l=Error(P(426))}}else if(oe&&a.mode&1){var k=jh(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Nh(k,o,a,i,t),mu(Vr(l,a));break e}}i=l=Vr(l,a),Ne!==4&&(Ne=2),Es===null?Es=[i]:Es.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=bg(i,l,t);vh(i,y);break e;case 1:a=l;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(yn===null||!yn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=_g(i,a,t);vh(i,b);break e}}i=i.return}while(i!==null)}Fg(n)}catch(S){t=S,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function Vg(){var e=Do.current;return Do.current=Io,e===null?Io:e}function Ou(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Ce===null||!(Qn&268435455)&&!(la&268435455)||ln(Ce,Re)}function Uo(e,t){var n=K;K|=2;var r=Vg();(Ce!==e||Re!==t)&&(Vt=null,Bn(e,t));do try{Cw();break}catch(s){$g(e,s)}while(!0);if(gu(),K=n,Do.current=r,ke!==null)throw Error(P(261));return Ce=null,Re=0,Ne}function Cw(){for(;ke!==null;)Ug(ke)}function Pw(){for(;ke!==null&&!tx();)Ug(ke)}function Ug(e){var t=Bg(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,t===null?Fg(e):ke=t,Cu.current=null}function Fg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kw(n,t),n!==null){n.flags&=32767,ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,ke=null;return}}else if(n=_w(n,t,Ze),n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);Ne===0&&(Ne=5)}function On(e,t,n){var r=Q,s=ht.transition;try{ht.transition=null,Q=1,Aw(e,t,n,r)}finally{ht.transition=s,Q=r}return null}function Aw(e,t,n,r){do Mr();while(dn!==null);if(K&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(dx(e,i),e===Ce&&(ke=Ce=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vi||(Vi=!0,Wg(bo,function(){return Mr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ht.transition,ht.transition=null;var o=Q;Q=1;var a=K;K|=4,Cu.current=null,jw(e,n),Lg(n,e),Xx(Hl),ko=!!Wl,Hl=Wl=null,e.current=n,Nw(n),nx(),K=a,Q=o,ht.transition=i}else e.current=n;if(Vi&&(Vi=!1,dn=e,Vo=s),i=e.pendingLanes,i===0&&(yn=null),ix(n.stateNode),Ye(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($o)throw $o=!1,e=dc,dc=null,e;return Vo&1&&e.tag!==0&&Mr(),i=e.pendingLanes,i&1?e===hc?Cs++:(Cs=0,hc=e):Cs=0,Nn(),null}function Mr(){if(dn!==null){var e=bp(Vo),t=ht.transition,n=Q;try{if(ht.transition=null,Q=16>e?16:e,dn===null)var r=!1;else{if(e=dn,dn=null,Vo=0,K&6)throw Error(P(331));var s=K;for(K|=4,M=e.current;M!==null;){var i=M,o=i.child;if(M.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(M=c;M!==null;){var d=M;switch(d.tag){case 0:case 11:case 15:Ts(8,d,i)}var h=d.child;if(h!==null)h.return=d,M=h;else for(;M!==null;){d=M;var f=d.sibling,g=d.return;if(Rg(d),d===c){M=null;break}if(f!==null){f.return=g,M=f;break}M=g}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}M=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,M=o;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ts(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,M=y;break e}M=i.return}}var m=e.current;for(M=m;M!==null;){o=M;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,M=p;else e:for(o=m;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:aa(9,a)}}catch(S){ge(a,a.return,S)}if(a===o){M=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,M=b;break e}M=a.return}}if(K=s,Nn(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Zo,e)}catch{}r=!0}return r}finally{Q=n,ht.transition=t}}return!1}function Vh(e,t,n){t=Vr(n,t),t=bg(e,t,1),e=gn(e,t,1),t=ze(),e!==null&&(fi(e,1,t),Ye(e,t))}function ge(e,t,n){if(e.tag===3)Vh(e,e,n);else for(;t!==null;){if(t.tag===3){Vh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yn===null||!yn.has(r))){e=Vr(n,e),e=_g(t,e,1),t=gn(t,e,1),e=ze(),t!==null&&(fi(t,1,e),Ye(t,e));break}}t=t.return}}function Rw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,Ce===e&&(Re&n)===n&&(Ne===4||Ne===3&&(Re&130023424)===Re&&500>we()-Au?Bn(e,0):Pu|=n),Ye(e,t)}function zg(e,t){t===0&&(e.mode&1?(t=Ci,Ci<<=1,!(Ci&130023424)&&(Ci=4194304)):t=1);var n=ze();e=Gt(e,t),e!==null&&(fi(e,t,n),Ye(e,n))}function Mw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zg(e,n)}function Ow(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),zg(e,n)}var Bg;Bg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Ge=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ge=!1,bw(e,t,n);Ge=!!(e.flags&131072)}else Ge=!1,oe&&t.flags&1048576&&Kp(t,Po,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ao(e,t),e=t.pendingProps;var s=Lr(t,Ve.current);Rr(t,n),s=Su(null,t,r,e,s,n);var i=ju();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(r)?(i=!0,Eo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,xu(t),s.updater=oa,t.stateNode=s,s._reactInternals=t,ec(t,r,e,n),t=rc(null,t,r,!0,i,n)):(t.tag=0,oe&&i&&hu(t),Ue(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ao(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Iw(r),e=bt(r,e),s){case 0:t=nc(null,t,r,e,n);break e;case 1:t=Ch(null,t,r,e,n);break e;case 11:t=Th(null,t,r,e,n);break e;case 14:t=Eh(null,t,r,bt(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bt(r,s),nc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bt(r,s),Ch(e,t,r,s,n);case 3:e:{if(Ng(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Zp(e,t),Mo(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Vr(Error(P(423)),t),t=Ph(e,t,r,n,s);break e}else if(r!==s){s=Vr(Error(P(424)),t),t=Ph(e,t,r,n,s);break e}else for(et=pn(t.stateNode.containerInfo.firstChild),tt=t,oe=!0,St=null,n=Xp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ir(),r===s){t=Jt(e,t,n);break e}Ue(e,t,r,n)}t=t.child}return t;case 5:return eg(t),e===null&&Xl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ql(r,s)?o=null:i!==null&&ql(r,i)&&(t.flags|=32),jg(e,t),Ue(e,t,o,n),t.child;case 6:return e===null&&Xl(t),null;case 13:return Tg(e,t,n);case 4:return wu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dr(t,null,r,n):Ue(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bt(r,s),Th(e,t,r,s,n);case 7:return Ue(e,t,t.pendingProps,n),t.child;case 8:return Ue(e,t,t.pendingProps.children,n),t.child;case 12:return Ue(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,te(Ao,r._currentValue),r._currentValue=o,i!==null)if(Tt(i.value,o)){if(i.children===s.children&&!Qe.current){t=Jt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ht(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Yl(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Yl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ue(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Rr(t,n),s=pt(s),r=r(s),t.flags|=1,Ue(e,t,r,n),t.child;case 14:return r=t.type,s=bt(r,t.pendingProps),s=bt(r.type,s),Eh(e,t,r,s,n);case 15:return kg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bt(r,s),ao(e,t),t.tag=1,Xe(r)?(e=!0,Eo(t)):e=!1,Rr(t,n),wg(t,r,s),ec(t,r,s,n),rc(null,t,r,!0,e,n);case 19:return Eg(e,t,n);case 22:return Sg(e,t,n)}throw Error(P(156,t.tag))};function Wg(e,t){return yp(e,t)}function Lw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(e,t,n,r){return new Lw(e,t,n,r)}function Lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Iw(e){if(typeof e=="function")return Lu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===eu)return 11;if(e===tu)return 14}return 2}function xn(e,t){var n=e.alternate;return n===null?(n=dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function uo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Lu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case hr:return Wn(n.children,s,i,t);case Zc:o=8,s|=8;break;case Sl:return e=dt(12,n,t,s|2),e.elementType=Sl,e.lanes=i,e;case jl:return e=dt(13,n,t,s),e.elementType=jl,e.lanes=i,e;case Nl:return e=dt(19,n,t,s),e.elementType=Nl,e.lanes=i,e;case ep:return ca(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ym:o=10;break e;case Zm:o=9;break e;case eu:o=11;break e;case tu:o=14;break e;case rn:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=dt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Wn(e,t,n,r){return e=dt(7,e,r,t),e.lanes=n,e}function ca(e,t,n,r){return e=dt(22,e,r,t),e.elementType=ep,e.lanes=n,e.stateNode={isHidden:!1},e}function Ya(e,t,n){return e=dt(6,e,null,t),e.lanes=n,e}function Za(e,t,n){return t=dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dw(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ma(0),this.expirationTimes=Ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Iu(e,t,n,r,s,i,o,a,l){return e=new Dw(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=dt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xu(i),e}function $w(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Hg(e){if(!e)return bn;e=e._reactInternals;e:{if(Zn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Xe(n))return Hp(e,n,t)}return t}function qg(e,t,n,r,s,i,o,a,l){return e=Iu(n,r,!0,e,s,i,o,a,l),e.context=Hg(null),n=e.current,r=ze(),s=vn(n),i=Ht(r,s),i.callback=t??null,gn(n,i,s),e.current.lanes=s,fi(e,s,r),Ye(e,r),e}function ua(e,t,n,r){var s=t.current,i=ze(),o=vn(s);return n=Hg(n),t.context===null?t.context=n:t.pendingContext=n,t=Ht(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=gn(s,t,o),e!==null&&(Nt(e,s,o,i),so(e,s,o)),o}function Fo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Du(e,t){Uh(e,t),(e=e.alternate)&&Uh(e,t)}function Vw(){return null}var Kg=typeof reportError=="function"?reportError:function(e){console.error(e)};function $u(e){this._internalRoot=e}da.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));ua(e,t,null,null)};da.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){ua(null,e,null,null)}),t[Kt]=null}};function da(e){this._internalRoot=e}da.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<an.length&&t!==0&&t<an[n].priority;n++);an.splice(n,0,e),n===0&&Np(e)}};function Vu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fh(){}function Uw(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Fo(o);i.call(c)}}var o=qg(t,r,e,0,null,!1,!1,"",Fh);return e._reactRootContainer=o,e[Kt]=o.current,Js(e.nodeType===8?e.parentNode:e),Xn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Fo(l);a.call(c)}}var l=Iu(e,0,!1,null,null,!1,!1,"",Fh);return e._reactRootContainer=l,e[Kt]=l.current,Js(e.nodeType===8?e.parentNode:e),Xn(function(){ua(t,l,n,r)}),l}function fa(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Fo(o);a.call(l)}}ua(t,o,e,s)}else o=Uw(n,t,e,s,r);return Fo(o)}_p=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gs(t.pendingLanes);n!==0&&(su(t,n|1),Ye(t,we()),!(K&6)&&(Ur=we()+500,Nn()))}break;case 13:Xn(function(){var r=Gt(e,1);if(r!==null){var s=ze();Nt(r,e,1,s)}}),Du(e,1)}};iu=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=ze();Nt(t,e,134217728,n)}Du(e,134217728)}};kp=function(e){if(e.tag===13){var t=vn(e),n=Gt(e,t);if(n!==null){var r=ze();Nt(n,e,t,r)}Du(e,t)}};Sp=function(){return Q};jp=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};Il=function(e,t,n){switch(t){case"input":if(Cl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ra(r);if(!s)throw Error(P(90));np(r),Cl(r,s)}}}break;case"textarea":sp(e,n);break;case"select":t=n.value,t!=null&&Er(e,!!n.multiple,t,!1)}};dp=Ru;hp=Xn;var Fw={usingClientEntryPoint:!1,Events:[pi,gr,ra,cp,up,Ru]},us={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zw={bundleType:us.bundleType,version:us.version,rendererPackageName:us.rendererPackageName,rendererConfig:us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pp(e),e===null?null:e.stateNode},findFiberByHostInstance:us.findFiberByHostInstance||Vw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ui.isDisabled&&Ui.supportsFiber)try{Zo=Ui.inject(zw),At=Ui}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fw;rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vu(t))throw Error(P(200));return $w(e,t,null,n)};rt.createRoot=function(e,t){if(!Vu(e))throw Error(P(299));var n=!1,r="",s=Kg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Iu(e,1,!1,null,null,n,!1,r,s),e[Kt]=t.current,Js(e.nodeType===8?e.parentNode:e),new $u(t)};rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=pp(t),e=e===null?null:e.stateNode,e};rt.flushSync=function(e){return Xn(e)};rt.hydrate=function(e,t,n){if(!ha(t))throw Error(P(200));return fa(null,e,t,!0,n)};rt.hydrateRoot=function(e,t,n){if(!Vu(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Kg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=qg(t,null,e,1,n??null,s,!1,i,o),e[Kt]=t.current,Js(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new da(t)};rt.render=function(e,t,n){if(!ha(t))throw Error(P(200));return fa(null,e,t,!1,n)};rt.unmountComponentAtNode=function(e){if(!ha(e))throw Error(P(40));return e._reactRootContainer?(Xn(function(){fa(null,null,e,!1,function(){e._reactRootContainer=null,e[Kt]=null})}),!0):!1};rt.unstable_batchedUpdates=Ru;rt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ha(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return fa(e,t,n,!1,r)};rt.version="18.3.1-next-f1338f8080-20240426";function Gg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gg)}catch(e){console.error(e)}}Gg(),Gm.exports=rt;var Bw=Gm.exports,Jg,zh=Bw;Jg=zh.createRoot,zh.hydrateRoot;function Ww({onSwipeLeft:e,onSwipeRight:t,minDistance:n=50,enabled:r=!0}){const s=_.useRef(null),i=_.useRef(null),o=_.useCallback(l=>{if(!r)return;const c=l.changedTouches[0];s.current=c.clientX,i.current=c.clientY},[r]),a=_.useCallback(l=>{if(!r||s.current===null||i.current===null)return;const c=l.changedTouches[0],d=c.clientX-s.current,h=c.clientY-i.current;Math.abs(h)>Math.abs(d)||(d<=-n&&e(),d>=n&&t(),s.current=null,i.current=null)},[r,n,e,t]);return{onTouchStart:o,onTouchEnd:a}}const Uu=_.createContext({});function Fu(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const zu=typeof window<"u",Qg=zu?_.useLayoutEffect:_.useEffect,ma=_.createContext(null);function Bu(e,t){e.indexOf(t)===-1&&e.push(t)}function Wu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Qt=(e,t,n)=>n>t?t:n<e?e:n;let zo=()=>{};const Xt={},Xg=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Yg(e){return typeof e=="object"&&e!==null}const Zg=e=>/^0[^.\s]+$/u.test(e);function Hu(e){let t;return()=>(t===void 0&&(t=e()),t)}const ft=e=>e,Hw=(e,t)=>n=>t(e(n)),yi=(...e)=>e.reduce(Hw),si=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class qu{constructor(){this.subscriptions=[]}add(t){return Bu(this.subscriptions,t),()=>Wu(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mt=e=>e*1e3,Ot=e=>e/1e3;function e0(e,t){return t?e*(1e3/t):0}const t0=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,qw=1e-7,Kw=12;function Gw(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=t0(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>qw&&++a<Kw);return o}function vi(e,t,n,r){if(e===t&&n===r)return ft;const s=i=>Gw(i,0,1,e,n);return i=>i===0||i===1?i:t0(s(i),t,r)}const n0=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,r0=e=>t=>1-e(1-t),s0=vi(.33,1.53,.69,.99),Ku=r0(s0),i0=n0(Ku),o0=e=>(e*=2)<1?.5*Ku(e):.5*(2-Math.pow(2,-10*(e-1))),Gu=e=>1-Math.sin(Math.acos(e)),a0=r0(Gu),l0=n0(Gu),Jw=vi(.42,0,1,1),Qw=vi(0,0,.58,1),c0=vi(.42,0,.58,1),Xw=e=>Array.isArray(e)&&typeof e[0]!="number",u0=e=>Array.isArray(e)&&typeof e[0]=="number",Bh={linear:ft,easeIn:Jw,easeInOut:c0,easeOut:Qw,circIn:Gu,circInOut:l0,circOut:a0,backIn:Ku,backInOut:i0,backOut:s0,anticipate:o0},Yw=e=>typeof e=="string",Wh=e=>{if(u0(e)){zo(e.length===4);const[t,n,r,s]=e;return vi(t,n,r,s)}else if(Yw(e))return zo(Bh[e]!==void 0),Bh[e];return e},Fi=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Hh={value:null,addProjectionMetrics:null};function Zw(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),e()),l++,h(a)}const d={schedule:(h,f=!1,g=!1)=>{const w=g&&s?n:r;return f&&o.add(h),w.has(h)||w.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),t&&Hh.value&&Hh.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const e1=40;function d0(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Fi.reduce((p,b)=>(p[b]=Zw(i,t?b:void 0),p),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:f,render:g,postRender:x}=o,w=()=>{const p=Xt.useManualTiming?s.timestamp:performance.now();n=!1,Xt.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(p-s.timestamp,e1),1)),s.timestamp=p,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),g.process(s),x.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(w))},k=()=>{n=!0,r=!0,s.isProcessing||e(w)};return{schedule:Fi.reduce((p,b)=>{const S=o[b];return p[b]=(j,N=!1,v=!1)=>(n||k(),S.schedule(j,N,v)),p},{}),cancel:p=>{for(let b=0;b<Fi.length;b++)o[Fi[b]].cancel(p)},state:s,steps:o}}const{schedule:ae,cancel:_n,state:Ae,steps:el}=d0(typeof requestAnimationFrame<"u"?requestAnimationFrame:ft,!0);let ho;function t1(){ho=void 0}const Je={now:()=>(ho===void 0&&Je.set(Ae.isProcessing||Xt.useManualTiming?Ae.timestamp:performance.now()),ho),set:e=>{ho=e,queueMicrotask(t1)}},h0=e=>t=>typeof t=="string"&&t.startsWith(e),Ju=h0("--"),n1=h0("var(--"),Qu=e=>n1(e)?r1.test(e.split("/*")[0].trim()):!1,r1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Kr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ii={...Kr,transform:e=>Qt(0,1,e)},zi={...Kr,default:1},Ps=e=>Math.round(e*1e5)/1e5,Xu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function s1(e){return e==null}const i1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yu=(e,t)=>n=>!!(typeof n=="string"&&i1.test(n)&&n.startsWith(e)||t&&!s1(n)&&Object.prototype.hasOwnProperty.call(n,t)),f0=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Xu);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},o1=e=>Qt(0,255,e),tl={...Kr,transform:e=>Math.round(o1(e))},Fn={test:Yu("rgb","red"),parse:f0("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+tl.transform(e)+", "+tl.transform(t)+", "+tl.transform(n)+", "+Ps(ii.transform(r))+")"};function a1(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const pc={test:Yu("#"),parse:a1,transform:Fn.transform},xi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),tn=xi("deg"),Lt=xi("%"),V=xi("px"),l1=xi("vh"),c1=xi("vw"),qh={...Lt,parse:e=>Lt.parse(e)/100,transform:e=>Lt.transform(e*100)},kr={test:Yu("hsl","hue"),parse:f0("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Lt.transform(Ps(t))+", "+Lt.transform(Ps(n))+", "+Ps(ii.transform(r))+")"},_e={test:e=>Fn.test(e)||pc.test(e)||kr.test(e),parse:e=>Fn.test(e)?Fn.parse(e):kr.test(e)?kr.parse(e):pc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Fn.transform(e):kr.transform(e),getAnimatableNone:e=>{const t=_e.parse(e);return t.alpha=0,_e.transform(t)}},u1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function d1(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Xu))==null?void 0:t.length)||0)+(((n=e.match(u1))==null?void 0:n.length)||0)>0}const m0="number",p0="color",h1="var",f1="var(",Kh="${}",m1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oi(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(m1,l=>(_e.test(l)?(r.color.push(i),s.push(p0),n.push(_e.parse(l))):l.startsWith(f1)?(r.var.push(i),s.push(h1),n.push(l)):(r.number.push(i),s.push(m0),n.push(parseFloat(l))),++i,Kh)).split(Kh);return{values:n,split:a,indexes:r,types:s}}function g0(e){return oi(e).values}function y0(e){const{split:t,types:n}=oi(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===m0?i+=Ps(s[o]):a===p0?i+=_e.transform(s[o]):i+=s[o]}return i}}const p1=e=>typeof e=="number"?0:_e.test(e)?_e.getAnimatableNone(e):e;function g1(e){const t=g0(e);return y0(e)(t.map(p1))}const kn={test:d1,parse:g0,createTransformer:y0,getAnimatableNone:g1};function nl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function y1({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=nl(l,a,e+1/3),i=nl(l,a,e),o=nl(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Bo(e,t){return n=>n>0?t:e}const de=(e,t,n)=>e+(t-e)*n,rl=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},v1=[pc,Fn,kr],x1=e=>v1.find(t=>t.test(e));function Gh(e){const t=x1(e);if(!t)return!1;let n=t.parse(e);return t===kr&&(n=y1(n)),n}const Jh=(e,t)=>{const n=Gh(e),r=Gh(t);if(!n||!r)return Bo(e,t);const s={...n};return i=>(s.red=rl(n.red,r.red,i),s.green=rl(n.green,r.green,i),s.blue=rl(n.blue,r.blue,i),s.alpha=de(n.alpha,r.alpha,i),Fn.transform(s))},gc=new Set(["none","hidden"]);function w1(e,t){return gc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function b1(e,t){return n=>de(e,t,n)}function Zu(e){return typeof e=="number"?b1:typeof e=="string"?Qu(e)?Bo:_e.test(e)?Jh:S1:Array.isArray(e)?v0:typeof e=="object"?_e.test(e)?Jh:_1:Bo}function v0(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Zu(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function _1(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Zu(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function k1(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const S1=(e,t)=>{const n=kn.createTransformer(t),r=oi(e),s=oi(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?gc.has(e)&&!s.values.length||gc.has(t)&&!r.values.length?w1(e,t):yi(v0(k1(r,s),s.values),n):Bo(e,t)};function x0(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?de(e,t,n):Zu(e)(e,t)}const j1=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ae.update(t,n),stop:()=>_n(t),now:()=>Ae.isProcessing?Ae.timestamp:Je.now()}},w0=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Wo=2e4;function ed(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Wo;)t+=n,r=e.next(t);return t>=Wo?1/0:t}function N1(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(ed(r),Wo);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Ot(s)}}const T1=5;function b0(e,t,n){const r=Math.max(t-T1,0);return e0(n-e(r),t-r)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sl=.001;function E1({duration:e=pe.duration,bounce:t=pe.bounce,velocity:n=pe.velocity,mass:r=pe.mass}){let s,i,o=1-t;o=Qt(pe.minDamping,pe.maxDamping,o),e=Qt(pe.minDuration,pe.maxDuration,Ot(e)),o<1?(s=c=>{const d=c*o,h=d*e,f=d-n,g=yc(c,o),x=Math.exp(-h);return sl-f/g*x},i=c=>{const h=c*o*e,f=h*n+n,g=Math.pow(o,2)*Math.pow(c,2)*e,x=Math.exp(-h),w=yc(Math.pow(c,2),o);return(-s(c)+sl>0?-1:1)*((f-g)*x)/w}):(s=c=>{const d=Math.exp(-c*e),h=(c-n)*e+1;return-sl+d*h},i=c=>{const d=Math.exp(-c*e),h=(n-c)*(e*e);return d*h});const a=5/e,l=P1(s,i,a);if(e=Mt(e),isNaN(l))return{stiffness:pe.stiffness,damping:pe.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const C1=12;function P1(e,t,n){let r=n;for(let s=1;s<C1;s++)r=r-e(r)/t(r);return r}function yc(e,t){return e*Math.sqrt(1-t*t)}const A1=["duration","bounce"],R1=["stiffness","damping","mass"];function Qh(e,t){return t.some(n=>e[n]!==void 0)}function M1(e){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...e};if(!Qh(e,R1)&&Qh(e,A1))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Qt(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:pe.mass,stiffness:s,damping:i}}else{const n=E1(e);t={...t,...n,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function Ho(e=pe.visualDuration,t=pe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:g}=M1({...n,velocity:-Ot(n.velocity||0)}),x=f||0,w=c/(2*Math.sqrt(l*d)),k=o-i,y=Ot(Math.sqrt(l/d)),m=Math.abs(k)<5;r||(r=m?pe.restSpeed.granular:pe.restSpeed.default),s||(s=m?pe.restDelta.granular:pe.restDelta.default);let p;if(w<1){const S=yc(y,w);p=j=>{const N=Math.exp(-w*y*j);return o-N*((x+w*y*k)/S*Math.sin(S*j)+k*Math.cos(S*j))}}else if(w===1)p=S=>o-Math.exp(-y*S)*(k+(x+y*k)*S);else{const S=y*Math.sqrt(w*w-1);p=j=>{const N=Math.exp(-w*y*j),v=Math.min(S*j,300);return o-N*((x+w*y*k)*Math.sinh(v)+S*k*Math.cosh(v))/S}}const b={calculatedDuration:g&&h||null,next:S=>{const j=p(S);if(g)a.done=S>=h;else{let N=S===0?x:0;w<1&&(N=S===0?Mt(x):b0(p,S,j));const v=Math.abs(N)<=r,C=Math.abs(o-j)<=s;a.done=v&&C}return a.value=a.done?o:j,a},toString:()=>{const S=Math.min(ed(b),Wo),j=w0(N=>b.next(S*N).value,S,30);return S+"ms "+j},toTransition:()=>{}};return b}Ho.applyToOptions=e=>{const t=N1(e,100,Ho);return e.ease=t.ease,e.duration=Mt(t.duration),e.type="keyframes",e};function vc({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},g=v=>a!==void 0&&v<a||l!==void 0&&v>l,x=v=>a===void 0?l:l===void 0||Math.abs(a-v)<Math.abs(l-v)?a:l;let w=n*t;const k=h+w,y=o===void 0?k:o(k);y!==k&&(w=y-h);const m=v=>-w*Math.exp(-v/r),p=v=>y+m(v),b=v=>{const C=m(v),A=p(v);f.done=Math.abs(C)<=c,f.value=f.done?y:A};let S,j;const N=v=>{g(f.value)&&(S=v,j=Ho({keyframes:[f.value,x(f.value)],velocity:b0(p,v,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return N(0),{calculatedDuration:null,next:v=>{let C=!1;return!j&&S===void 0&&(C=!0,b(v),N(v)),S!==void 0&&v>=S?j.next(v-S):(!C&&b(v),f)}}}function O1(e,t,n){const r=[],s=n||Xt.mix||x0,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||ft:t;a=yi(l,a)}r.push(a)}return r}function L1(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(zo(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=O1(t,r,s),l=a.length,c=d=>{if(o&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=si(e[h],e[h+1],d);return a[h](f)};return n?d=>c(Qt(e[0],e[i-1],d)):c}function I1(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=si(0,t,r);e.push(de(n,1,s))}}function D1(e){const t=[0];return I1(t,e.length-1),t}function $1(e,t){return e.map(n=>n*t)}function V1(e,t){return e.map(()=>t||c0).splice(0,e.length-1)}function As({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=Xw(r)?r.map(Wh):Wh(r),i={done:!1,value:t[0]},o=$1(n&&n.length===t.length?n:D1(t),e),a=L1(o,t,{ease:Array.isArray(s)?s:V1(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const U1=e=>e!==null;function td(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(U1),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const F1={decay:vc,inertia:vc,tween:As,keyframes:As,spring:Ho};function _0(e){typeof e.type=="string"&&(e.type=F1[e.type])}class nd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const z1=e=>e/100;class rd extends nd{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Je.now()&&this.tick(Je.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;_0(t);const{type:n=As,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||As;l!==As&&typeof a[0]!="number"&&(this.mixKeyframes=yi(z1,x0(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=ed(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:g,type:x,onUpdate:w,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),m=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let p=this.currentTime,b=r;if(h){const v=Math.min(this.currentTime,s)/a;let C=Math.floor(v),A=v%1;!A&&v>=1&&(A=1),A===1&&C--,C=Math.min(C,h+1),!!(C%2)&&(f==="reverse"?(A=1-A,g&&(A-=g/a)):f==="mirror"&&(b=o)),p=Qt(0,1,A)*a}const S=m?{done:!1,value:d[0]}:b.next(p);i&&(S.value=i(S.value));let{done:j}=S;!m&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return N&&x!==vc&&(S.value=td(d,this.options,k,this.speed)),w&&w(S.value),N&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return Ot(this.calculatedDuration)}get time(){return Ot(this.currentTime)}set time(t){var n;t=Mt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Je.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ot(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=j1,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Je.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function B1(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const zn=e=>e*180/Math.PI,xc=e=>{const t=zn(Math.atan2(e[1],e[0]));return wc(t)},W1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:xc,rotateZ:xc,skewX:e=>zn(Math.atan(e[1])),skewY:e=>zn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},wc=e=>(e=e%360,e<0&&(e+=360),e),Xh=xc,Yh=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Zh=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),H1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Yh,scaleY:Zh,scale:e=>(Yh(e)+Zh(e))/2,rotateX:e=>wc(zn(Math.atan2(e[6],e[5]))),rotateY:e=>wc(zn(Math.atan2(-e[2],e[0]))),rotateZ:Xh,rotate:Xh,skewX:e=>zn(Math.atan(e[4])),skewY:e=>zn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function bc(e){return e.includes("scale")?1:0}function _c(e,t){if(!e||e==="none")return bc(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=H1,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=W1,s=a}if(!s)return bc(t);const i=r[t],o=s[1].split(",").map(K1);return typeof i=="function"?i(o):o[i]}const q1=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return _c(n,t)};function K1(e){return parseFloat(e.trim())}const Gr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jr=new Set(Gr),ef=e=>e===Kr||e===V,G1=new Set(["x","y","z"]),J1=Gr.filter(e=>!G1.has(e));function Q1(e){const t=[];return J1.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Hn={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>_c(t,"x"),y:(e,{transform:t})=>_c(t,"y")};Hn.translateX=Hn.x;Hn.translateY=Hn.y;const qn=new Set;let kc=!1,Sc=!1,jc=!1;function k0(){if(Sc){const e=Array.from(qn).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=Q1(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Sc=!1,kc=!1,qn.forEach(e=>e.complete(jc)),qn.clear()}function S0(){qn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Sc=!0)})}function X1(){jc=!0,S0(),k0(),jc=!1}class sd{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(qn.add(this),kc||(kc=!0,ae.read(S0),ae.resolveKeyframes(k0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}B1(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),qn.delete(this)}cancel(){this.state==="scheduled"&&(qn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Y1=e=>e.startsWith("--");function Z1(e,t,n){Y1(t)?e.style.setProperty(t,n):e.style[t]=n}const eb=Hu(()=>window.ScrollTimeline!==void 0),tb={};function nb(e,t){const n=Hu(e);return()=>tb[t]??n()}const j0=nb(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,tf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vs([0,.65,.55,1]),circOut:vs([.55,0,1,.45]),backIn:vs([.31,.01,.66,-.59]),backOut:vs([.33,1.53,.69,.99])};function N0(e,t){if(e)return typeof e=="function"?j0()?w0(e,t):"ease-out":u0(e)?vs(e):Array.isArray(e)?e.map(n=>N0(n,t)||tf.easeOut):tf[e]}function rb(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const h=N0(a,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),e.animate(d,f)}function T0(e){return typeof e=="function"&&"applyToOptions"in e}function sb({type:e,...t}){return T0(e)&&j0()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ib extends nd{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,zo(typeof t.type!="string");const c=sb(t);this.animation=rb(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=td(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):Z1(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ot(Number(t))}get time(){return Ot(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Mt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&eb()?(this.animation.timeline=t,ft):n(this)}}const E0={anticipate:o0,backInOut:i0,circInOut:l0};function ob(e){return e in E0}function ab(e){typeof e.ease=="string"&&ob(e.ease)&&(e.ease=E0[e.ease])}const nf=10;class lb extends ib{constructor(t){ab(t),_0(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new rd({...o,autoplay:!1}),l=Mt(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-nf).value,a.sample(l).value,nf),a.stop()}}const rf=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(kn.test(e)||e==="0")&&!e.startsWith("url("));function cb(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ub(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=rf(s,t),a=rf(i,t);return!o||!a?!1:cb(e)||(n==="spring"||T0(n))&&r}const db=new Set(["opacity","clipPath","filter","transform"]),hb=Hu(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fb(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return hb()&&n&&db.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const mb=40;class pb extends nd{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var x;super(),this.stop=()=>{var w,k;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=Je.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...h},g=(d==null?void 0:d.KeyframeResolver)||sd;this.keyframeResolver=new g(a,(w,k,y)=>this.onKeyframesResolved(w,k,f,!y),l,c,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Je.now(),ub(t,i,o,a)||((Xt.instantAnimations||!l)&&(d==null||d(td(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>mb?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},g=!c&&fb(f)?new lb({...f,element:f.motionValue.owner.current}):new rd(f);g.finished.then(()=>this.notifyFinished()).catch(ft),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),X1()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const gb=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yb(e){const t=gb.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function C0(e,t,n=1){const[r,s]=yb(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return Xg(o)?parseFloat(o):o}return Qu(s)?C0(s,t,n+1):s}function id(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const P0=new Set(["width","height","top","left","right","bottom",...Gr]),vb={test:e=>e==="auto",parse:e=>e},A0=e=>t=>t.test(e),R0=[Kr,V,Lt,tn,c1,l1,vb],sf=e=>R0.find(A0(e));function xb(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Zg(e):!0}const wb=new Set(["brightness","contrast","saturate","opacity"]);function bb(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Xu)||[];if(!r)return e;const s=n.replace(r,"");let i=wb.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const _b=/\b([a-z-]*)\(.*?\)/gu,Nc={...kn,getAnimatableNone:e=>{const t=e.match(_b);return t?t.map(bb).join(" "):e}},of={...Kr,transform:Math.round},kb={rotate:tn,rotateX:tn,rotateY:tn,rotateZ:tn,scale:zi,scaleX:zi,scaleY:zi,scaleZ:zi,skew:tn,skewX:tn,skewY:tn,distance:V,translateX:V,translateY:V,translateZ:V,x:V,y:V,z:V,perspective:V,transformPerspective:V,opacity:ii,originX:qh,originY:qh,originZ:V},od={borderWidth:V,borderTopWidth:V,borderRightWidth:V,borderBottomWidth:V,borderLeftWidth:V,borderRadius:V,radius:V,borderTopLeftRadius:V,borderTopRightRadius:V,borderBottomRightRadius:V,borderBottomLeftRadius:V,width:V,maxWidth:V,height:V,maxHeight:V,top:V,right:V,bottom:V,left:V,padding:V,paddingTop:V,paddingRight:V,paddingBottom:V,paddingLeft:V,margin:V,marginTop:V,marginRight:V,marginBottom:V,marginLeft:V,backgroundPositionX:V,backgroundPositionY:V,...kb,zIndex:of,fillOpacity:ii,strokeOpacity:ii,numOctaves:of},Sb={...od,color:_e,backgroundColor:_e,outlineColor:_e,fill:_e,stroke:_e,borderColor:_e,borderTopColor:_e,borderRightColor:_e,borderBottomColor:_e,borderLeftColor:_e,filter:Nc,WebkitFilter:Nc},M0=e=>Sb[e];function O0(e,t){let n=M0(e);return n!==Nc&&(n=kn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const jb=new Set(["auto","none","0"]);function Nb(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!jb.has(i)&&oi(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=O0(n,s)}class Tb extends sd{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Qu(c))){const d=C0(c,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!P0.has(r)||t.length!==2)return;const[s,i]=t,o=sf(s),a=sf(i);if(o!==a)if(ef(o)&&ef(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Hn[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||xb(t[s]))&&r.push(s);r.length&&Nb(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hn[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Hn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Eb(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const L0=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function I0(e){return Yg(e)&&"offsetHeight"in e}const af=30,Cb=e=>!isNaN(parseFloat(e));class Pb{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=Je.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Je.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Cb(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new qu);const r=this.events[t].add(n);return t==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Je.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>af)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,af);return e0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fr(e,t){return new Pb(e,t)}const{schedule:ad,cancel:pT}=d0(queueMicrotask,!1),wt={x:!1,y:!1};function D0(){return wt.x||wt.y}function Ab(e){return e==="x"||e==="y"?wt[e]?null:(wt[e]=!0,()=>{wt[e]=!1}):wt.x||wt.y?null:(wt.x=wt.y=!0,()=>{wt.x=wt.y=!1})}function $0(e,t){const n=Eb(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function lf(e){return!(e.pointerType==="touch"||D0())}function Rb(e,t,n={}){const[r,s,i]=$0(e,n),o=a=>{if(!lf(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const d=h=>{lf(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const V0=(e,t)=>t?e===t?!0:V0(e,t.parentElement):!1,ld=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Mb=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ob(e){return Mb.has(e.tagName)||e.tabIndex!==-1}const fo=new WeakSet;function cf(e){return t=>{t.key==="Enter"&&e(t)}}function il(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Lb=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=cf(()=>{if(fo.has(n))return;il(n,"down");const s=cf(()=>{il(n,"up")}),i=()=>il(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function uf(e){return ld(e)&&!D0()}function Ib(e,t,n={}){const[r,s,i]=$0(e,n),o=a=>{const l=a.currentTarget;if(!uf(a))return;fo.add(l);const c=t(l,a),d=(g,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),fo.has(l)&&fo.delete(l),uf(g)&&typeof c=="function"&&c(g,{success:x})},h=g=>{d(g,l===window||l===document||n.useGlobalTarget||V0(l,g.target))},f=g=>{d(g,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),I0(a)&&(a.addEventListener("focus",c=>Lb(c,s)),!Ob(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function U0(e){return Yg(e)&&"ownerSVGElement"in e}function Db(e){return U0(e)&&e.tagName==="svg"}const $e=e=>!!(e&&e.getVelocity),$b=[...R0,_e,kn],Vb=e=>$b.find(A0(e)),cd=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Ub extends _.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=I0(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Fb({children:e,isPresent:t,anchorX:n,root:r}){const s=_.useId(),i=_.useRef(null),o=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=_.useContext(cd);return _.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:h,right:f}=o.current;if(t||!i.current||!l||!c)return;const g=n==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=s;const x=document.createElement("style");a&&(x.nonce=a);const w=r??document.head;return w.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${g}px !important;
            top: ${d}px !important;
          }
        `),()=>{w.removeChild(x),w.contains(x)&&w.removeChild(x)}},[t]),u.jsx(Ub,{isPresent:t,childRef:i,sizeRef:o,children:_.cloneElement(e,{ref:i})})}const zb=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=Fu(Bb),d=_.useId();let h=!0,f=_.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:g=>{c.set(g,!0);for(const x of c.values())if(!x)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[n,c,r]);return i&&h&&(f={...f}),_.useMemo(()=>{c.forEach((g,x)=>c.set(x,!1))},[n]),_.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(e=u.jsx(Fb,{isPresent:n,anchorX:a,root:l,children:e})),u.jsx(ma.Provider,{value:f,children:e})};function Bb(){return new Map}function F0(e=!0){const t=_.useContext(ma);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=_.useId();_.useEffect(()=>{if(e)return s(i)},[e]);const o=_.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Bi=e=>e.key||"";function df(e){const t=[];return _.Children.forEach(e,n=>{_.isValidElement(n)&&t.push(n)}),t}const Wb=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,d]=F0(o),h=_.useMemo(()=>df(e),[e]),f=o&&!c?[]:h.map(Bi),g=_.useRef(!0),x=_.useRef(h),w=Fu(()=>new Map),[k,y]=_.useState(h),[m,p]=_.useState(h);Qg(()=>{g.current=!1,x.current=h;for(let j=0;j<m.length;j++){const N=Bi(m[j]);f.includes(N)?w.delete(N):w.get(N)!==!0&&w.set(N,!1)}},[m,f.length,f.join("-")]);const b=[];if(h!==k){let j=[...h];for(let N=0;N<m.length;N++){const v=m[N],C=Bi(v);f.includes(C)||(j.splice(N,0,v),b.push(v))}return i==="wait"&&b.length&&(j=b),p(df(j)),y(h),null}const{forceRender:S}=_.useContext(Uu);return u.jsx(u.Fragment,{children:m.map(j=>{const N=Bi(j),v=o&&!c?!1:h===m||f.includes(N),C=()=>{if(w.has(N))w.set(N,!0);else return;let A=!0;w.forEach(D=>{D||(A=!1)}),A&&(S==null||S(),p(x.current),o&&(d==null||d()),r&&r())};return u.jsx(zb,{isPresent:v,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:v?void 0:C,anchorX:a,children:j},N)})})},z0=_.createContext({strict:!1}),hf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zr={};for(const e in hf)zr[e]={isEnabled:t=>hf[e].some(n=>!!t[n])};function Hb(e){for(const t in e)zr[t]={...zr[t],...e[t]}}const qb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||qb.has(e)}let B0=e=>!qo(e);function Kb(e){typeof e=="function"&&(B0=t=>t.startsWith("on")?!qo(t):e(t))}try{Kb(require("@emotion/is-prop-valid").default)}catch{}function Gb(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(B0(s)||n===!0&&qo(s)||!t&&!qo(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const pa=_.createContext({});function ga(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ai(e){return typeof e=="string"||Array.isArray(e)}const ud=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dd=["initial",...ud];function ya(e){return ga(e.animate)||dd.some(t=>ai(e[t]))}function W0(e){return!!(ya(e)||e.variants)}function Jb(e,t){if(ya(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ai(n)?n:void 0,animate:ai(r)?r:void 0}}return e.inherit!==!1?t:{}}function Qb(e){const{initial:t,animate:n}=Jb(e,_.useContext(pa));return _.useMemo(()=>({initial:t,animate:n}),[ff(t),ff(n)])}function ff(e){return Array.isArray(e)?e.join(" "):e}const li={};function Xb(e){for(const t in e)li[t]=e[t],Ju(t)&&(li[t].isCSSVariable=!0)}function H0(e,{layout:t,layoutId:n}){return Jr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!li[e]||e==="opacity")}const Yb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Zb=Gr.length;function e_(e,t,n){let r="",s=!0;for(let i=0;i<Zb;i++){const o=Gr[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=L0(a,od[o]);if(!l){s=!1;const d=Yb[o]||o;r+=`${d}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function hd(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Jr.has(l)){o=!0;continue}else if(Ju(l)){s[l]=c;continue}else{const d=L0(c,od[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=e_(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const fd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function q0(e,t,n){for(const r in t)!$e(t[r])&&!H0(r,n)&&(e[r]=t[r])}function t_({transformTemplate:e},t){return _.useMemo(()=>{const n=fd();return hd(n,t,e),Object.assign({},n.vars,n.style)},[t])}function n_(e,t){const n=e.style||{},r={};return q0(r,n,e),Object.assign(r,t_(e,t)),r}function r_(e,t){const n={},r=n_(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const s_={offset:"stroke-dashoffset",array:"stroke-dasharray"},i_={offset:"strokeDashoffset",array:"strokeDasharray"};function o_(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?s_:i_;e[i.offset]=V.transform(-r);const o=V.transform(t),a=V.transform(n);e[i.array]=`${o} ${a}`}function K0(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(hd(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&o_(h,s,i,o,!1)}const G0=()=>({...fd(),attrs:{}}),J0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function a_(e,t,n,r){const s=_.useMemo(()=>{const i=G0();return K0(i,t,J0(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};q0(i,e.style,e),s.style={...i,...s.style}}return s}const l_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function md(e){return typeof e!="string"||e.includes("-")?!1:!!(l_.indexOf(e)>-1||/[A-Z]/u.test(e))}function c_(e,t,n,{latestValues:r},s,i=!1){const a=(md(e)?a_:r_)(t,r,s,e),l=Gb(t,typeof e=="string",i),c=e!==_.Fragment?{...l,...a,ref:n}:{},{children:d}=t,h=_.useMemo(()=>$e(d)?d.get():d,[d]);return _.createElement(e,{...c,children:h})}function mf(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function pd(e,t,n,r){if(typeof t=="function"){const[s,i]=mf(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=mf(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function mo(e){return $e(e)?e.get():e}function u_({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:d_(n,r,s,e),renderState:t()}}function d_(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=mo(i[f]);let{initial:o,animate:a}=e;const l=ya(e),c=W0(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!ga(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const x=pd(e,f[g]);if(x){const{transitionEnd:w,transition:k,...y}=x;for(const m in y){let p=y[m];if(Array.isArray(p)){const b=d?p.length-1:0;p=p[b]}p!==null&&(s[m]=p)}for(const m in w)s[m]=w[m]}}}return s}const Q0=e=>(t,n)=>{const r=_.useContext(pa),s=_.useContext(ma),i=()=>u_(e,t,r,s);return n?i():Fu(i)};function gd(e,t,n){var i;const{style:r}=e,s={};for(const o in r)($e(r[o])||t.style&&$e(t.style[o])||H0(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const h_=Q0({scrapeMotionValuesFromProps:gd,createRenderState:fd});function X0(e,t,n){const r=gd(e,t,n);for(const s in e)if($e(e[s])||$e(t[s])){const i=Gr.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const f_=Q0({scrapeMotionValuesFromProps:X0,createRenderState:G0}),m_=Symbol.for("motionComponentSymbol");function Sr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function p_(e,t,n){return _.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Sr(n)&&(n.current=r))},[t])}const yd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),g_="framerAppearId",Y0="data-"+yd(g_),Z0=_.createContext({});function y_(e,t,n,r,s){var w,k;const{visualElement:i}=_.useContext(pa),o=_.useContext(z0),a=_.useContext(ma),l=_.useContext(cd).reducedMotion,c=_.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=_.useContext(Z0);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&v_(c.current,n,s,h);const f=_.useRef(!1);_.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const g=n[Y0],x=_.useRef(!!g&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,g))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,g)));return Qg(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),_.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,g)}),x.current=!1))}),d}function v_(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ey(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Sr(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function ey(e){if(e)return e.options.allowProjection!==!1?e.projection:ey(e.parent)}function ol(e,{forwardMotionProps:t=!1}={},n,r){n&&Hb(n);const s=md(e)?f_:h_;function i(a,l){let c;const d={..._.useContext(cd),...a,layoutId:x_(a)},{isStatic:h}=d,f=Qb(a),g=s(a,h);if(!h&&zu){w_();const x=b_(d);c=x.MeasureLayout,f.visualElement=y_(e,g,d,r,x.ProjectionNode)}return u.jsxs(pa.Provider,{value:f,children:[c&&f.visualElement?u.jsx(c,{visualElement:f.visualElement,...d}):null,c_(e,a,p_(g,f.visualElement,l),g,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=_.forwardRef(i);return o[m_]=e,o}function x_({layoutId:e}){const t=_.useContext(Uu).id;return t&&e!==void 0?t+"-"+e:e}function w_(e,t){_.useContext(z0).strict}function b_(e){const{drag:t,layout:n}=zr;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function __(e,t){if(typeof Proxy>"u")return ol;const n=new Map,r=(i,o)=>ol(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,ol(o,void 0,e,t)),n.get(o))})}function ty({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function k_({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function S_(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function al(e){return e===void 0||e===1}function Tc({scale:e,scaleX:t,scaleY:n}){return!al(e)||!al(t)||!al(n)}function Ln(e){return Tc(e)||ny(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ny(e){return pf(e.x)||pf(e.y)}function pf(e){return e&&e!=="0%"}function Ko(e,t,n){const r=e-n,s=t*r;return n+s}function gf(e,t,n,r,s){return s!==void 0&&(e=Ko(e,s,r)),Ko(e,n,r)+t}function Ec(e,t=0,n=1,r,s){e.min=gf(e.min,t,n,r,s),e.max=gf(e.max,t,n,r,s)}function ry(e,{x:t,y:n}){Ec(e.x,t.translate,t.scale,t.originPoint),Ec(e.y,n.translate,n.scale,n.originPoint)}const yf=.999999999999,vf=1.0000000000001;function j_(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Nr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,ry(e,o)),r&&Ln(i.latestValues)&&Nr(e,i.latestValues))}t.x<vf&&t.x>yf&&(t.x=1),t.y<vf&&t.y>yf&&(t.y=1)}function jr(e,t){e.min=e.min+t,e.max=e.max+t}function xf(e,t,n,r,s=.5){const i=de(e.min,e.max,s);Ec(e,t,n,i,r)}function Nr(e,t){xf(e.x,t.x,t.scaleX,t.scale,t.originX),xf(e.y,t.y,t.scaleY,t.scale,t.originY)}function sy(e,t){return ty(S_(e.getBoundingClientRect(),t))}function N_(e,t,n){const r=sy(e,n),{scroll:s}=t;return s&&(jr(r.x,s.offset.x),jr(r.y,s.offset.y)),r}const wf=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tr=()=>({x:wf(),y:wf()}),bf=()=>({min:0,max:0}),xe=()=>({x:bf(),y:bf()}),Cc={current:null},iy={current:!1};function T_(){if(iy.current=!0,!!zu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Cc.current=e.matches;e.addEventListener("change",t),t()}else Cc.current=!1}const E_=new WeakMap;function C_(e,t,n){for(const r in t){const s=t[r],i=n[r];if($e(s))e.addValue(r,s);else if($e(i))e.addValue(r,Fr(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Fr(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const _f=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class P_{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Je.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ae.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=ya(n),this.isVariantNode=W0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const g=h[f];l[f]!==void 0&&$e(g)&&g.set(l[f],!1)}}mount(t){this.current=t,E_.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),iy.current||T_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_n(this.notifyUpdate),_n(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Jr.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in zr){const n=zr[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<_f.length;r++){const s=_f[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=C_(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Fr(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Xg(r)||Zg(r))?r=parseFloat(r):!Vb(r)&&kn.test(n)&&(r=O0(t,n)),this.setBaseTarget(t,$e(r)?r.get():r)),$e(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=pd(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!$e(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new qu),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){ad.render(this.render)}}class oy extends P_{constructor(){super(...arguments),this.KeyframeResolver=Tb}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$e(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ay(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function A_(e){return window.getComputedStyle(e)}class R_ extends oy{constructor(){super(...arguments),this.type="html",this.renderInstance=ay}readValueFromInstance(t,n){var r;if(Jr.has(n))return(r=this.projection)!=null&&r.isProjecting?bc(n):q1(t,n);{const s=A_(t),i=(Ju(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return sy(t,n)}build(t,n,r){hd(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return gd(t,n,r)}}const ly=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function M_(e,t,n,r){ay(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(ly.has(s)?s:yd(s),t.attrs[s])}class O_ extends oy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Jr.has(n)){const r=M0(n);return r&&r.default||0}return n=ly.has(n)?n:yd(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return X0(t,n,r)}build(t,n,r){K0(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){M_(t,n,r,s)}mount(t){this.isSVGTag=J0(t.tagName),super.mount(t)}}const L_=(e,t)=>md(e)?new O_(t):new R_(t,{allowProjection:e!==_.Fragment});function ci(e,t,n){const r=e.getProps();return pd(r,t,n!==void 0?n:r.custom,e)}const Pc=e=>Array.isArray(e);function I_(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Fr(n))}function D_(e){return Pc(e)?e[e.length-1]||0:e}function $_(e,t){const n=ci(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=D_(i[o]);I_(e,o,a)}}function V_(e){return!!($e(e)&&e.add)}function Ac(e,t){const n=e.getValue("willChange");if(V_(n))return n.add(t);if(!n&&Xt.WillChange){const r=new Xt.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function cy(e){return e.props[Y0]}const U_=e=>e!==null;function F_(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(U_),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const z_={type:"spring",stiffness:500,damping:25,restSpeed:10},B_=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),W_={type:"keyframes",duration:.8},H_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},q_=(e,{keyframes:t})=>t.length>2?W_:Jr.has(e)?e.startsWith("scale")?B_(t[1]):z_:H_;function K_({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const vd=(e,t,n,r={},s,i)=>o=>{const a=id(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Mt(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};K_(a)||Object.assign(d,q_(e,d)),d.duration&&(d.duration=Mt(d.duration)),d.repeatDelay&&(d.repeatDelay=Mt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(Xt.instantAnimations||Xt.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&t.get()!==void 0){const f=F_(d.keyframes,a);if(f!==void 0){ae.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new rd(d):new pb(d)};function G_({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function uy(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const d in a){const h=e.getValue(d,e.latestValues[d]??null),f=a[d];if(f===void 0||c&&G_(c,d))continue;const g={delay:n,...id(i||{},d)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===x&&!g.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const y=cy(e);if(y){const m=window.MotionHandoffAnimation(y,d,ae);m!==null&&(g.startTime=m,w=!0)}}Ac(e,d),h.start(vd(d,h,f,e.shouldReduceMotion&&P0.has(d)?{type:!1}:g,e,w));const k=h.animation;k&&l.push(k)}return o&&Promise.all(l).then(()=>{ae.update(()=>{o&&$_(e,o)})}),l}function Rc(e,t,n={}){var l;const r=ci(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(uy(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return J_(e,t,c,d,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function J_(e,t,n=0,r=0,s=0,i=1,o){const a=[],l=e.variantChildren.size,c=(l-1)*s,d=typeof r=="function",h=d?f=>r(f,l):i===1?(f=0)=>f*s:(f=0)=>c-f*s;return Array.from(e.variantChildren).sort(Q_).forEach((f,g)=>{f.notify("AnimationStart",t),a.push(Rc(f,t,{...o,delay:n+(d?0:r)+h(g)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(a)}function Q_(e,t){return e.sortNodePosition(t)}function X_(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Rc(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Rc(e,t,n);else{const s=typeof t=="function"?ci(e,t,n.custom):t;r=Promise.all(uy(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function dy(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Y_=dd.length;function hy(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?hy(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Y_;n++){const r=dd[n],s=e.props[r];(ai(s)||s===!1)&&(t[r]=s)}return t}const Z_=[...ud].reverse(),ek=ud.length;function tk(e){return t=>Promise.all(t.map(({animation:n,options:r})=>X_(e,n,r)))}function nk(e){let t=tk(e),n=kf(),r=!0;const s=l=>(c,d)=>{var f;const h=ci(e,d,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:g,transitionEnd:x,...w}=h;c={...c,...w,...x}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,d=hy(e.parent)||{},h=[],f=new Set;let g={},x=1/0;for(let k=0;k<ek;k++){const y=Z_[k],m=n[y],p=c[y]!==void 0?c[y]:d[y],b=ai(p),S=y===l?m.isActive:null;S===!1&&(x=k);let j=p===d[y]&&p!==c[y]&&b;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),m.protectedKeys={...g},!m.isActive&&S===null||!p&&!m.prevProp||ga(p)||typeof p=="boolean")continue;const N=rk(m.prevProp,p);let v=N||y===l&&m.isActive&&!j&&b||k>x&&b,C=!1;const A=Array.isArray(p)?p:[p];let D=A.reduce(s(y),{});S===!1&&(D={});const{prevResolvedValues:Z={}}=m,ye={...Z,...D},ve=W=>{v=!0,f.has(W)&&(C=!0,f.delete(W)),m.needsAnimating[W]=!0;const E=e.getValue(W);E&&(E.liveStyle=!1)};for(const W in ye){const E=D[W],I=Z[W];if(g.hasOwnProperty(W))continue;let $=!1;Pc(E)&&Pc(I)?$=!dy(E,I):$=E!==I,$?E!=null?ve(W):f.add(W):E!==void 0&&f.has(W)?ve(W):m.protectedKeys[W]=!0}m.prevProp=p,m.prevResolvedValues=D,m.isActive&&(g={...g,...D}),r&&e.blockInitialAnimation&&(v=!1),v&&(!(j&&N)||C)&&h.push(...A.map(W=>({animation:W,options:{type:y}})))}if(f.size){const k={};if(typeof c.initial!="boolean"){const y=ci(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(k.transition=y.transition)}f.forEach(y=>{const m=e.getBaseTarget(y),p=e.getValue(y);p&&(p.liveStyle=!0),k[y]=m??null}),h.push({animation:k})}let w=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var g;return(g=f.animationState)==null?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=kf(),r=!0}}}function rk(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!dy(t,e):!1}function Pn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kf(){return{animate:Pn(!0),whileInView:Pn(),whileHover:Pn(),whileTap:Pn(),whileDrag:Pn(),whileFocus:Pn(),exit:Pn()}}class Tn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class sk extends Tn{constructor(t){super(t),t.animationState||(t.animationState=nk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ga(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let ik=0;class ok extends Tn{constructor(){super(...arguments),this.id=ik++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ak={animation:{Feature:sk},exit:{Feature:ok}};function ui(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function wi(e){return{point:{x:e.pageX,y:e.pageY}}}const lk=e=>t=>ld(t)&&e(t,wi(t));function Rs(e,t,n,r){return ui(e,t,lk(n),r)}const fy=1e-4,ck=1-fy,uk=1+fy,my=.01,dk=0-my,hk=0+my;function Fe(e){return e.max-e.min}function fk(e,t,n){return Math.abs(e-t)<=n}function Sf(e,t,n,r=.5){e.origin=r,e.originPoint=de(t.min,t.max,e.origin),e.scale=Fe(n)/Fe(t),e.translate=de(n.min,n.max,e.origin)-e.originPoint,(e.scale>=ck&&e.scale<=uk||isNaN(e.scale))&&(e.scale=1),(e.translate>=dk&&e.translate<=hk||isNaN(e.translate))&&(e.translate=0)}function Ms(e,t,n,r){Sf(e.x,t.x,n.x,r?r.originX:void 0),Sf(e.y,t.y,n.y,r?r.originY:void 0)}function jf(e,t,n){e.min=n.min+t.min,e.max=e.min+Fe(t)}function mk(e,t,n){jf(e.x,t.x,n.x),jf(e.y,t.y,n.y)}function Nf(e,t,n){e.min=t.min-n.min,e.max=e.min+Fe(t)}function Os(e,t,n){Nf(e.x,t.x,n.x),Nf(e.y,t.y,n.y)}function lt(e){return[e("x"),e("y")]}const py=({current:e})=>e?e.ownerDocument.defaultView:null,Tf=(e,t)=>Math.abs(e-t);function pk(e,t){const n=Tf(e.x,t.x),r=Tf(e.y,t.y);return Math.sqrt(n**2+r**2)}class gy{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=cl(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=pk(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:w}=f,{timestamp:k}=Ae;this.history.push({...w,timestamp:k});const{onStart:y,onMove:m}=this.handlers;g||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,f)},this.handlePointerMove=(f,g)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ll(g,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(f,g)=>{this.end();const{onEnd:x,onSessionEnd:w,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=cl(f.type==="pointercancel"?this.lastMoveEventInfo:ll(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,y),w&&w(f,y)},!ld(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=wi(t),l=ll(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=Ae;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,cl(l,this.history)),this.removeListeners=yi(Rs(this.contextWindow,"pointermove",this.handlePointerMove),Rs(this.contextWindow,"pointerup",this.handlePointerUp),Rs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),_n(this.updatePoint)}}function ll(e,t){return t?{point:t(e.point)}:e}function Ef(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cl({point:e},t){return{point:e,delta:Ef(e,yy(t)),offset:Ef(e,gk(t)),velocity:yk(t,.1)}}function gk(e){return e[0]}function yy(e){return e[e.length-1]}function yk(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=yy(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Mt(t)));)n--;if(!r)return{x:0,y:0};const i=Ot(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function vk(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?de(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?de(n,e,r.max):Math.min(e,n)),e}function Cf(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function xk(e,{top:t,left:n,bottom:r,right:s}){return{x:Cf(e.x,n,s),y:Cf(e.y,t,r)}}function Pf(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function wk(e,t){return{x:Pf(e.x,t.x),y:Pf(e.y,t.y)}}function bk(e,t){let n=.5;const r=Fe(e),s=Fe(t);return s>r?n=si(t.min,t.max-r,e.min):r>s&&(n=si(e.min,e.max-s,t.min)),Qt(0,1,n)}function _k(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Mc=.35;function kk(e=Mc){return e===!1?e=0:e===!0&&(e=Mc),{x:Af(e,"left","right"),y:Af(e,"top","bottom")}}function Af(e,t,n){return{min:Rf(e,t),max:Rf(e,n)}}function Rf(e,t){return typeof e=="number"?e:e[t]||0}const Sk=new WeakMap;class jk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wi(h).point)},o=(h,f)=>{const{drag:g,dragPropagation:x,onDragStart:w}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ab(g),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lt(y=>{let m=this.getAxisMotionValue(y).get()||0;if(Lt.test(m)){const{projection:p}=this.visualElement;if(p&&p.layout){const b=p.layout.layoutBox[y];b&&(m=Fe(b)*(parseFloat(m)/100))}}this.originPoint[y]=m}),w&&ae.postRender(()=>w(h,f)),Ac(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:w,onDrag:k}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:y}=f;if(x&&this.currentDirection===null){this.currentDirection=Nk(y),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),k&&k(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>lt(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new gy(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:py(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&ae.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Wi(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=vk(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Sr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=xk(r.layoutBox,t):this.constraints=!1,this.elastic=kk(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&lt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=_k(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Sr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=N_(r,s.root,this.visualElement.getTransformPagePoint());let o=wk(s.layout.layoutBox,i);if(n){const a=n(k_(o));this.hasMutatedConstraints=!!a,a&&(o=ty(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=lt(d=>{if(!Wi(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,x={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Ac(this.visualElement,t),r.start(vd(t,r,0,n,this.visualElement,!1))}stopAnimation(){lt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){lt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){lt(n=>{const{drag:r}=this.getProps();if(!Wi(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-de(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Sr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};lt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=bk({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),lt(o=>{if(!Wi(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(de(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;Sk.set(this.visualElement,this);const t=this.visualElement.current,n=Rs(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Sr(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ae.read(r);const o=ui(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(lt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Mc,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Wi(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Nk(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Tk extends Tn{constructor(t){super(t),this.removeGroupControls=ft,this.removeListeners=ft,this.controls=new jk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ft}unmount(){this.removeGroupControls(),this.removeListeners()}}const Mf=e=>(t,n)=>{e&&ae.postRender(()=>e(t,n))};class Ek extends Tn{constructor(){super(...arguments),this.removePointerDownListener=ft}onPointerDown(t){this.session=new gy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:py(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Mf(t),onStart:Mf(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ae.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Rs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const po={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Of(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ds={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(V.test(e))e=parseFloat(e);else return e;const n=Of(e,t.target.x),r=Of(e,t.target.y);return`${n}% ${r}%`}},Ck={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=kn.parse(e);if(s.length>5)return r;const i=kn.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=de(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let Lf=!1;class Pk extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;Xb(Ak),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Lf&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),po.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Lf=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ae.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ad.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vy(e){const[t,n]=F0(),r=_.useContext(Uu);return u.jsx(Pk,{...e,layoutGroup:r,switchLayoutGroup:_.useContext(Z0),isPresent:t,safeToRemove:n})}const Ak={borderRadius:{...ds,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ds,borderTopRightRadius:ds,borderBottomLeftRadius:ds,borderBottomRightRadius:ds,boxShadow:Ck};function Rk(e,t,n){const r=$e(e)?e:Fr(e);return r.start(vd("",r,t,n)),r.animation}const Mk=(e,t)=>e.depth-t.depth;class Ok{constructor(){this.children=[],this.isDirty=!1}add(t){Bu(this.children,t),this.isDirty=!0}remove(t){Wu(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Mk),this.isDirty=!1,this.children.forEach(t)}}function Lk(e,t){const n=Je.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(_n(r),e(i-t))};return ae.setup(r,!0),()=>_n(r)}const xy=["TopLeft","TopRight","BottomLeft","BottomRight"],Ik=xy.length,If=e=>typeof e=="string"?parseFloat(e):e,Df=e=>typeof e=="number"||V.test(e);function Dk(e,t,n,r,s,i){s?(e.opacity=de(0,n.opacity??1,$k(r)),e.opacityExit=de(t.opacity??1,0,Vk(r))):i&&(e.opacity=de(t.opacity??1,n.opacity??1,r));for(let o=0;o<Ik;o++){const a=`border${xy[o]}Radius`;let l=$f(t,a),c=$f(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Df(l)===Df(c)?(e[a]=Math.max(de(If(l),If(c),r),0),(Lt.test(c)||Lt.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=de(t.rotate||0,n.rotate||0,r))}function $f(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const $k=wy(0,.5,a0),Vk=wy(.5,.95,ft);function wy(e,t,n){return r=>r<e?0:r>t?1:n(si(e,t,r))}function Vf(e,t){e.min=t.min,e.max=t.max}function at(e,t){Vf(e.x,t.x),Vf(e.y,t.y)}function Uf(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ff(e,t,n,r,s){return e-=t,e=Ko(e,1/n,r),s!==void 0&&(e=Ko(e,1/s,r)),e}function Uk(e,t=0,n=1,r=.5,s,i=e,o=e){if(Lt.test(t)&&(t=parseFloat(t),t=de(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=de(i.min,i.max,r);e===i&&(a-=t),e.min=Ff(e.min,t,n,a,s),e.max=Ff(e.max,t,n,a,s)}function zf(e,t,[n,r,s],i,o){Uk(e,t[n],t[r],t[s],t.scale,i,o)}const Fk=["x","scaleX","originX"],zk=["y","scaleY","originY"];function Bf(e,t,n,r){zf(e.x,t,Fk,n?n.x:void 0,r?r.x:void 0),zf(e.y,t,zk,n?n.y:void 0,r?r.y:void 0)}function Wf(e){return e.translate===0&&e.scale===1}function by(e){return Wf(e.x)&&Wf(e.y)}function Hf(e,t){return e.min===t.min&&e.max===t.max}function Bk(e,t){return Hf(e.x,t.x)&&Hf(e.y,t.y)}function qf(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function _y(e,t){return qf(e.x,t.x)&&qf(e.y,t.y)}function Kf(e){return Fe(e.x)/Fe(e.y)}function Gf(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Wk{constructor(){this.members=[]}add(t){Bu(this.members,t),t.scheduleRender()}remove(t){if(Wu(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hk(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:g,skewY:x}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const ul=["","X","Y","Z"],qk=1e3;let Kk=0;function dl(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function ky(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=cy(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ae,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&ky(r)}function Sy({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Kk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Qk),this.nodes.forEach(eS),this.nodes.forEach(tS),this.nodes.forEach(Xk)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ok)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new qu),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=U0(o)&&!Db(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{h=window.innerWidth}),e(o,()=>{const g=window.innerWidth;g!==h&&(h=g,this.root.updateBlockedByResize=!0,d&&d(),d=Lk(f,250),po.hasAnimatedSinceResize&&(po.hasAnimatedSinceResize=!1,this.nodes.forEach(Xf)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||oS,{onLayoutAnimationStart:w,onLayoutAnimationComplete:k}=c.getProps(),y=!this.targetLayout||!_y(this.targetLayout,g),m=!h&&f;if(this.options.layoutRoot||this.resumeFrom||m||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const p={...id(x,"layout"),onPlay:w,onComplete:k};(c.shouldReduceMotion||this.options.layoutRoot)&&(p.delay=0,p.type=!1),this.startAnimation(p),this.setAnimationOrigin(d,m)}else h||Xf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_n(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nS),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ky(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jf);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Qf);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Zk),this.nodes.forEach(Gk),this.nodes.forEach(Jk)):this.nodes.forEach(Qf),this.clearAllSnapshots();const a=Je.now();Ae.delta=Qt(0,1e3/60,a-Ae.timestamp),Ae.timestamp=a,Ae.isProcessing=!0,el.update.process(Ae),el.preRender.process(Ae),el.render.process(Ae),Ae.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ad.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Yk),this.sharedNodes.forEach(rS)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fe(this.snapshot.measuredBox.x)&&!Fe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!by(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ln(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),aS(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return xe();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(lS))){const{scroll:d}=this.root;d&&(jr(a.x,d.offset.x),jr(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=xe();if(at(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&at(a,o),jr(a.x,h.offset.x),jr(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=xe();at(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Nr(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ln(d.latestValues)&&Nr(l,d.latestValues)}return Ln(this.latestValues)&&Nr(l,this.latestValues),l}removeTransform(o){const a=xe();at(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ln(c.latestValues))continue;Tc(c.latestValues)&&c.updateSnapshot();const d=xe(),h=c.measurePageBox();at(d,h),Bf(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ln(this.latestValues)&&Bf(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ae.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Ae.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xe(),this.relativeTargetOrigin=xe(),Os(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),at(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xe(),this.targetWithTransforms=xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):at(this.target,this.layout.layoutBox),ry(this.target,this.targetDelta)):at(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xe(),this.relativeTargetOrigin=xe(),Os(this.relativeTargetOrigin,this.target,g.target),at(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Tc(this.parent.latestValues)||ny(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ae.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;at(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;j_(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=xe());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Uf(this.prevProjectionDelta.x,this.projectionDelta.x),Uf(this.prevProjectionDelta.y,this.projectionDelta.y)),Ms(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Gf(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gf(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tr(),this.projectionDelta=Tr(),this.projectionDeltaWithTransform=Tr()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Tr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=xe(),g=l?l.source:void 0,x=this.layout?this.layout.source:void 0,w=g!==x,k=this.getStack(),y=!k||k.members.length<=1,m=!!(w&&!y&&this.options.crossfade===!0&&!this.path.some(iS));this.animationProgress=0;let p;this.mixTargetDelta=b=>{const S=b/1e3;Yf(h.x,o.x,S),Yf(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Os(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sS(this.relativeTarget,this.relativeTargetOrigin,f,S),p&&Bk(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=xe()),at(p,this.relativeTarget)),w&&(this.animationValues=d,Dk(d,c,this.latestValues,S,m,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(_n(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{po.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fr(0)),this.currentAnimation=Rk(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&jy(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||xe();const h=Fe(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Fe(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}at(a,l),Nr(a,d),Ms(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Wk),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&dl("z",o,c,this.animationValues);for(let d=0;d<ul.length;d++)dl(`rotate${ul[d]}`,o,c,this.animationValues),dl(`skew${ul[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=mo(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=mo(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ln(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=Hk(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:f,y:g}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in li){if(d[x]===void 0)continue;const{correct:w,applyTo:k,isCSSVariable:y}=li[x],m=h==="none"?d[x]:w(d[x],c);if(k){const p=k.length;for(let b=0;b<p;b++)o[k[b]]=m}else y?this.options.visualElement.renderState.vars[x]=m:o[x]=m}this.options.layoutId&&(o.pointerEvents=c===this?mo(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Jf),this.root.sharedNodes.clear()}}}function Gk(e){e.updateLayout()}function Jk(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?lt(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],g=Fe(f);f.min=r[h].min,f.max=f.min+g}):jy(i,t.layoutBox,r)&&lt(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],g=Fe(r[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const a=Tr();Ms(a,r,t.layoutBox);const l=Tr();o?Ms(l,e.applyTransform(s,!0),t.measuredBox):Ms(l,r,t.layoutBox);const c=!by(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const x=xe();Os(x,t.layoutBox,f.layoutBox);const w=xe();Os(w,r,g.layoutBox),_y(x,w)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Qk(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Xk(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Yk(e){e.clearSnapshot()}function Jf(e){e.clearMeasurements()}function Qf(e){e.isLayoutDirty=!1}function Zk(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Xf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function eS(e){e.resolveTargetDelta()}function tS(e){e.calcProjection()}function nS(e){e.resetSkewAndRotation()}function rS(e){e.removeLeadSnapshot()}function Yf(e,t,n){e.translate=de(t.translate,0,n),e.scale=de(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Zf(e,t,n,r){e.min=de(t.min,n.min,r),e.max=de(t.max,n.max,r)}function sS(e,t,n,r){Zf(e.x,t.x,n.x,r),Zf(e.y,t.y,n.y,r)}function iS(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const oS={duration:.45,ease:[.4,0,.1,1]},em=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),tm=em("applewebkit/")&&!em("chrome/")?Math.round:ft;function nm(e){e.min=tm(e.min),e.max=tm(e.max)}function aS(e){nm(e.x),nm(e.y)}function jy(e,t,n){return e==="position"||e==="preserve-aspect"&&!fk(Kf(t),Kf(n),.2)}function lS(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const cS=Sy({attachResizeListener:(e,t)=>ui(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hl={current:void 0},Ny=Sy({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!hl.current){const e=new cS({});e.mount(window),e.setOptions({layoutScroll:!0}),hl.current=e}return hl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),uS={pan:{Feature:Ek},drag:{Feature:Tk,ProjectionNode:Ny,MeasureLayout:vy}};function rm(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ae.postRender(()=>i(t,wi(t)))}class dS extends Tn{mount(){const{current:t}=this.node;t&&(this.unmount=Rb(t,(n,r)=>(rm(this.node,r,"Start"),s=>rm(this.node,s,"End"))))}unmount(){}}class hS extends Tn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yi(ui(this.node.current,"focus",()=>this.onFocus()),ui(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sm(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ae.postRender(()=>i(t,wi(t)))}class fS extends Tn{mount(){const{current:t}=this.node;t&&(this.unmount=Ib(t,(n,r)=>(sm(this.node,r,"Start"),(s,{success:i})=>sm(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Oc=new WeakMap,fl=new WeakMap,mS=e=>{const t=Oc.get(e.target);t&&t(e)},pS=e=>{e.forEach(mS)};function gS({root:e,...t}){const n=e||document;fl.has(n)||fl.set(n,{});const r=fl.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(pS,{root:e,...t})),r[s]}function yS(e,t,n){const r=gS(t);return Oc.set(e,n),r.observe(e),()=>{Oc.delete(e),r.unobserve(e)}}const vS={some:0,all:1};class xS extends Tn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:vS[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return yS(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(wS(t,n))&&this.startObserver()}unmount(){}}function wS({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const bS={inView:{Feature:xS},tap:{Feature:fS},focus:{Feature:hS},hover:{Feature:dS}},_S={layout:{ProjectionNode:Ny,MeasureLayout:vy}},kS={...ak,...bS,...uS,..._S},Ty=__(kS,L_);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),J=(e,t)=>{const n=_.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>_.createElement("svg",{ref:d,...SS,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${jS(e)}`,a].join(" "),...c},[...t.map(([h,f])=>_.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=J("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=J("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=J("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=J("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=J("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=J("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=J("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=J("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=J("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=J("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=J("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=J("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=J("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=J("MoveRight",[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=J("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=J("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=J("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=J("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=J("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=J("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=J("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function lm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function FS(...e){return t=>{let n=!1;const r=e.map(s=>{const i=lm(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():lm(e[s],null)}}}}function zS(e){const t=WS(e),n=_.forwardRef((r,s)=>{const{children:i,...o}=r,a=_.Children.toArray(i),l=a.find(qS);if(l){const c=l.props.children,d=a.map(h=>h===l?_.Children.count(c)>1?_.Children.only(null):_.isValidElement(c)?c.props.children:null:h);return u.jsx(t,{...o,ref:s,children:_.isValidElement(c)?_.cloneElement(c,void 0,d):null})}return u.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var BS=zS("Slot");function WS(e){const t=_.forwardRef((n,r)=>{const{children:s,...i}=n;if(_.isValidElement(s)){const o=GS(s),a=KS(i,s.props);return s.type!==_.Fragment&&(a.ref=r?FS(r,o):o),_.cloneElement(s,a)}return _.Children.count(s)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HS=Symbol("radix.slottable");function qS(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HS}function KS(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function GS(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ay(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ay(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ry(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ay(e))&&(r&&(r+=" "),r+=t);return r}const cm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,um=Ry,JS=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return um(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const f=cm(d)||cm(h);return s[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...g}=d;return Object.entries(g).every(x=>{let[w,k]=x;return Array.isArray(k)?k.includes({...i,...a}[w]):{...i,...a}[w]===k})?[...c,h,f]:c},[]);return um(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},bd="-",QS=e=>{const t=YS(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(bd);return a[0]===""&&a.length!==1&&a.shift(),My(a,t)||XS(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},My=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?My(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(bd);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},dm=/^\[(.+)\]$/,XS=e=>{if(dm.test(e)){const t=dm.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},YS=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)Lc(n[s],r,s,t);return r},Lc=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:hm(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(ZS(s)){Lc(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Lc(o,hm(t,i),n,r)})})},hm=(e,t)=>{let n=e;return t.split(bd).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ZS=e=>e.isThemeGetter,ej=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Ic="!",Dc=":",tj=Dc.length,nj=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const i=[];let o=0,a=0,l=0,c;for(let x=0;x<s.length;x++){let w=s[x];if(o===0&&a===0){if(w===Dc){i.push(s.slice(l,x)),l=x+tj;continue}if(w==="/"){c=x;continue}}w==="["?o++:w==="]"?o--:w==="("?a++:w===")"&&a--}const d=i.length===0?s:s.substring(l),h=rj(d),f=h!==d,g=c&&c>l?c-l:void 0;return{modifiers:i,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}};if(t){const s=t+Dc,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},rj=e=>e.endsWith(Ic)?e.substring(0,e.length-1):e.startsWith(Ic)?e.substring(1):e,sj=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||t[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},ij=e=>({cache:ej(e.cacheSize),parseClassName:nj(e),sortModifiers:sj(e),...QS(e)}),oj=/\s+/,aj=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],a=e.trim().split(oj);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{isExternal:h,modifiers:f,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:w}=n(d);if(h){l=d+(l.length>0?" "+l:l);continue}let k=!!w,y=r(k?x.substring(0,w):x);if(!y){if(!k){l=d+(l.length>0?" "+l:l);continue}if(y=r(x),!y){l=d+(l.length>0?" "+l:l);continue}k=!1}const m=i(f).join(":"),p=g?m+Ic:m,b=p+y;if(o.includes(b))continue;o.push(b);const S=s(y,k);for(let j=0;j<S.length;++j){const N=S[j];o.push(p+N)}l=d+(l.length>0?" "+l:l)}return l};function lj(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Oy(t))&&(r&&(r+=" "),r+=n);return r}const Oy=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Oy(e[r]))&&(n&&(n+=" "),n+=t);return n};function cj(e,...t){let n,r,s,i=o;function o(l){const c=t.reduce((d,h)=>h(d),e());return n=ij(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=aj(l,n);return s(l,d),d}return function(){return i(lj.apply(null,arguments))}}const Se=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Ly=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Iy=/^\((?:(\w[\w-]*):)?(.+)\)$/i,uj=/^\d+\/\d+$/,dj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ir=e=>uj.test(e),F=e=>!!e&&!Number.isNaN(Number(e)),en=e=>!!e&&Number.isInteger(Number(e)),pl=e=>e.endsWith("%")&&F(e.slice(0,-1)),Dt=e=>dj.test(e),gj=()=>!0,yj=e=>hj.test(e)&&!fj.test(e),Dy=()=>!1,vj=e=>mj.test(e),xj=e=>pj.test(e),wj=e=>!O(e)&&!L(e),bj=e=>Xr(e,Uy,Dy),O=e=>Ly.test(e),An=e=>Xr(e,Fy,yj),gl=e=>Xr(e,Nj,F),fm=e=>Xr(e,$y,Dy),_j=e=>Xr(e,Vy,xj),qi=e=>Xr(e,zy,vj),L=e=>Iy.test(e),hs=e=>Yr(e,Fy),kj=e=>Yr(e,Tj),mm=e=>Yr(e,$y),Sj=e=>Yr(e,Uy),jj=e=>Yr(e,Vy),Ki=e=>Yr(e,zy,!0),Xr=(e,t,n)=>{const r=Ly.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Yr=(e,t,n=!1)=>{const r=Iy.exec(e);return r?r[1]?t(r[1]):n:!1},$y=e=>e==="position"||e==="percentage",Vy=e=>e==="image"||e==="url",Uy=e=>e==="length"||e==="size"||e==="bg-size",Fy=e=>e==="length",Nj=e=>e==="number",Tj=e=>e==="family-name",zy=e=>e==="shadow",Ej=()=>{const e=Se("color"),t=Se("font"),n=Se("text"),r=Se("font-weight"),s=Se("tracking"),i=Se("leading"),o=Se("breakpoint"),a=Se("container"),l=Se("spacing"),c=Se("radius"),d=Se("shadow"),h=Se("inset-shadow"),f=Se("text-shadow"),g=Se("drop-shadow"),x=Se("blur"),w=Se("perspective"),k=Se("aspect"),y=Se("ease"),m=Se("animate"),p=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...b(),L,O],j=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],v=()=>[L,O,l],C=()=>[ir,"full","auto",...v()],A=()=>[en,"none","subgrid",L,O],D=()=>["auto",{span:["full",en,L,O]},en,L,O],Z=()=>[en,"auto",L,O],ye=()=>["auto","min","max","fr",L,O],ve=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],be=()=>["start","end","center","stretch","center-safe","end-safe"],me=()=>["auto",...v()],W=()=>[ir,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],E=()=>[e,L,O],I=()=>[...b(),mm,fm,{position:[L,O]}],$=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",Sj,bj,{size:[L,O]}],ne=()=>[pl,hs,An],le=()=>["","none","full",c,L,O],ce=()=>["",F,hs,An],ot=()=>["solid","dashed","dotted","double"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>[F,pl,mm,fm],ts=()=>["","none",x,L,O],Cn=()=>["none",F,L,O],nr=()=>["none",F,L,O],ns=()=>[F,L,O],rr=()=>[ir,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Dt],breakpoint:[Dt],color:[gj],container:[Dt],"drop-shadow":[Dt],ease:["in","out","in-out"],font:[wj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Dt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Dt],shadow:[Dt],spacing:["px",F],text:[Dt],"text-shadow":[Dt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ir,O,L,k]}],container:["container"],columns:[{columns:[F,O,L,a]}],"break-after":[{"break-after":p()}],"break-before":[{"break-before":p()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[en,"auto",L,O]}],basis:[{basis:[ir,"full","auto",a,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[F,ir,"auto","initial","none",O]}],grow:[{grow:["",F,L,O]}],shrink:[{shrink:["",F,L,O]}],order:[{order:[en,"first","last","none",L,O]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ye()}],"auto-rows":[{"auto-rows":ye()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:[...ve(),"normal"]}],"justify-items":[{"justify-items":[...be(),"normal"]}],"justify-self":[{"justify-self":["auto",...be()]}],"align-content":[{content:["normal",...ve()]}],"align-items":[{items:[...be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...be(),{baseline:["","last"]}]}],"place-content":[{"place-content":ve()}],"place-items":[{"place-items":[...be(),"baseline"]}],"place-self":[{"place-self":["auto",...be()]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:me()}],mx:[{mx:me()}],my:[{my:me()}],ms:[{ms:me()}],me:[{me:me()}],mt:[{mt:me()}],mr:[{mr:me()}],mb:[{mb:me()}],ml:[{ml:me()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[a,"screen",...W()]}],"min-w":[{"min-w":[a,"screen","none",...W()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",n,hs,An]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,L,gl]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",pl,O]}],"font-family":[{font:[kj,O,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,L,O]}],"line-clamp":[{"line-clamp":[F,"none",L,gl]}],leading:[{leading:[i,...v()]}],"list-image":[{"list-image":["none",L,O]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",L,O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ot(),"wavy"]}],"text-decoration-thickness":[{decoration:[F,"from-font","auto",L,An]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[F,"auto",L,O]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",L,O]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",L,O]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:I()}],"bg-repeat":[{bg:$()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},en,L,O],radial:["",L,O],conic:[en,L,O]},jj,_j]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ot(),"hidden","none"]}],"divide-style":[{divide:[...ot(),"hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:[...ot(),"none","hidden"]}],"outline-offset":[{"outline-offset":[F,L,O]}],"outline-w":[{outline:["",F,hs,An]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",d,Ki,qi]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",h,Ki,qi]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[F,An]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",f,Ki,qi]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[F,L,O]}],"mix-blend":[{"mix-blend":[...ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[F]}],"mask-image-linear-from-pos":[{"mask-linear-from":X()}],"mask-image-linear-to-pos":[{"mask-linear-to":X()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":X()}],"mask-image-t-to-pos":[{"mask-t-to":X()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":X()}],"mask-image-r-to-pos":[{"mask-r-to":X()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":X()}],"mask-image-b-to-pos":[{"mask-b-to":X()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":X()}],"mask-image-l-to-pos":[{"mask-l-to":X()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":X()}],"mask-image-x-to-pos":[{"mask-x-to":X()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":X()}],"mask-image-y-to-pos":[{"mask-y-to":X()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[L,O]}],"mask-image-radial-from-pos":[{"mask-radial-from":X()}],"mask-image-radial-to-pos":[{"mask-radial-to":X()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[F]}],"mask-image-conic-from-pos":[{"mask-conic-from":X()}],"mask-image-conic-to-pos":[{"mask-conic-to":X()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:I()}],"mask-repeat":[{mask:$()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",L,O]}],filter:[{filter:["","none",L,O]}],blur:[{blur:ts()}],brightness:[{brightness:[F,L,O]}],contrast:[{contrast:[F,L,O]}],"drop-shadow":[{"drop-shadow":["","none",g,Ki,qi]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",F,L,O]}],"hue-rotate":[{"hue-rotate":[F,L,O]}],invert:[{invert:["",F,L,O]}],saturate:[{saturate:[F,L,O]}],sepia:[{sepia:["",F,L,O]}],"backdrop-filter":[{"backdrop-filter":["","none",L,O]}],"backdrop-blur":[{"backdrop-blur":ts()}],"backdrop-brightness":[{"backdrop-brightness":[F,L,O]}],"backdrop-contrast":[{"backdrop-contrast":[F,L,O]}],"backdrop-grayscale":[{"backdrop-grayscale":["",F,L,O]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[F,L,O]}],"backdrop-invert":[{"backdrop-invert":["",F,L,O]}],"backdrop-opacity":[{"backdrop-opacity":[F,L,O]}],"backdrop-saturate":[{"backdrop-saturate":[F,L,O]}],"backdrop-sepia":[{"backdrop-sepia":["",F,L,O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",L,O]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[F,"initial",L,O]}],ease:[{ease:["linear","initial",y,L,O]}],delay:[{delay:[F,L,O]}],animate:[{animate:["none",m,L,O]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,L,O]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:Cn()}],"rotate-x":[{"rotate-x":Cn()}],"rotate-y":[{"rotate-y":Cn()}],"rotate-z":[{"rotate-z":Cn()}],scale:[{scale:nr()}],"scale-x":[{"scale-x":nr()}],"scale-y":[{"scale-y":nr()}],"scale-z":[{"scale-z":nr()}],"scale-3d":["scale-3d"],skew:[{skew:ns()}],"skew-x":[{"skew-x":ns()}],"skew-y":[{"skew-y":ns()}],transform:[{transform:[L,O,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:rr()}],"translate-x":[{"translate-x":rr()}],"translate-y":[{"translate-y":rr()}],"translate-z":[{"translate-z":rr()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",L,O]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",L,O]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[F,hs,An,gl]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Cj=cj(Ej);function Pj(...e){return Cj(Ry(e))}const Aj=JS("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),go=_.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?BS:"button";return u.jsx(o,{className:Pj(Aj({variant:t,size:n,className:e})),ref:i,...s})});go.displayName="Button";function Rj({onLoginClick:e}){const[t,n]=_.useState(0),r=_.useMemo(()=>["trazable","medible","inteligente","eficaz","eficiente","sustentable"],[]),s=["text-red-500","text-green-500","text-yellow-500","text-blue-500","text-purple-500","text-pink-500","text-indigo-500","text-emerald-500","text-orange-500"],i=_.useMemo(()=>{const a=[...s];return r.map(()=>{const l=Math.floor(Math.random()*a.length);return a.splice(l,1)[0]||"text-blue-500"})},[r]);_.useEffect(()=>{const a=setTimeout(()=>{n(l=>(l+1)%r.length)},2500);return()=>clearTimeout(a)},[t,r.length]);const o=()=>{console.log("Login button clicked!"),e()};return u.jsx("div",{className:"w-full",children:u.jsx("div",{className:"container mx-auto",children:u.jsxs("div",{className:"flex gap-8 py-20 lg:py-40 items-center justify-center flex-col",children:[u.jsx("div",{children:u.jsxs(go,{variant:"secondary",size:"sm",className:"gap-4",children:["Lee nuestro artículo ",u.jsx(om,{className:"w-4 h-4"})]})}),u.jsxs("div",{className:"flex gap-4 flex-col",children:[u.jsxs("h1",{className:"text-5xl md:text-7xl max-w-2xl tracking-tighter text-center font-regular",children:[u.jsx("span",{className:"text-black-600",children:"La Red Hospitalaria es"}),u.jsxs("span",{className:"relative flex w-full justify-center overflow-hidden text-center md:pb-4 md:pt-1",children:[" ",r.map((a,l)=>u.jsx(Ty.span,{className:`absolute font-semibold ${i[l]}`,initial:{opacity:0,y:"-100"},transition:{type:"spring",stiffness:50},animate:t===l?{y:0,opacity:1}:{y:t>l?-150:150,opacity:0},children:a},l))]})]}),u.jsx("p",{className:"text-lg md:text-xl leading-relaxed tracking-tight text-muted-foreground max-w-2xl text-center",children:"Innovación Colaborativa para el Intercambio y Distribucipon Responsable de medicamentos en el Sistema de Salud Mexicano           "})]}),u.jsxs("div",{className:"flex flex-row gap-3",children:[u.jsxs(go,{size:"lg",className:"gap-4",variant:"outline",children:["¿Cómo Funciona? ",u.jsx(RS,{className:"w-4 h-4"})]}),u.jsxs(go,{size:"lg",className:"gap-4 bg-black text-white",onClick:o,children:["Inicia Sesión ",u.jsx(om,{className:"w-4 h-4"})]})]})]})})})}function Mj({onLoginClick:e}){return u.jsx("div",{className:"block",children:u.jsx(Rj,{onLoginClick:e})})}const Oj="modulepreload",Lj=function(e){return"/"+e},pm={},bi=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Lj(l),l in pm)return;pm[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Oj,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Ij=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>bi(async()=>{const{default:r}=await Promise.resolve().then(()=>Zr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class _d extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Dj extends _d{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gm extends _d{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ym extends _d{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $c;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($c||($c={}));var $j=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Vj{constructor(t,{headers:n={},customFetch:r,region:s=$c.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Ij(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return $j(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(w=>{throw new Dj(w)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new gm(h);if(!h.ok)throw new ym(h);let g=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield h.json():g==="application/octet-stream"?x=yield h.blob():g==="text/event-stream"?x=h:g==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof ym||s instanceof gm?s.context:void 0}}})}}var Ke={},kd={},xa={},_i={},wa={},ba={},Uj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Br=Uj();const Fj=Br.fetch,By=Br.fetch.bind(Br),Wy=Br.Headers,zj=Br.Request,Bj=Br.Response,Zr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Wy,Request:zj,Response:Bj,default:By,fetch:Fj},Symbol.toStringTag,{value:"Module"})),Wj=yv(Zr);var _a={};Object.defineProperty(_a,"__esModule",{value:!0});let Hj=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};_a.default=Hj;var Hy=mt&&mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ba,"__esModule",{value:!0});const qj=Hy(Wj),Kj=Hy(_a);let Gj=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=qj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{c=JSON.parse(w),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,g="OK")}catch{i.status===404&&w===""?(f=204,g="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,g="OK"),c&&this.shouldThrowOnError)throw new Kj.default(c)}return{error:c,data:d,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};ba.default=Gj;var Jj=mt&&mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wa,"__esModule",{value:!0});const Qj=Jj(ba);let Xj=class extends Qj.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};wa.default=Xj;var Yj=mt&&mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_i,"__esModule",{value:!0});const Zj=Yj(wa);let eN=class extends Zj.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};_i.default=eN;var tN=mt&&mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xa,"__esModule",{value:!0});const fs=tN(_i);let nN=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new fs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new fs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new fs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new fs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new fs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};xa.default=nN;var ka={},Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.version=void 0;Sa.version="0.0.0-automated";Object.defineProperty(ka,"__esModule",{value:!0});ka.DEFAULT_HEADERS=void 0;const rN=Sa;ka.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${rN.version}`};var qy=mt&&mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kd,"__esModule",{value:!0});const sN=qy(xa),iN=qy(_i),oN=ka;let aN=class Ky{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},oN.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new sN.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ky(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new iN.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};kd.default=aN;var es=mt&&mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.PostgrestError=Ke.PostgrestBuilder=Ke.PostgrestTransformBuilder=Ke.PostgrestFilterBuilder=Ke.PostgrestQueryBuilder=Ke.PostgrestClient=void 0;const Gy=es(kd);Ke.PostgrestClient=Gy.default;const Jy=es(xa);Ke.PostgrestQueryBuilder=Jy.default;const Qy=es(_i);Ke.PostgrestFilterBuilder=Qy.default;const Xy=es(wa);Ke.PostgrestTransformBuilder=Xy.default;const Yy=es(ba);Ke.PostgrestBuilder=Yy.default;const Zy=es(_a);Ke.PostgrestError=Zy.default;var lN=Ke.default={PostgrestClient:Gy.default,PostgrestQueryBuilder:Jy.default,PostgrestFilterBuilder:Qy.default,PostgrestTransformBuilder:Xy.default,PostgrestBuilder:Yy.default,PostgrestError:Zy.default};const{PostgrestClient:cN,PostgrestQueryBuilder:_T,PostgrestFilterBuilder:kT,PostgrestTransformBuilder:ST,PostgrestBuilder:jT,PostgrestError:NT}=lN;function uN(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const dN=uN(),hN="2.11.15",fN=`realtime-js/${hN}`,mN="1.0.0",ev=1e4,pN=1e3;var Ds;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ds||(Ds={}));var Ie;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ie||(Ie={}));var kt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(kt||(kt={}));var Vc;(function(e){e.websocket="websocket"})(Vc||(Vc={}));var Dn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Dn||(Dn={}));class gN{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class tv{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ee||(ee={}));const vm=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=yN(o,e,t,s),i),{})},yN=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?nv(i,o):Uc(o)},nv=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return bN(t,n)}switch(e){case ee.bool:return vN(t);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return xN(t);case ee.json:case ee.jsonb:return wN(t);case ee.timestamp:return _N(t);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return Uc(t);default:return Uc(t)}},Uc=e=>e,vN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},bN=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>nv(t,a))}return e},_N=e=>typeof e=="string"?e.replace(" ","T"):e,rv=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class yl{constructor(t,n,r={},s=ev){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(xm||(xm={}));class $s{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$s.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=$s.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=$s.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(k=>k.presence_ref),g=h.map(k=>k.presence_ref),x=d.filter(k=>g.indexOf(k.presence_ref)<0),w=h.filter(k=>f.indexOf(k.presence_ref)<0);x.length>0&&(a[c]=x),w.length>0&&(l[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(wm||(wm={}));var bm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(bm||(bm={}));var Ut;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ut||(Ut={}));class Sd{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new yl(this,kt.join,this.params,this.timeout),this.rejoinTimer=new tv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new $s(this),this.broadcastEndpointURL=rv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ie.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(Ut.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Ut.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Ut.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,x=[];for(let w=0;w<g;w++){const k=f[w],{filter:{event:y,schema:m,table:p,filter:b}}=k,S=d&&d[w];if(S&&S.event===y&&S.schema===m&&S.table===p&&S.filter===b)x.push(Object.assign(Object.assign({},k),{id:S.id}));else{this.unsubscribe(),this.state=Ie.errored,t==null||t(Ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Ut.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ie.errored,t==null||t(Ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ie.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new yl(this,kt.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new yl(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=kt;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,w,k;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((k=(w=g.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var x,w,k,y,m,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const b=g.id,S=(x=g.filter)===null||x===void 0?void 0:x.event;return b&&((w=n.ids)===null||w===void 0?void 0:w.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const b=(m=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:w,table:k,commit_timestamp:y,type:m,errors:p}=x;f=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:y,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(x))}g.callback(f,r)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Sd.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(kt.close,{},t)}_onError(t){this._on(kt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=vm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=vm(t.columns,t.old_record)),n}}const _m=()=>{},kN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class SN{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ev,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_m,this.ref=0,this.logger=_m,this.conn=null,this.sendBuffer=[],this.serializer=new gN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>bi(async()=>{const{default:l}=await Promise.resolve().then(()=>Zr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Vc.websocket}`,this.httpEndpoint=rv(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new tv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=dN),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mN}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ds.connecting:return Dn.Connecting;case Ds.open:return Dn.Open;case Ds.closing:return Dn.Closing;default:return Dn.Closed}}isConnected(){return this.connectionState()===Dn.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Sd(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:fN};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(kt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(pN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(kt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([kN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class jd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Te(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class jN extends jd{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Fc extends jd{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var NN=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const sv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>bi(async()=>{const{default:r}=await Promise.resolve().then(()=>Zr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},TN=()=>NN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bi(()=>Promise.resolve().then(()=>Zr),void 0)).Response:Response}),zc=e=>{if(Array.isArray(e))return e.map(n=>zc(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=zc(r)}),t};var er=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const vl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),EN=(e,t,n)=>er(void 0,void 0,void 0,function*(){const r=yield TN();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new jN(vl(s),e.status||500))}).catch(s=>{t(new Fc(vl(s),s))}):t(new Fc(vl(e),e))}),CN=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ki(e,t,n,r,s,i){return er(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,CN(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>EN(l,a,r))})})}function Jo(e,t,n,r){return er(this,void 0,void 0,function*(){return ki(e,"GET",t,n,r)})}function on(e,t,n,r,s){return er(this,void 0,void 0,function*(){return ki(e,"POST",t,r,s,n)})}function PN(e,t,n,r,s){return er(this,void 0,void 0,function*(){return ki(e,"PUT",t,r,s,n)})}function AN(e,t,n,r){return er(this,void 0,void 0,function*(){return ki(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function iv(e,t,n,r,s){return er(this,void 0,void 0,function*(){return ki(e,"DELETE",t,r,s,n)})}var He=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const RN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},km={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class MN{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=sv(s)}uploadOrUpdate(t,n,r,s){return He(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},km),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Te(i))return{data:null,error:i};throw i}})}upload(t,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return He(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:km.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Te(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return He(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield on(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new jd("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}})}update(t,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return He(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Te(s))return{data:null,error:s};throw s}})}copy(t,n,r){return He(this,void 0,void 0,function*(){try{return{data:{path:(yield on(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Te(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return He(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield on(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Te(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return He(this,void 0,void 0,function*(){try{const s=yield on(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Te(s))return{data:null,error:s};throw s}})}download(t,n){return He(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Jo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Te(a))return{data:null,error:a};throw a}})}info(t){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Jo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:zc(r),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}})}exists(t){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield AN(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Te(r)&&r instanceof Fc){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return He(this,void 0,void 0,function*(){try{return{data:yield iv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}list(t,n,r){return He(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},RN),n),{prefix:t||""});return{data:yield on(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Te(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const ON="2.7.1",LN={"X-Client-Info":`storage-js/${ON}`};var or=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class IN{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},LN),n),this.fetch=sv(r)}listBuckets(){return or(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Te(t))return{data:null,error:t};throw t}})}getBucket(t){return or(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return or(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return or(this,void 0,void 0,function*(){try{return{data:yield PN(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}})}emptyBucket(t){return or(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}deleteBucket(t){return or(this,void 0,void 0,function*(){try{return{data:yield iv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}}class DN extends IN{constructor(t,n={},r){super(t,n,r)}from(t){return new MN(this.url,this.headers,t,this.fetch)}}const $N="2.50.3";let ws="";typeof Deno<"u"?ws="deno":typeof document<"u"?ws="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ws="react-native":ws="node";const VN={"X-Client-Info":`supabase-js-${ws}/${$N}`},UN={headers:VN},FN={schema:"public"},zN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},BN={};var WN=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const HN=e=>{let t;return e?t=e:typeof fetch>"u"?t=By:t=fetch,(...n)=>t(...n)},qN=()=>typeof Headers>"u"?Wy:Headers,KN=(e,t,n)=>{const r=HN(n),s=qN();return(i,o)=>WN(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var GN=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function JN(e){return e.endsWith("/")?e:e+"/"}function QN(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>GN(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const ov="2.70.0",ur=30*1e3,Bc=3,xl=Bc*ur,XN="http://localhost:9999",YN="supabase.auth.token",ZN={"X-Client-Info":`gotrue-js/${ov}`},Wc="X-Supabase-Api-Version",av={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},e2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,t2=6e5;class Nd extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function U(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class n2 extends Nd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function r2(e){return U(e)&&e.name==="AuthApiError"}class lv extends Nd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class En extends Nd{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class nn extends En{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function s2(e){return U(e)&&e.name==="AuthSessionMissingError"}class Gi extends En{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ji extends En{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qi extends En{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function i2(e){return U(e)&&e.name==="AuthImplicitGrantRedirectError"}class Sm extends En{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hc extends En{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function wl(e){return U(e)&&e.name==="AuthRetryableFetchError"}class jm extends En{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Vs extends En{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nm=` 	
\r=`.split(""),o2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Nm.length;t+=1)e[Nm[t].charCodeAt(0)]=-2;for(let t=0;t<Qo.length;t+=1)e[Qo[t].charCodeAt(0)]=t;return e})();function Tm(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Qo[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Qo[r]),t.queuedBits-=6}}function cv(e,t,n){const r=o2[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Em(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{c2(o,r,n)};for(let o=0;o<e.length;o+=1)cv(e.charCodeAt(o),s,i);return t.join("")}function a2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function l2(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}a2(r,t)}}function c2(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function u2(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)cv(e.charCodeAt(s),n,r);return new Uint8Array(t)}function d2(e){const t=[];return l2(e,n=>t.push(n)),new Uint8Array(t)}function h2(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Tm(s,n,r)),Tm(null,n,r),t.join("")}function f2(e){return Math.round(Date.now()/1e3)+e}function m2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const xt=()=>typeof window<"u"&&typeof document<"u",Rn={tested:!1,writable:!1},Us=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rn.tested)return Rn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Rn.tested=!0,Rn.writable=!0}catch{Rn.tested=!0,Rn.writable=!1}return Rn.writable};function p2(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const uv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>bi(async()=>{const{default:r}=await Promise.resolve().then(()=>Zr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},g2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",dv=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Xi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yi=async(e,t)=>{await e.removeItem(t)};class ja{constructor(){this.promise=new ja.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ja.promiseConstructor=Promise;function bl(e){const t=e.split(".");if(t.length!==3)throw new Vs("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!e2.test(t[r]))throw new Vs("JWT not in base64url format");return{header:JSON.parse(Em(t[0])),payload:JSON.parse(Em(t[1])),signature:u2(t[2]),raw:{header:t[0],payload:t[1]}}}async function y2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function v2(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function x2(e){return("0"+e.toString(16)).substr(-2)}function w2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,x2).join("")}async function b2(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function _2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await b2(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ar(e,t,n=!1){const r=w2();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await dv(e,`${t}-code-verifier`,s);const i=await _2(r);return[i,r===i?"plain":"s256"]}const k2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function S2(e){const t=e.headers.get(Wc);if(!t||!t.match(k2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function j2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function N2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const T2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lr(e){if(!T2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var E2=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const In=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),C2=[502,503,504];async function Cm(e){var t;if(!g2(e))throw new Hc(In(e),0);if(C2.includes(e.status))throw new Hc(In(e),e.status);let n;try{n=await e.json()}catch(i){throw new lv(In(i),i)}let r;const s=S2(e);if(s&&s.getTime()>=av["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new jm(In(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new nn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new jm(In(n),e.status,n.weak_password.reasons);throw new n2(In(n),e.status||500,r)}const P2=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function z(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Wc]||(i[Wc]=av["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await A2(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function A2(e,t,n,r,s,i){const o=P2(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Hc(In(l),0)}if(a.ok||await Cm(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Cm(l)}}function $t(e){var t;let n=null;L2(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=f2(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Pm(e){const t=$t(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function cn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function R2(e){return{data:e,error:null}}function M2(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=E2(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function O2(e){return e}function L2(e){return e.access_token&&e.refresh_token&&e.expires_in}const _l=["global","local","others"];var I2=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class D2{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=uv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=_l[0]){if(_l.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_l.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:cn})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=I2(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:M2,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(U(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:cn})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:O2});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(x.split(";")[1].split("=")[1]);c[`${k}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(U(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){lr(t);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:cn})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){lr(t);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:cn})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){lr(t);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:cn})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){lr(t.userId);try{const{data:n,error:r}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(U(n))return{data:null,error:n};throw n}}async _deleteFactor(t){lr(t.userId),lr(t.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}}const $2={getItem:e=>Us()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Us()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Us()&&globalThis.localStorage.removeItem(e)}};function Am(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function V2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cr={debug:!!(globalThis&&Us()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class U2 extends hv{}async function F2(e,t,n){cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),cr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new U2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(cr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}V2();const z2={url:XN,storageKey:YN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ZN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Rm(e,t,n){return await n()}class di{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=di.nextInstanceID,di.nextInstanceID+=1,this.instanceID>0&&xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},z2),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new D2({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=uv(s.fetch),this.lock=s.lock||Rm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:xt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=F2:this.lock=Rm,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Us()?this.storage=$2:(this.memoryStorage={},this.storage=Am(this.memoryStorage)):(this.memoryStorage={},this.storage=Am(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ov}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=p2(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),xt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),i2(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return U(n)?{error:n}:{error:new lv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:$t}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await ar(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:x},xform:$t})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:$t})}else throw new Ji("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Pm})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Pm})}else throw new Ji("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Gi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,a,l,c,d,h,f,g;let x,w;if("message"in t)x=t.message,w=t.signature;else{const{chain:k,wallet:y,statement:m,options:p}=t;let b;if(xt())if(typeof y=="object")b=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))b=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const S=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const j=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let N;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")N=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)N=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)x=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),w=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const j=await b.signMessage(new TextEncoder().encode(x),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=j}}try{const{data:k,error:y}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:h2(w)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:$t});if(y)throw y;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Gi}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:y})}catch(k){if(U(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const n=await Xi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:$t});if(await Yi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Gi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(U(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:$t}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Gi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await ar(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ji("You must provide either an email or phone number.")}catch(a){if(U(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:$t});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ar(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:R2})}catch(i){if(U(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new nn;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(U(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await z(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await z(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ji("You must provide either an email or phone number and a type")}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Xi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<xl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:cn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nn}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:cn})})}catch(n){if(U(n))return s2(n)&&(await this._removeSession(),await Yi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new nn;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await ar(this.storage,this.storageKey));const{data:c,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:cn});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new nn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=bl(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(U(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new nn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!xt())throw new Qi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Sm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Sm("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Qi("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const g=f-d;g*1e3<=ur&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:w,error:k}=await this._getUser(i);if(k)throw k;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(U(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Xi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(r2(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Yi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=m2(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ar(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(U(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return xt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(U(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await v2(async s=>(s>0&&await y2(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$t})),(s,i)=>{const o=200*Math.pow(2,s);return i&&wl(i)&&Date.now()+o-r<ur})}catch(r){if(this._debug(n,"error",r),U(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),xt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Xi(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<xl;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${xl}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),wl(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ja;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new nn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),U(i)){const o={session:null,error:i};return wl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await dv(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Yi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ur);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/ur);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ur}ms, refresh threshold is ${Bc} ticks`),s<=Bc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof hv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ar(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(U(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(U(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=bl(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+t2>Date.now()))return r;const{data:s,error:i}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Vs("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new Vs("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};r=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=bl(r);if(j2(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const c=N2(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,d2(`${a}.${l}`)))throw new Vs("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}}di.nextInstanceID=0;const B2=di;class W2 extends B2{constructor(t){super(t)}}var H2=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class q2{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=JN(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:FN,realtime:BN,auth:Object.assign(Object.assign({},zN),{storageKey:c}),global:UN},h=QN(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=KN(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new cN(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Vj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new DN(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return H2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new W2({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new SN(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const K2=(e,t,n)=>new q2(e,t,n),yo="https://jgqhvugbaoowncaomswg.supabase.co",G2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpncWh2dWdiYW9vd25jYW9tc3dnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzMzkxMDAsImV4cCI6MjA2NjkxNTEwMH0.RI570ZIu6Vhh2UwGaNcjVw1AVTtOQF8xO5a2Fsz4S-E";if(!yo.startsWith("https://")||!yo.includes(".supabase.co"))throw console.error("❌ Invalid Supabase URL format:",yo),new Error("Invalid Supabase URL format. Should be https://your-project.supabase.co");const q=K2(yo,G2,{auth:{persistSession:!0,autoRefreshToken:!0},global:{headers:{"X-Client-Info":"medication-exchange-app"}}});q.from("hospitals").select("count").limit(1).then(({error:e})=>{e?console.error("❌ Supabase connection test failed:",e.message):console.log("✅ Supabase connection established successfully")}).catch(e=>{console.error("❌ Network error during Supabase connection test:",e.message)});const it=()=>{const[e,t]=_.useState(null),[n,r]=_.useState(!0);return _.useEffect(()=>{q.auth.getSession().then(({data:{session:l}})=>{t((l==null?void 0:l.user)??null),r(!1)});const{data:{subscription:a}}=q.auth.onAuthStateChange((l,c)=>{t((c==null?void 0:c.user)??null),r(!1)});return()=>a.unsubscribe()},[]),{user:e,loading:n,signUp:async(a,l)=>{const{data:c,error:d}=await q.auth.signUp({email:a,password:l});return{data:c,error:d}},signIn:async(a,l)=>{const{data:c,error:d}=await q.auth.signInWithPassword({email:a,password:l});return{data:c,error:d}},signOut:async()=>{const{error:a}=await q.auth.signOut();return{error:a}}}},yt=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),o=async()=>{try{r(!0);const{data:c,error:d}=await q.from("hospitals").select("*").eq("status","active").order("name");if(d)throw d;t(c||[])}catch(c){i(c instanceof Error?c.message:"Error fetching hospitals")}finally{r(!1)}};return _.useEffect(()=>{o()},[]),{hospitals:e,loading:n,error:s,createHospital:async c=>{try{const{data:d,error:h}=await q.from("hospitals").insert([c]).select().single();if(h)throw h;return await o(),{data:d,error:null}}catch(d){return{data:null,error:d instanceof Error?d.message:"Error creating hospital"}}},updateHospital:async(c,d)=>{try{const{data:h,error:f}=await q.from("hospitals").update(d).eq("id",c).select().single();if(f)throw f;return await o(),{data:h,error:null}}catch(h){return{data:null,error:h instanceof Error?h.message:"Error updating hospital"}}},refetch:o}},J2=({onSuccess:e})=>{const[t,n]=_.useState(!0),[r,s]=_.useState(""),[i,o]=_.useState(""),[a,l]=_.useState(!1),[c,d]=_.useState(null),{signIn:h,signUp:f}=it(),g=async x=>{x.preventDefault(),l(!0),d(null);try{const{error:w}=t?await h(r,i):await f(r,i);w?d(w.message):e()}catch{d("Ocurrió un error inesperado")}finally{l(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-teal-50 flex items-center justify-center p-4",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsx("img",{src:"/logos/LogoRETMI.png",alt:"RETMI Logo",className:"w-20 h-20 object-contain"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"RETMI"}),u.jsx("p",{className:"text-gray-600",children:t?"Red de Traspaso de Medicamentos e Insumos":"Crea tu cuenta hospitalaria"})]}),u.jsxs("form",{onSubmit:g,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrónico"}),u.jsxs("div",{className:"relative",children:[u.jsx(Py,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"email",value:r,onChange:x=>s(x.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"hospital@ejemplo.com",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña"}),u.jsxs("div",{className:"relative",children:[u.jsx(CS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"password",value:i,onChange:x=>o(x.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••",required:!0})]})]}),c&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:u.jsx("p",{className:"text-sm text-red-600",children:c})}),u.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Procesando...":t?"Iniciar Sesión":"Crear Cuenta"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{onClick:()=>n(!t),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:t?"¿No tienes cuenta? Regístrate":"¿Ya tienes cuenta? Inicia sesión"})}),!t&&u.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(wd,{className:"w-5 h-5 text-blue-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Registro Hospitalario"}),u.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Después del registro, podrás configurar la información de tu hospital y comenzar a intercambiar medicamentos con la red."})]})]})})]})})})},Na=()=>{const{user:e}=it(),[t,n]=_.useState([]),[r,s]=_.useState("default"),[i,o]=_.useState(0),a=async()=>{if("Notification"in window){const g=await Notification.requestPermission();return s(g),g==="granted"}return!1},l=_.useCallback(g=>{if(r==="granted"&&"Notification"in window){const x=new Notification(g.title,{body:g.message,icon:"/vite.svg",tag:g.id});x.onclick=()=>{window.focus(),x.close()}}},[r]),c=_.useCallback(g=>{n(x=>x.some(w=>w.id===g.id)?x:[g,...x.slice(0,19)]),o(Date.now()),l(g)},[l]),d=_.useCallback(()=>{e&&(n([]),o(Date.now()))},[]),h=_.useCallback(()=>{e&&(n(g=>{const x=g.map(w=>w.id);return localStorage.setItem("readNotificationIds",JSON.stringify(x)),g.map(w=>({...w,isRead:!0}))}),o(Date.now()))},[e]),f=_.useCallback(async()=>{if(e)try{const{data:g,error:x}=await q.from("notifications").select("*").order("created_at",{ascending:!1}).limit(10);if(x){console.error("Error refreshing notifications:",x);return}if(g){const w=JSON.parse(localStorage.getItem("readNotificationIds")||"[]"),k=g.map(y=>({id:y.id,type:y.type,title:y.title,message:y.message,hospitalName:y.hospital_name,medicationName:y.medication_name,urgency:y.urgency,timestamp:y.created_at,relatedId:y.related_id,isRead:w.includes(y.id)}));n(k),o(Date.now())}}catch(g){console.error("Network error refreshing notifications:",g)}},[e]);return _.useEffect(()=>{if(!e)return;"Notification"in window&&s(Notification.permission),f();const g=setInterval(f,3e4);return()=>{clearInterval(g)}},[e,f]),_.useEffect(()=>{if(!e)return;const g=q.channel("realtime:notifications");return g.on("postgres_changes",{event:"INSERT",schema:"public",table:"medication_requests"},x=>{const w=x.new;c({id:w.id,type:"request",title:"Nueva solicitud de medicamento",message:`${w.medication_name} solicitado por ${w.hospital_name}`,hospitalName:w.hospital_name,medicationName:w.medication_name,urgency:w.urgency,timestamp:w.created_at,relatedId:w.id,isRead:!1})}),g.on("postgres_changes",{event:"INSERT",schema:"public",table:"medication_offers"},x=>{const w=x.new;c({id:w.id,type:"offer",title:"Nuevo insumo disponible",message:`${w.medication_name} ofrecido por ${w.hospital_name}`,hospitalName:w.hospital_name,medicationName:w.medication_name,timestamp:w.created_at,relatedId:w.id,isRead:!1})}),g.subscribe(),()=>{q.removeChannel(g)}},[e,c]),{notifications:t,permission:r,lastUpdate:i,requestPermission:a,refreshNotifications:f,clearNotifications:d,markAsRead:h,unreadCount:t.filter(g=>!g.isRead).length}},Xo=[{primary:"bg-blue-600",secondary:"bg-blue-50",text:"text-blue-600",border:"border-blue-500",gradient:"from-blue-500 to-blue-600",hover:"hover:bg-blue-700",light:"bg-blue-100",dark:"bg-blue-800"},{primary:"bg-emerald-600",secondary:"bg-emerald-50",text:"text-emerald-600",border:"border-emerald-500",gradient:"from-emerald-500 to-emerald-600",hover:"hover:bg-emerald-700",light:"bg-emerald-100",dark:"bg-emerald-800"},{primary:"bg-purple-600",secondary:"bg-purple-50",text:"text-purple-600",border:"border-purple-500",gradient:"from-purple-500 to-purple-600",hover:"hover:bg-purple-700",light:"bg-purple-100",dark:"bg-purple-800"},{primary:"bg-orange-600",secondary:"bg-orange-50",text:"text-orange-600",border:"border-orange-500",gradient:"from-orange-500 to-orange-600",hover:"hover:bg-orange-700",light:"bg-orange-100",dark:"bg-orange-800"},{primary:"bg-teal-600",secondary:"bg-teal-50",text:"text-teal-600",border:"border-teal-500",gradient:"from-teal-500 to-teal-600",hover:"hover:bg-teal-700",light:"bg-teal-100",dark:"bg-teal-800"},{primary:"bg-rose-600",secondary:"bg-rose-50",text:"text-rose-600",border:"border-rose-500",gradient:"from-rose-500 to-rose-600",hover:"hover:bg-rose-700",light:"bg-rose-100",dark:"bg-rose-800"},{primary:"bg-indigo-600",secondary:"bg-indigo-50",text:"text-indigo-600",border:"border-indigo-500",gradient:"from-indigo-500 to-indigo-600",hover:"hover:bg-indigo-700",light:"bg-indigo-100",dark:"bg-indigo-800"},{primary:"bg-cyan-600",secondary:"bg-cyan-50",text:"text-cyan-600",border:"border-cyan-500",gradient:"from-cyan-500 to-cyan-600",hover:"hover:bg-cyan-700",light:"bg-cyan-100",dark:"bg-cyan-800"},{primary:"bg-amber-600",secondary:"bg-amber-50",text:"text-amber-600",border:"border-amber-500",gradient:"from-amber-500 to-amber-600",hover:"hover:bg-amber-700",light:"bg-amber-100",dark:"bg-amber-800"},{primary:"bg-pink-600",secondary:"bg-pink-50",text:"text-pink-600",border:"border-pink-500",gradient:"from-pink-500 to-pink-600",hover:"hover:bg-pink-700",light:"bg-pink-100",dark:"bg-pink-800"}],Q2=e=>{let t=0;for(let r=0;r<e.length;r++){const s=e.charCodeAt(r);t=(t<<5)-t+s,t=t&t}const n=Math.abs(t)%Xo.length;return Xo[n]},X2=e=>Xo[e%Xo.length],tr=e=>_.useMemo(()=>e?Q2(e):{primary:"bg-gray-600",secondary:"bg-gray-50",text:"text-gray-600",border:"border-gray-500",gradient:"from-gray-500 to-gray-600",hover:"hover:bg-gray-700",light:"bg-gray-100",dark:"bg-gray-800"},[e]),Mm=()=>{const{user:e}=it(),{hospitals:t}=yt(),{notifications:n,permission:r,lastUpdate:s,requestPermission:i,refreshNotifications:o,clearNotifications:a,markAsRead:l,unreadCount:c}=Na(),d=t.find(b=>b.user_id===(e==null?void 0:e.id)),h=tr(d==null?void 0:d.id),[f,g]=_.useState(!1),[x,w]=_.useState(!0);_.useEffect(()=>{console.log("🔄 NotificationCenter re-rendered, lastUpdate:",new Date(s).toLocaleTimeString())},[s]);const k=(b,S)=>b==="request"?S==="critical"?u.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center animate-pulse",children:u.jsx(Ls,{className:"w-4 h-4 text-white"})}):u.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:u.jsx(Go,{className:"w-4 h-4 text-white"})}):u.jsx("div",{className:"w-8 h-8 bg-teal-500 rounded-full flex items-center justify-center",children:u.jsx(Is,{className:"w-4 h-4 text-white"})}),y=b=>{const S=new Date,j=new Date(b),N=Math.floor((S.getTime()-j.getTime())/(1e3*60));return N<1?"Ahora mismo":N<60?`hace ${N}m`:N<1440?`hace ${Math.floor(N/60)}h`:`hace ${Math.floor(N/1440)}d`},m=b=>{switch(b){case"critical":return"bg-red-500 text-white animate-pulse";case"high":return"bg-orange-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";default:return"bg-gray-500 text-white"}},p=b=>{switch(b){case"critical":return"bg-red-50 border-l-4 border-red-500";case"high":return"bg-orange-50 border-l-4 border-orange-500";case"medium":return"bg-yellow-50 border-l-4 border-yellow-500";case"low":return"bg-green-50 border-l-4 border-green-500";default:return"bg-gray-50 border-l-4 border-gray-500"}};return u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>{g(!f),f||l()},className:`relative p-2 sm:p-3 rounded-full transition-all duration-300 transform hover:scale-110 border-2 border-white/30 ${c>0?`text-white bg-gradient-to-r ${h.gradient} shadow-lg animate-pulse`:"text-white/80 hover:text-white hover:bg-white/20"}`,children:[u.jsx(im,{className:`w-4 h-4 sm:w-5 sm:h-5 transition-transform duration-300 ${c>0?"animate-bounce":""}`}),c>0&&u.jsxs("div",{className:"absolute -top-1 -right-1 sm:-top-2 sm:-right-2 flex items-center justify-center",children:[u.jsx("span",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold animate-ping",children:c>99?"99+":c}),u.jsx("span",{className:"absolute w-5 h-5 sm:w-6 sm:h-6 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:c>99?"99+":c})]})]}),f&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>g(!1)}),u.jsxs("div",{className:"absolute right-0 mt-2 sm:mt-3 w-80 sm:w-96 bg-white rounded-xl shadow-2xl border border-gray-200 z-50 max-h-[28rem] sm:max-h-[32rem] overflow-hidden",children:[u.jsxs("div",{className:`p-3 sm:p-4 bg-gradient-to-r ${h.gradient} text-white`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-lg font-bold",children:"🔔 Centro de Notificaciones"}),c>0&&u.jsxs("p",{className:"text-xs sm:text-sm opacity-90",children:[c," notificación",c!==1?"es":""," nueva",c!==1?"s":""]})]}),u.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[u.jsx("button",{onClick:()=>w(!x),className:"p-1 rounded-full hover:bg-white/20 transition-colors hidden sm:block",title:x?"Silenciar sonidos":"Activar sonidos",children:x?u.jsx($S,{className:"w-3 h-3 sm:w-4 sm:h-4"}):u.jsx(VS,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),n.length>0&&u.jsx("button",{onClick:a,className:"text-xs sm:text-sm bg-white/20 hover:bg-white/30 px-2 py-1 rounded transition-colors",children:"Limpiar"})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 p-2 rounded-lg bg-green-500/20 border border-green-300/30",children:[u.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-xs font-medium text-green-200",children:"🌐 Sistema Global Activo"}),u.jsx("p",{className:"text-xs opacity-80 hidden sm:block",children:"Alertas instantáneas de TODOS los hospitales"})]})]})]}),u.jsx("div",{className:"max-h-64 sm:max-h-80 overflow-y-auto",children:n.length===0?u.jsxs("div",{className:"p-6 sm:p-8 text-center text-gray-500",children:[u.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(im,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-300"})}),u.jsx("p",{className:"font-medium text-gray-700",children:"No hay notificaciones"}),u.jsx("p",{className:"text-xs sm:text-sm mt-1",children:"Las notificaciones aparecen automáticamente cuando cualquier hospital envía solicitudes u ofertas"})]}):u.jsx("div",{className:"divide-y divide-gray-100",children:n.map((b,S)=>u.jsx("div",{className:`p-3 sm:p-4 transition-all duration-300 hover:bg-gray-50 ${p(b.urgency)} ${S===0?"animate-slideInRight":""}`,children:u.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[k(b.type,b.urgency),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-900 leading-tight",children:b.title}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-700 mt-1 leading-relaxed",children:b.message})]}),u.jsx("button",{onClick:()=>l(b.id),className:"text-gray-400 hover:text-red-500 ml-1 sm:ml-2 p-1 rounded-full hover:bg-red-50 transition-colors",title:"Descartar notificación",children:u.jsx(US,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),u.jsxs("div",{className:"flex items-center justify-between mt-3",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-2 space-y-1 sm:space-y-0",children:[u.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full truncate max-w-32 sm:max-w-none",children:["📍 ",b.hospitalName]}),u.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full truncate max-w-32 sm:max-w-none",children:["💊 ",b.medicationName]})]}),b.urgency&&u.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${m(b.urgency)}`,children:b.urgency==="critical"?"🚨 CRÍTICO":b.urgency==="high"?"⚠️ ALTO":b.urgency==="medium"?"📋 MEDIO":"📝 BAJO"})]}),u.jsxs("div",{className:"flex items-center justify-between mt-2",children:[u.jsxs("span",{className:"text-xs text-gray-500",children:["⏰ ",y(b.timestamp)]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[b.type==="request"&&u.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:[u.jsx("span",{className:"sm:hidden",children:"📋"}),u.jsx("span",{className:"hidden sm:inline",children:"📋 Solicitud"})]}),b.type==="offer"&&u.jsxs("span",{className:"text-xs bg-teal-100 text-teal-700 px-2 py-1 rounded-full",children:[u.jsx("span",{className:"sm:hidden",children:"💊"}),u.jsx("span",{className:"hidden sm:inline",children:"💊 Oferta"})]})]})]})]})]})},b.id))})}),u.jsx("div",{className:"p-2 sm:p-3 bg-gray-50 border-t border-gray-200",children:u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[u.jsxs("span",{children:["📊 Total: ",n.length]}),u.jsxs("span",{className:"hidden sm:inline",children:["🔄 ",new Date(s).toLocaleTimeString()]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),u.jsx("span",{className:"hidden sm:inline",children:"🌐 Global"})]})]})})]})]})]})},Y2=()=>{const{user:e,signOut:t}=it(),{hospitals:n}=yt();_.useState(!1);const r=n.find(o=>o.user_id===(e==null?void 0:e.id)),s=tr(r==null?void 0:r.id),i=async()=>{try{await t()}catch(o){console.error("Error signing out:",o)}};return u.jsx("header",{className:`${s.primary} shadow-lg border-b-4 ${s.border} fixed top-0 left-0 right-0 z-40`,children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"p-0.5 rounded-full bg-white/20 mr-3 flex items-center justify-center overflow-hidden ring-1 ring-white/30 backdrop-blur-sm",children:u.jsx("img",{src:"/logos/LogoRETMI_SFond.png",alt:"RETMI Logo",className:"w-8 h-8 sm:w-10 sm:h-10 object-contain"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg sm:text-xl font-bold text-white",children:"RETMI"}),r&&u.jsx("p",{className:"text-xs sm:text-sm text-white/90 font-medium hidden sm:block",children:r.name})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[u.jsx("div",{className:"flex sm:hidden items-center pr-2 mr-1",children:u.jsx("div",{className:"w-7 h-7 bg-white rounded-full overflow-hidden flex items-center justify-center",children:u.jsx("img",{src:`/logos/${(r==null?void 0:r.id)||"default"}.png`,alt:"Logo hospital",className:"w-full h-full object-contain",onError:o=>{o.currentTarget.src="/logos/default.png"}})})}),u.jsx("div",{className:"sm:hidden mr-1 pr-2 border-r border-white/30",children:u.jsx(Mm,{})}),u.jsxs("div",{className:"hidden sm:flex items-center space-x-3 border-r border-white/30 pr-4",children:[u.jsx("div",{className:"w-8 h-8 bg-white rounded-full overflow-hidden flex items-center justify-center",children:u.jsx("img",{src:`/logos/${(r==null?void 0:r.id)||"default"}.png`,alt:"Logo hospital",className:"w-full h-full object-contain"})}),u.jsx("div",{className:"text-sm",children:u.jsx("p",{className:"text-white/80",children:(r==null?void 0:r.name)||"Hospital General San Juan"})}),u.jsx("div",{className:"ml-1",children:u.jsx(Mm,{})})]}),u.jsxs("button",{onClick:i,className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-2 text-white/90 hover:text-white hover:bg-white/20 rounded-lg transition-colors",title:"Cerrar sesión",children:[u.jsx(PS,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Salir"})]})]})]})})})},Z2=()=>{const{user:e}=it(),{hospitals:t}=yt(),n=_.useMemo(()=>t.find(a=>a.user_id===(e==null?void 0:e.id))||null,[e,t]),[r,s]=_.useState({}),i=_.useCallback(async()=>{if(!(n!=null&&n.id))return;const{data:a,error:l}=await q.from("mensajes").select("id,sender_hospital_id").eq("recipient_hospital_id",n.id).is("read_at",null);if(l){console.error("refreshUnread error",l);return}const c={};(a||[]).forEach(d=>{c[d.sender_hospital_id]=(c[d.sender_hospital_id]||0)+1}),s(c)},[n==null?void 0:n.id]);return _.useEffect(()=>{i()},[i]),_.useEffect(()=>{const a=()=>{document.visibilityState==="visible"&&i()};return document.addEventListener("visibilitychange",a),window.addEventListener("focus",a),()=>{document.removeEventListener("visibilitychange",a),window.removeEventListener("focus",a)}},[i]),_.useEffect(()=>{if(!(n!=null&&n.id))return;const a=q.channel(`unread-${n.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"mensajes",filter:`recipient_hospital_id=eq.${n.id}`},l=>{const c=l.new;c.read_at==null&&s(d=>({...d,[c.sender_hospital_id]:(d[c.sender_hospital_id]||0)+1}))}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"mensajes",filter:`recipient_hospital_id=eq.${n.id}`},l=>{const c=l.old,d=l.new;(c==null?void 0:c.read_at)==null&&d.read_at!=null&&s(h=>{const f={...h},g=d.sender_hospital_id,x=Math.max(0,(f[g]||0)-1);return x===0?delete f[g]:f[g]=x,f})}).subscribe();return()=>{q.removeChannel(a)}},[n==null?void 0:n.id]),{totalUnread:Object.values(r).reduce((a,l)=>a+l,0),byHospital:r,refreshUnread:i}},eT=({activeTab:e,setActiveTab:t})=>{const{user:n}=it(),{hospitals:r}=yt(),[s,i]=_.useState(!1),{totalUnread:o}=Z2(),a=r.find(f=>f.user_id===(n==null?void 0:n.id)),l=tr(a==null?void 0:a.id),d=[{id:"dashboard",label:"Inicio",icon:ES},{id:"hospitales",label:"Hospitales",icon:wd},{id:"solicitudes",label:"Solicitudes",icon:Qr},{id:"insumos-disponibles",label:"Insumos Disponibles",icon:va},{id:"transferencias",label:"Transferencias",icon:xd},{id:"mensajes",label:"Mensajes",icon:xs}].filter(f=>f.id!=="transferencias"),h=f=>{t(f),i(!1)};return u.jsxs(u.Fragment,{children:[u.jsx("nav",{className:"hidden lg:block fixed left-0 top-14 sm:top-16 h-[calc(100vh-3.5rem)] sm:h-[calc(100vh-4rem)] w-64 bg-white shadow-lg border-r border-gray-200 z-40",children:u.jsx("div",{className:"p-4",children:u.jsx("div",{className:"space-y-2",children:d.map(f=>{const g=f.icon;return u.jsxs("button",{onClick:()=>h(f.id),className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${e===f.id?`${l.primary} text-white shadow-md transform scale-105`:"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[u.jsx(g,{className:"w-5 h-5 mr-3"}),f.label]},f.id)})})})}),u.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 safe-area-pb",children:u.jsx("div",{className:"flex items-center justify-around py-2",children:d.map(f=>{const g=f.icon,x=e===f.id;return u.jsxs("button",{onClick:()=>h(f.id),className:`flex flex-col items-center justify-center py-2 px-3 min-w-0 flex-1 transition-colors duration-200 ${x?`${l.text}`:"text-gray-500"}`,children:[u.jsxs("div",{className:"relative p-1 rounded-lg",children:[u.jsx(g,{className:`w-5 h-5 ${x?"animate-pulse":""}`}),f.id==="mensajes"&&o>0&&u.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-bold shadow",children:o>9?"9+":o})]}),u.jsx("span",{className:`text-xs mt-1 font-medium truncate max-w-full ${x?"font-semibold":""}`,children:f.label})]},f.id)})})})]})},fv=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),{refreshNotifications:o}=Na(),a=async()=>{try{r(!0);const{data:d,error:h}=await q.from("medication_requests").select(`
          *,
          hospitals (
            id,
            name,
            city,
            state,
            phone,
            email
          )
        `).eq("status","pending").order("created_at",{ascending:!1});if(h)throw h;t(d||[])}catch(d){i(d instanceof Error?d.message:"Error fetching medication requests")}finally{r(!1)}};return _.useEffect(()=>{a()},[]),{requests:e,loading:n,error:s,createRequest:async d=>{try{const{data:h,error:f}=await q.from("medication_requests").insert([d]).select().single();if(f)throw f;return o(),setTimeout(a,500),{data:h,error:null}}catch(h){return{data:null,error:h instanceof Error?h.message:"Error creating request"}}},updateRequest:async(d,h)=>{try{const{data:f,error:g}=await q.from("medication_requests").update(h).eq("id",d).select().single();if(g)throw g;return await a(),{data:f,error:null}}catch(f){return{data:null,error:f instanceof Error?f.message:"Error updating request"}}},refetch:a}},mv=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),o=async()=>{try{r(!0);const{data:c,error:d}=await q.from("medication_offers").select(`
          *,
          hospitals (
            id,
            name,
            city,
            state,
            phone,
            email
          )
        `).eq("status","available").order("created_at",{ascending:!1});if(d)throw d;t(c||[])}catch(c){i(c instanceof Error?c.message:"Error fetching medication offers")}finally{r(!1)}},a=async c=>{try{let d;const{data:h,error:f}=await q.from("medications").select("id").eq("name",c.medication_name).single();if(h)d=h.id;else{const{data:w,error:k}=await q.from("medications").insert([{name:c.medication_name,generic_name:c.generic_name||c.medication_name,dosage:c.dosage||"N/A",form:c.form||"tablet",manufacturer:c.manufacturer||"N/A",category:c.category||"other",requires_refrigeration:c.requires_refrigeration||!1,controlled_substance:c.controlled_substance||!1}]).select("id").single();if(k)throw k;d=w.id}const{data:g,error:x}=await q.from("medication_offers").insert([{hospital_id:c.hospital_id,medication_id:d,quantity_available:c.quantity_available,price_per_unit:c.price_per_unit,expiration_date:c.expiration_date,conditions:c.conditions,contact_person:c.contact_person,contact_phone:c.contact_phone,contact_email:c.contact_email,valid_until:c.valid_until,medication_name:c.medication_name}]).select().single();if(x)throw x;return setTimeout(o,500),{data:g,error:null}}catch(d){return{data:null,error:d instanceof Error?d.message:"Error creating offer"}}};return _.useEffect(()=>{o()},[]),{offers:e,loading:n,error:s,createOffer:a,updateOffer:async(c,d)=>{try{const{data:h,error:f}=await q.from("medication_offers").update(d).eq("id",c).select();if(f)throw f;return await o(),{data:h,error:null}}catch(h){return{data:null,error:h instanceof Error?h.message:"Error updating offer"}}},refetch:o}},Om=({onNavigate:e})=>{const{user:t}=it(),{hospitals:n}=yt(),{requests:r,loading:s}=fv(),{offers:i,loading:o}=mv(),a=n.find(p=>p.user_id===(t==null?void 0:t.id)),l=tr(a==null?void 0:a.id),c=r.length,d=i.length,h=r.filter(p=>p.urgency==="critical").length,f=r.filter(p=>p.urgency==="high").length,g=h+f,x=n.length,w=[...r.slice(0,3).map(p=>{var b;return{type:"request",message:`Nueva solicitud de ${p.medication_name||"medicamento"}`,hospital:((b=p.hospitals)==null?void 0:b.name)||"Hospital",time:new Date(p.created_at).toLocaleString(),urgent:p.urgency==="critical"||p.urgency==="high",id:p.id}}),...i.slice(0,3).map(p=>{var b;return{type:"offer",message:`Nueva oferta de ${p.medication_name||"medicamento"}`,hospital:((b=p.hospitals)==null?void 0:b.name)||"Hospital",time:new Date(p.created_at).toLocaleString(),urgent:!1,id:p.id}})].sort((p,b)=>new Date(b.time).getTime()-new Date(p.time).getTime()).slice(0,6),k=r.reduce((p,b)=>{const j=(b.medication_name??"").trim().toLocaleLowerCase()||"desconocido";return p[j]=(p[j]||0)+1,p},{}),y=Object.entries(k).sort(([,p],[,b])=>b-p).slice(0,5).map(([p,b])=>({name:p==="desconocido"?"Desconocido":p.charAt(0).toUpperCase()+p.slice(1),requests:b})),m=[{title:"Solicitudes Activas",value:c.toString(),change:"+"+Math.floor(c*.1),trend:"up",icon:Go,onClick:()=>e("solicitudes")},{title:"Insumos Disponibles",value:d.toString(),change:"+"+Math.floor(d*.15),trend:"up",icon:Is,onClick:()=>e("insumos-disponibles")},{title:"Hospitales Conectados",value:x.toString(),change:"+"+Math.floor(x*.05),trend:"up",icon:DS,onClick:()=>e("hospitales")},{title:"Solicitudes Urgentes",value:g.toString(),change:g>5?"+2":"-1",trend:g>5?"up":"down",icon:Ls,onClick:()=>e("solicitudes")}];return s||o?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:`${l.primary} rounded-lg p-4 sm:p-6 text-white`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold mb-2",children:["Bienvenido, ",(a==null?void 0:a.name)||"Hospital"]}),u.jsx("p",{className:"text-sm sm:text-base text-white/90",children:"Panel de control de la Red de Intercambio Hospitalario"})]}),u.jsxs("div",{className:"text-right hidden sm:block",children:[u.jsx("p",{className:"text-white/80 text-xs sm:text-sm",children:"Última actualización"}),u.jsx("p",{className:"font-semibold text-sm",children:new Date().toLocaleTimeString()})]})]})}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:m.map((p,b)=>{const S=p.icon;return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",onClick:p.onClick,children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:p.title}),u.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 mt-1",children:p.value})]}),u.jsx("div",{className:`p-3 rounded-full ${p.icon===Ls?"bg-orange-100":l.light}`,children:u.jsx(S,{className:`w-5 h-5 sm:w-6 sm:h-6 ${p.icon===Ls?"text-orange-600":l.text}`})})]}),u.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[p.trend==="up"?u.jsx(am,{className:"w-4 h-4 text-green-500 mr-1"}):u.jsx(LS,{className:"w-4 h-4 text-red-500 mr-1"}),u.jsx("span",{className:`text-sm font-medium ${p.trend==="up"?"text-green-600":"text-red-600"}`,children:p.change}),u.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1 hidden sm:inline",children:"vs último mes"})]}),u.jsx(Hi,{className:"w-4 h-4 text-gray-400 hidden sm:block"})]})]},b)})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 border border-gray-200",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Acciones Rápidas"})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("button",{onClick:()=>e("solicitudes"),className:`w-full flex items-center justify-between p-3 sm:p-4 ${l.light} ${l.text} rounded-lg hover:bg-opacity-80 transition-colors`,children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Qr,{className:"w-5 h-5 mr-3"}),u.jsx("span",{className:"text-sm sm:text-base font-medium",children:"Nueva Solicitud"})]}),u.jsx(Hi,{className:"w-4 h-4 hidden sm:block"})]}),u.jsxs("button",{onClick:()=>e("insumos-disponibles"),className:"w-full flex items-center justify-between p-3 sm:p-4 bg-teal-100 text-teal-700 rounded-lg hover:bg-teal-200 transition-colors",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(va,{className:"w-5 h-5 mr-3"}),u.jsx("span",{className:"text-sm sm:text-base font-medium",children:"Registrar Insumos"})]}),u.jsx(Hi,{className:"w-4 h-4 hidden sm:block"})]}),u.jsxs("button",{onClick:()=>e("transferencias"),className:"w-full flex items-center justify-between p-3 sm:p-4 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(xd,{className:"w-5 h-5 mr-3"}),u.jsx("span",{className:"text-sm sm:text-base font-medium",children:"Transferencias"})]}),u.jsx(Hi,{className:"w-4 h-4 hidden sm:block"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 border border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Medicamentos Más Solicitados"}),u.jsx("button",{onClick:()=>e("solicitudes"),className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700",children:"Ver todas"})]}),u.jsx("div",{className:"space-y-4",children:y.length>0?y.map((p,b)=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.name}),u.jsxs("p",{className:"text-xs text-gray-500",children:[p.requests," solicitudes"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${b===0?"bg-red-500":b===1?"bg-orange-500":b===2?"bg-yellow-500":"bg-green-500"}`}),u.jsx(am,{className:"w-4 h-4 text-green-500"})]})]},b)):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No hay solicitudes registradas"})})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 border border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Actividad Reciente"}),u.jsxs("div",{className:"flex space-x-2 text-xs sm:text-sm",children:[u.jsx("button",{onClick:()=>e("solicitudes"),className:"text-blue-600 hover:text-blue-700 hidden sm:inline",children:"Ver solicitudes"}),u.jsx("span",{className:"text-gray-300 hidden sm:inline",children:"|"}),u.jsx("button",{onClick:()=>e("insumos-disponibles"),className:"text-teal-600 hover:text-teal-700 hidden sm:inline",children:"Ver insumos"})]})]}),u.jsx("div",{className:"space-y-4",children:w.length>0?w.map((p,b)=>u.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[u.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${p.urgent?"bg-red-500 animate-pulse":p.type==="request"?"bg-blue-500":"bg-teal-500"}`}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 flex-1 mr-2",children:p.message}),u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${p.type==="request"?"bg-blue-100 text-blue-700":"bg-teal-100 text-teal-700"}`,children:p.type==="request"?"Sol.":"Oferta"})]}),u.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs",children:[u.jsx("p",{className:"text-xs text-gray-500",children:p.hospital}),u.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:p.time})]})]})]},`${p.type}-${p.id}`)):u.jsxs("div",{className:"text-center py-8",children:[u.jsx(Go,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),u.jsx("p",{className:"text-sm text-gray-500",children:"No hay actividad reciente"}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Las solicitudes y ofertas aparecerán aquí"})]})})]})]})},Lm=e=>{try{sessionStorage.setItem("messageDraft",e)}catch{}},tT=()=>{try{const e=sessionStorage.getItem("messageDraft")||"";return e&&sessionStorage.removeItem("messageDraft"),e}catch{return""}},Im=e=>{try{sessionStorage.setItem("messageTarget",e)}catch{}},nT=()=>{try{const e=sessionStorage.getItem("messageTarget");return e&&sessionStorage.removeItem("messageTarget"),e}catch{return null}},rT=({onNavigate:e})=>{const{user:t}=it(),{requests:n,loading:r,createRequest:s}=fv(),{hospitals:i}=yt(),{requestPermission:o,refreshNotifications:a}=Na(),l=i.find(v=>v.user_id===(t==null?void 0:t.id)),c=tr(l==null?void 0:l.id),[d,h]=_.useState(""),[f,g]=_.useState("all"),[x,w]=_.useState(!1),[k,y]=_.useState("cards"),[m,p]=_.useState({medicationName:"",genericName:"",dosage:"",quantity:0,urgency:"medium",dateNeeded:"",reason:"",contactPerson:"",contactPhone:""}),b=n.filter(v=>{var D;const C=(v.medication_name||"").toLowerCase().includes(d.toLowerCase())||(((D=v.hospitals)==null?void 0:D.name)||"").toLowerCase().includes(d.toLowerCase()),A=f==="all"||v.urgency===f;return C&&A}),S={low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"},j={low:"Baja",medium:"Media",high:"Alta",critical:"Crítica"},N=async v=>{if(v.preventDefault(),!(!l||!t))try{const{error:C}=await s({hospital_id:l.id,medication_name:m.medicationName,quantity_requested:m.quantity,urgency:m.urgency,reason:m.reason,contact_person:m.contactPerson,contact_phone:m.contactPhone,contact_email:t.email||"",date_needed:m.dateNeeded});C||(w(!1),p({medicationName:"",genericName:"",dosage:"",quantity:0,urgency:"medium",dateNeeded:"",reason:"",contactPerson:"",contactPhone:""}),await o(),setTimeout(a,1e3))}catch(C){console.error("Error creating request:",C)}};return r?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Solicitudes"}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("div",{className:"hidden sm:flex items-center bg-gray-100 rounded-lg p-1",children:[u.jsx("button",{onClick:()=>y("cards"),className:`p-2 rounded-md transition-colors ${k==="cards"?`${c.primary} text-white`:"text-gray-600 hover:text-gray-900"}`,title:"Vista de tarjetas",children:u.jsx(Ey,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>y("table"),className:`p-2 rounded-md transition-colors ${k==="table"?`${c.primary} text-white`:"text-gray-600 hover:text-gray-900"}`,title:"Vista de tabla",children:u.jsx(Cy,{className:"w-4 h-4"})})]}),u.jsxs("button",{onClick:()=>w(!0),className:`${c.primary} text-white px-4 py-2 rounded-lg ${c.hover} transition-colors flex items-center space-x-2`,children:[u.jsx(va,{className:"w-4 h-4"}),u.jsx("span",{children:"Nueva Solicitud"})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Qr,{className:"absolute left-2 sm:left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),u.jsx("input",{type:"text",placeholder:"Buscar medicamentos o hospitales...",value:d,onChange:v=>h(v.target.value),className:`w-full pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-${c.text.split("-")[1]}-500 focus:border-transparent text-sm`})]}),u.jsxs("select",{value:f,onChange:v=>g(v.target.value),className:"px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[u.jsx("option",{value:"all",children:"Todas las urgencias"}),u.jsx("option",{value:"low",children:"Baja"}),u.jsx("option",{value:"medium",children:"Media"}),u.jsx("option",{value:"high",children:"Alta"}),u.jsx("option",{value:"critical",children:"Crítica"})]})]}),k==="cards"?u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:b.map(v=>{var C;return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:v.medication_name||"Medicamento no disponible"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:((C=v.hospitals)==null?void 0:C.name)||"Hospital no disponible"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${S[v.urgency]}`,children:j[v.urgency]}),v.urgency==="critical"&&u.jsx(Ls,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-500"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 text-xs sm:text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Cantidad Solicitada"}),u.jsxs("p",{className:"font-medium",children:[v.quantity_requested," unidades"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Dosificación"}),u.jsx("p",{className:"font-medium",children:v.dosage||"No especificada"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Fecha Necesaria"}),u.jsx("p",{className:"font-medium",children:new Date(v.date_needed).toLocaleDateString()})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Contacto"}),u.jsx("p",{className:"font-medium",children:v.contact_person})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Razón"}),u.jsx("p",{className:"text-xs sm:text-sm",children:v.reason})]})]}),u.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[u.jsx(Go,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),new Date(v.created_at).toLocaleDateString()]}),u.jsx("button",{onClick:()=>{var be,me;const A=v.medication_name||"medicamento",D=v.quantity?`${v.quantity} ${v.unit||""}`:"",Z=((be=v.hospitals)==null?void 0:be.name)||"su hospital",ye=typeof v.id=="string"&&v.id.slice?v.id.slice(0,8):String(v.id||""),ve=[`👋 Hola ${Z},`,`Sobre su solicitud de ${A}${D?` (${D})`:""}${ye?` [ref: ${ye}]`:""}.`,"","✔️ Disponibilidad: [indicar]","🚚 Entrega/Recogida: [indicar]","📍 Ubicación: [indicar]","☎️ Contacto: [indicar]","","¿Les funciona esta opción?"].join(`
`);Lm(ve),(me=v.hospitals)!=null&&me.id&&Im(String(v.hospitals.id)),e("mensajes")},className:"bg-teal-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-teal-700 transition-colors text-sm",children:"Responder"})]})]},v.id)})}):u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medicamento"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"Hospital"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Urgencia"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell",children:"Fecha Necesaria"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell",children:"Contacto"}),u.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(v=>{var C,A;return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-3 sm:px-6 py-4",children:u.jsxs("div",{children:[u.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate max-w-32 sm:max-w-none",children:v.medication_name||"Medicamento no disponible"}),u.jsx("div",{className:"text-xs text-gray-500 sm:hidden",children:((C=v.hospitals)==null?void 0:C.name)||"Hospital no disponible"}),u.jsx("div",{className:"text-xs text-gray-500 hidden sm:block",children:v.dosage||"No especificada"})]})}),u.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap hidden sm:table-cell",children:u.jsx("div",{className:"text-xs sm:text-sm text-gray-900",children:((A=v.hospitals)==null?void 0:A.name)||"Hospital no disponible"})}),u.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-xs sm:text-sm text-gray-900",children:v.quantity_requested})}),u.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:u.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${S[v.urgency]}`,children:[u.jsx("span",{className:"sm:hidden",children:j[v.urgency].charAt(0)}),u.jsx("span",{className:"hidden sm:inline",children:j[v.urgency]})]})}),u.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap hidden lg:table-cell",children:u.jsx("div",{className:"text-xs sm:text-sm text-gray-900",children:new Date(v.date_needed).toLocaleDateString()})}),u.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap hidden md:table-cell",children:u.jsx("div",{className:"text-xs sm:text-sm text-gray-900",children:v.contact_person})}),u.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-right text-xs sm:text-sm font-medium",children:u.jsxs("button",{onClick:()=>{var me,W;const D=v.medication_name||"medicamento",Z=v.quantity?`${v.quantity} ${v.unit||""}`:"",ye=((me=v.hospitals)==null?void 0:me.name)||"su hospital",ve=typeof v.id=="string"&&v.id.slice?v.id.slice(0,8):String(v.id||""),be=[`👋 Hola ${ye},`,`Sobre su solicitud de ${D}${Z?` (${Z})`:""}${ve?` [ref: ${ve}]`:""}.`,"","✔️ Disponibilidad: [indicar]","🚚 Entrega/Recogida: [indicar]","📍 Ubicación: [indicar]","☎️ Contacto: [indicar]","","¿Les funciona esta opción?"].join(`
`);Lm(be),(W=v.hospitals)!=null&&W.id&&Im(String(v.hospitals.id)),e("mensajes")},className:"bg-teal-600 text-white px-2 sm:px-3 py-1 rounded-md hover:bg-teal-700 transition-colors text-xs",children:[u.jsx("span",{className:"sm:hidden",children:"Resp."}),u.jsx("span",{className:"hidden sm:inline",children:"Responder"})]})})]},v.id)})})]})})}),x&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Nueva Solicitud de Medicamento"}),u.jsxs("form",{onSubmit:N,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Medicamento"}),u.jsx("input",{type:"text",value:m.medicationName,onChange:v=>p({...m,medicationName:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Amoxicilina",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Genérico"}),u.jsx("input",{type:"text",value:m.genericName,onChange:v=>p({...m,genericName:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Amoxicilina"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dosificación"}),u.jsx("input",{type:"text",value:m.dosage,onChange:v=>p({...m,dosage:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: 500mg"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cantidad Solicitada"}),u.jsx("input",{type:"number",value:m.quantity,onChange:v=>p({...m,quantity:parseInt(v.target.value)||0}),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: 100",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgencia"}),u.jsxs("select",{value:m.urgency,onChange:v=>p({...m,urgency:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"low",children:"Baja"}),u.jsx("option",{value:"medium",children:"Media"}),u.jsx("option",{value:"high",children:"Alta"}),u.jsx("option",{value:"critical",children:"Crítica"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha Necesaria"}),u.jsx("input",{type:"date",value:m.dateNeeded,onChange:v=>p({...m,dateNeeded:v.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Razón de la Solicitud"}),u.jsx("textarea",{rows:3,value:m.reason,onChange:v=>p({...m,reason:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describa la razón de la solicitud...",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Persona de Contacto"}),u.jsx("input",{type:"text",value:m.contactPerson,onChange:v=>p({...m,contactPerson:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Dr. Juan Pérez",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teléfono"}),u.jsx("input",{type:"tel",value:m.contactPhone,onChange:v=>p({...m,contactPhone:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: +52 55 1234 5678",required:!0})]})]}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),u.jsx("button",{type:"submit",className:`${c.primary} text-white px-6 py-2 rounded-lg ${c.hover} transition-colors`,children:"Enviar Solicitud"})]})]})]})})})]})},sT=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),o=async()=>{try{r(!0);const{data:l,error:c}=await q.from("medications").select("*").order("name");if(c)throw c;t(l||[])}catch(l){i(l instanceof Error?l.message:"Error fetching medications")}finally{r(!1)}};return _.useEffect(()=>{o()},[]),{medications:e,loading:n,error:s,createMedication:async l=>{try{const{data:c,error:d}=await q.from("medications").insert([l]).select().single();if(d)throw d;return await o(),{data:c,error:null}}catch(c){return{data:null,error:c instanceof Error?c.message:"Error creating medication"}}},refetch:o}},iT=({onNavigate:e})=>{const{user:t}=it(),{offers:n,loading:r,createOffer:s}=mv();sT();const{hospitals:i}=yt(),{requestPermission:o,refreshNotifications:a}=Na(),l=i.find(v=>v.user_id===(t==null?void 0:t.id)),c=tr(l==null?void 0:l.id),[d,h]=_.useState(""),[f,g]=_.useState("all"),[x,w]=_.useState(!1),[k,y]=_.useState("cards"),[m,p]=_.useState({medicationName:"",genericName:"",dosage:"",quantity:0,expirationDate:"",pricePerUnit:"",conditions:"",contactPerson:"",contactPhone:"",validUntil:"",requiresRefrigeration:!1,controlledSubstance:!1}),b=(v,C,A)=>{localStorage.setItem("contactHospital",JSON.stringify({hospitalId:v,hospitalName:C,subject:A,timestamp:Date.now()})),e("mensajes")},S=n.filter(v=>{var D,Z,ye,ve,be;const C=((Z=(D=v.medications)==null?void 0:D.name)==null?void 0:Z.toLowerCase().includes(d.toLowerCase()))||((ve=(ye=v.hospitals)==null?void 0:ye.name)==null?void 0:ve.toLowerCase().includes(d.toLowerCase())),A=f==="all"||((be=v.medications)==null?void 0:be.category)===f;return C&&A}),j={antibiotics:"Antibióticos",analgesics:"Analgésicos",cardiovascular:"Cardiovascular",respiratory:"Respiratorio",neurological:"Neurológico",endocrine:"Endocrino",oncology:"Oncología",other:"Otros"},N=async v=>{if(v.preventDefault(),!(!l||!t))try{const{error:C}=await s({hospital_id:l.id,medication_name:m.medicationName,generic_name:m.genericName,dosage:m.dosage,quantity_available:m.quantity,price_per_unit:m.pricePerUnit?parseFloat(m.pricePerUnit):null,expiration_date:m.expirationDate,conditions:m.conditions,contact_person:m.contactPerson,contact_phone:m.contactPhone,contact_email:t.email||"",valid_until:m.validUntil,requires_refrigeration:m.requiresRefrigeration,controlled_substance:m.controlledSubstance});C||(w(!1),p({medicationName:"",genericName:"",dosage:"",quantity:0,expirationDate:"",pricePerUnit:"",conditions:"",contactPerson:"",contactPhone:"",validUntil:"",requiresRefrigeration:!1,controlledSubstance:!1}),await o(),setTimeout(a,1e3))}catch(C){console.error("Error creating offer:",C)}};return r?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Insumos Disponibles"}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("div",{className:"hidden sm:flex items-center bg-gray-100 rounded-lg p-1",children:[u.jsx("button",{onClick:()=>y("cards"),className:`p-2 rounded-md transition-colors ${k==="cards"?`${c.primary} text-white`:"text-gray-600 hover:text-gray-900"}`,title:"Vista de tarjetas",children:u.jsx(Ey,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>y("table"),className:`p-2 rounded-md transition-colors ${k==="table"?`${c.primary} text-white`:"text-gray-600 hover:text-gray-900"}`,title:"Vista de tabla",children:u.jsx(Cy,{className:"w-4 h-4"})})]}),u.jsxs("button",{onClick:()=>w(!0),className:`${c.primary} text-white px-4 py-2 rounded-lg ${c.hover} transition-colors flex items-center space-x-2`,children:[u.jsx(va,{className:"w-4 h-4"}),u.jsx("span",{children:"Registrar Insumos"})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Qr,{className:"absolute left-2 sm:left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),u.jsx("input",{type:"text",placeholder:"Buscar medicamentos u hospitales...",value:d,onChange:v=>h(v.target.value),className:`w-full pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-${c.text.split("-")[1]}-500 focus:border-transparent text-sm`})]}),u.jsxs("select",{value:f,onChange:v=>g(v.target.value),className:"px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",children:[u.jsx("option",{value:"all",children:"Todas las categorías"}),Object.entries(j).map(([v,C])=>u.jsx("option",{value:v,children:C},v))]})]}),k==="cards"?u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:S.map(v=>{var C;return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:v.medication_name}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:((C=v.hospitals)==null?void 0:C.name)||"Hospital no disponible"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center space-y-1 sm:space-y-0 sm:space-x-2",children:[u.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-teal-100 text-teal-800 whitespace-nowrap",children:"Medicamento"}),u.jsx("div",{className:"flex items-center space-x-1",children:u.jsx(Is,{className:"w-3 h-3 sm:w-4 sm:h-4 text-teal-500",title:"Medicamento disponible"})})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 text-xs sm:text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Cantidad Disponible"}),u.jsxs("p",{className:"font-medium",children:[v.quantity_available," unidades"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Presentación"}),u.jsx("p",{className:"font-medium",children:"Unidad"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Fecha de caducidad"}),u.jsx("p",{className:"font-medium",children:new Date(v.expiration_date).toLocaleDateString()})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Precio"}),u.jsx("p",{className:"font-medium",children:v.price_per_unit?`$${v.price_per_unit} / unidad`:"Donación"})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Condiciones"}),u.jsx("p",{className:"text-xs sm:text-sm",children:v.conditions})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Contacto"}),u.jsx("p",{className:"text-xs sm:text-sm font-medium",children:v.contact_person})]})]}),u.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[u.jsx(Is,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),u.jsx("span",{className:"hidden sm:inline",children:"Válido hasta: "}),new Date(v.valid_until).toLocaleDateString()]}),u.jsx("button",{onClick:()=>{var A,D;return b((A=v.hospitals)==null?void 0:A.id,(D=v.hospitals)==null?void 0:D.name,`Oferta: ${v.medication_name}`)},className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Contactar"})]})]},v.id)})}):u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medicamento"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hospital"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Caducidad"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(v=>{var C;return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.medication_name}),u.jsx("div",{className:"text-sm text-gray-500",children:"Unidad"}),u.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[u.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-teal-100 text-teal-800",children:"Medicamento"}),u.jsx(Is,{className:"w-3 h-3 text-teal-500",title:"Medicamento disponible"})]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:((C=v.hospitals)==null?void 0:C.name)||"Hospital no disponible"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"text-sm text-gray-900",children:[v.quantity_available," unidades"]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:v.price_per_unit?`$${v.price_per_unit}`:"Donación"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:new Date(v.expiration_date).toLocaleDateString()})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:v.contact_person})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:u.jsx("button",{onClick:()=>{var A,D;return b((A=v.hospitals)==null?void 0:A.id,(D=v.hospitals)==null?void 0:D.name,`Oferta: ${v.medication_name}`)},className:"bg-blue-600 text-white px-3 py-1 rounded-md hover:bg-blue-700 transition-colors",children:"Contactar"})})]},v.id)})})]})})}),x&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Nueva Oferta de Medicamento"}),u.jsxs("form",{onSubmit:N,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Código del Medicamento"}),u.jsx("input",{type:"text",value:m.medicationName,onChange:v=>p({...m,medicationName:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Ej: 010.000.3609.00",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Medicamento"}),u.jsx("input",{type:"text",value:m.genericName,onChange:v=>p({...m,genericName:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Ej: Acetaminofén"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Presentación"}),u.jsx("input",{type:"text",value:m.dosage,onChange:v=>p({...m,dosage:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Ej: tableta"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cantidad Disponible"}),u.jsx("input",{type:"number",value:m.quantity,onChange:v=>p({...m,quantity:parseInt(v.target.value)||0}),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Ej: 100",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Caducidad"}),u.jsx("input",{type:"date",value:m.expirationDate,onChange:v=>p({...m,expirationDate:v.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio por Unidad (Opcional)"}),u.jsx("input",{type:"number",step:"0.01",value:m.pricePerUnit,onChange:v=>p({...m,pricePerUnit:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Ej: 0.50"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Condiciones de la Oferta"}),u.jsx("textarea",{rows:3,value:m.conditions,onChange:v=>p({...m,conditions:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Describa las condiciones del medicamento...",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Persona de Contacto"}),u.jsx("input",{type:"text",value:m.contactPerson,onChange:v=>p({...m,contactPerson:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Ej: Dr. Ana López",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teléfono"}),u.jsx("input",{type:"tel",value:m.contactPhone,onChange:v=>p({...m,contactPhone:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Ej: +52 55 1234 5678",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Válido Hasta"}),u.jsx("input",{type:"date",value:m.validUntil,onChange:v=>p({...m,validUntil:v.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),u.jsxs("div",{className:"flex items-center space-x-6",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:m.requiresRefrigeration,onChange:v=>p({...m,requiresRefrigeration:v.target.checked}),className:"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500"}),u.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Requiere refrigeración"})]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:m.controlledSubstance,onChange:v=>p({...m,controlledSubstance:v.target.checked}),className:"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500"}),u.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Sustancia controlada"})]})]}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),u.jsx("button",{type:"submit",className:`${c.primary} text-white px-6 py-2 rounded-lg ${c.hover} transition-colors`,children:"Publicar Oferta"})]})]})]})})})]})},oT=()=>{const{hospitals:e,loading:t}=yt(),[n,r]=_.useState(""),[s,i]=_.useState("all"),[o,a]=_.useState("all");if(t)return u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const l=e.filter(f=>{const g=f.name.toLowerCase().includes(n.toLowerCase())||f.city.toLowerCase().includes(n.toLowerCase()),x=s==="all"||f.type===s,w=o==="all"||f.state===o;return g&&x&&w}),c={public:"Público",private:"Privado",university:"Universitario"},d={public:"bg-blue-100 text-blue-800",private:"bg-green-100 text-green-800",university:"bg-purple-100 text-purple-800"},h=[...new Set(e.map(f=>f.state))];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Red Hospitalaria"}),u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[u.jsx(wd,{className:"w-4 h-4"}),u.jsxs("span",{children:[e.length," hospitales conectados"]})]})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:space-x-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Qr,{className:"absolute left-2 sm:left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),u.jsx("input",{type:"text",placeholder:"Buscar por nombre o ciudad...",value:n,onChange:f=>r(f.target.value),className:"w-full pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),u.jsxs("select",{value:s,onChange:f=>i(f.target.value),className:"px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[u.jsx("option",{value:"all",children:"Todos los tipos"}),Object.entries(c).map(([f,g])=>u.jsx("option",{value:f,children:g},f))]}),u.jsxs("select",{value:o,onChange:f=>a(f.target.value),className:"px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[u.jsx("option",{value:"all",children:"Todos los estados"}),h.map(f=>u.jsx("option",{value:f,children:f},f))]})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:l.map((f,g)=>{const x=X2(g);return u.jsxs("div",{className:`bg-white rounded-lg shadow-sm border-l-4 ${x.border} p-4 sm:p-6`,children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${x.primary}`}),u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:f.name})]}),u.jsxs("div",{className:"flex items-center mt-1",children:[u.jsx(AS,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500 mr-1"}),u.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:[f.city,", ",f.state]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${d[f.type]}`,children:c[f.type]}),f.verified&&u.jsx(TS,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500",title:"Hospital verificado"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(IS,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500 mr-2"}),u.jsxs("span",{className:"text-xs sm:text-sm text-gray-700",children:[u.jsx("strong",{children:"Director:"})," ",f.director]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(NS,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500 mr-2"}),u.jsxs("span",{className:"text-xs sm:text-sm text-gray-700",children:[u.jsx("strong",{children:"Camas:"})," ",f.beds]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs sm:text-sm text-gray-700 mb-2",children:u.jsx("strong",{children:"Especialidades:"})}),u.jsx("div",{className:"flex flex-wrap gap-1",children:f.specialties.map((w,k)=>u.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded-full",children:w},k))})]}),u.jsx("div",{className:"border-t pt-3",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between text-xs sm:text-sm space-y-1 sm:space-y-0",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(MS,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500 mr-1"}),u.jsx("span",{className:"text-gray-600",children:f.phone})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Py,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500 mr-1"}),u.jsx("span",{className:"text-gray-600",children:f.email})]})]})})]}),u.jsxs("div",{className:"mt-4 sm:mt-6 flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[u.jsx("button",{className:"flex-1 bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Contactar"}),u.jsx("button",{className:`flex-1 ${x.light} ${x.text} px-3 sm:px-4 py-2 rounded-lg ${x.hover} hover:text-white transition-colors text-sm`,children:"Ver Perfil"})]})]},f.id)})})]})},aT=e=>{const{user:t}=it(),{hospitals:n}=yt(),[r,s]=_.useState([]),[i,o]=_.useState(!0),[a,l]=_.useState(!1),[c,d]=_.useState(null),[h,f]=_.useState({}),g=p=>{s(b=>[...b,p])};_.useEffect(()=>{if(t&&n.length>0){const p=n.find(b=>b.user_id===t.id);d(p),o(!1)}},[t,n]);const x=_.useCallback(async p=>{if(!(!p||!(c!=null&&c.id))){l(!0);try{const{data:b,error:S}=await q.from("mensajes").select(`
            id,
            sender_hospital_id,
            recipient_hospital_id,
            content,
            messages_type,
            created_at,
            read_at,
            sender_hospital:sender_hospital_id ( name )
          `).or(`and(sender_hospital_id.eq.${c.id},recipient_hospital_id.eq.${p}),and(sender_hospital_id.eq.${p},recipient_hospital_id.eq.${c.id})`).order("created_at",{ascending:!0});if(S)throw S;s(b)}catch(b){console.error("Error fetching messages:",b)}finally{l(!1)}}},[c]);_.useEffect(()=>{if(!(c!=null&&c.id))return;const p=q.channel(`messages-realtime-${c.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"mensajes"},b=>{const S=b.new,j=S.recipient_hospital_id===c.id;!!e&&(S.sender_hospital_id===c.id&&S.recipient_hospital_id===e||S.recipient_hospital_id===c.id&&S.sender_hospital_id===e)?s(v=>v.some(C=>C.id===S.id)?v:[...v,S]):j&&s(v=>{if(v.some(A=>A.id===S.id))return v;const C=[...v,S];return setTimeout(()=>{s(A=>A.filter(D=>D.id!==S.id))},100),C})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"mensajes"},b=>{const S=b.old,j=b.new;!S.read_at&&j.read_at&&(s(v=>v.map(C=>C.id===j.id?{...C,read_at:j.read_at}:C)),j.recipient_hospital_id===c.id&&f(v=>{const C=j.sender_hospital_id;if(!(C in v))return v;const A=Math.max(0,v[C]-1),D={...v};return A===0?delete D[C]:D[C]=A,D}))}).subscribe();return()=>{q.removeChannel(p)}},[c==null?void 0:c.id,e]);const w=async p=>{const b=`temp-${Date.now()}`,S={id:b,sender_hospital_id:p.sender_hospital_id,recipient_hospital_id:p.recipient_hospital_id,content:p.content,messages_type:p.messages_type,created_at:new Date().toISOString(),read_at:null,sender_hospital:{name:(c==null?void 0:c.name)||"Tú"}};g(S);try{const{data:j,error:N}=await q.from("mensajes").insert({sender_hospital_id:p.sender_hospital_id,recipient_hospital_id:p.recipient_hospital_id,content:p.content,messages_type:p.messages_type}).select(`
          id,
          sender_hospital_id,
          recipient_hospital_id,
          content,
          messages_type,
          created_at,
          read_at,
          sender_hospital:sender_hospital_id ( name ),
          recipient_hospital:recipient_hospital_id ( name )
        `);if(N)throw N;return s(v=>v.map(C=>C.id===b?j[0]:C)),{data:j[0],error:null}}catch(j){return console.error("Error sending message:",j),{data:null,error:j}}},k=async()=>({id:"direct"}),y=_.useCallback(async p=>{if(!(c!=null&&c.id)||!p)return;const b=new Date().toISOString(),{error:S}=await q.from("mensajes").update({read_at:b}).eq("sender_hospital_id",p).eq("recipient_hospital_id",c.id).is("read_at",null);if(S){console.error("markAsRead error",S);return}s(j=>j.map(N=>N.sender_hospital_id===p&&N.recipient_hospital_id===c.id&&N.read_at===null?{...N,read_at:b}:N)),f(j=>{const N={...j};return delete N[p],N}),m()},[c==null?void 0:c.id]),m=_.useCallback(async()=>{if(!(c!=null&&c.id))return;const{data:p,error:b}=await q.from("mensajes").select("sender_hospital_id").eq("recipient_hospital_id",c.id).is("read_at",null);if(b){console.error("Error fetching unread counts:",b);return}const S={};for(const j of p||[]){const N=j.sender_hospital_id;S[N]=(S[N]||0)+1}f(S)},[c==null?void 0:c.id]);return _.useEffect(()=>{m()},[c==null?void 0:c.id,r,m]),{messages:r,conversations:[],loading:i,messagesLoading:a,sendMessage:w,markAsRead:y,createConversation:k,fetchMessages:x,fetchConversations:()=>{},currentHospital:c,unreadCountMap:h}},lT=()=>{var Rd;const{user:e}=it(),{hospitals:t}=yt(),[n,r]=_.useState(null);_.useState(null);const[s,i]=_.useState([]),[o,a]=_.useState(null),l=_.useRef(!1),[c,d]=_.useState(!1);_.useEffect(()=>{const T=()=>d(window.innerWidth<1024);return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]);const h=(t||[]).filter(T=>T.user_id!==(e==null?void 0:e.id)),{messages:f,loading:g,messagesLoading:x,sendMessage:w,markAsRead:k,fetchMessages:y,currentHospital:m}=aT(n);_.useState({});const[p,b]=_.useState({}),[S,j]=_.useState({}),[N,v]=_.useState({});_.useEffect(()=>{const T=()=>{try{const R=localStorage.getItem("lastMessages");v(R?JSON.parse(R):{})}catch{v({})}};return T(),window.addEventListener("lastMessagesUpdated",T),()=>window.removeEventListener("lastMessagesUpdated",T)},[]),_.useEffect(()=>{const T=()=>{try{const R=localStorage.getItem("conversationOrder");R&&i(JSON.parse(R))}catch{console.error("Error parsing saved conversation order")}};return T(),window.addEventListener("conversationOrderUpdated",T),()=>{window.removeEventListener("conversationOrderUpdated",T)}},[]),_.useEffect(()=>{const T=()=>{if(document.visibilityState==="visible"){const R=JSON.parse(localStorage.getItem("conversationOrder")||"[]");i(R)}};return document.addEventListener("visibilitychange",T),()=>{document.removeEventListener("visibilitychange",T)}},[]),_.useEffect(()=>{const T=()=>{const R=JSON.parse(localStorage.getItem("conversationOrder")||"[]");i(R)};return window.addEventListener("conversationOrderUpdated",T),()=>{window.removeEventListener("conversationOrderUpdated",T)}},[]),_.useEffect(()=>{const T=JSON.parse(localStorage.getItem("conversationOrder")||"[]");i(T)},[]),_.useEffect(()=>{const T=JSON.parse(localStorage.getItem("conversationOrder")||"[]");i(T)},[]),_.useEffect(()=>{if(!m||f.length===0)return;const T=f[f.length-1];if(!T||T.id===o)return;const R=T.sender_hospital_id===m.id?T.recipient_hospital_id:T.sender_hospital_id;v(G=>{const H={...G,[R]:{text:T.content,timestamp:T.created_at}};return localStorage.setItem("lastMessages",JSON.stringify(H)),window.dispatchEvent(new Event("lastMessagesUpdated")),H}),R!==n&&T.sender_hospital_id!==m.id&&(a(T.id),b(G=>({...G,[R]:!0})),i(G=>{const H=[R,...G.filter(It=>It!==R)];return localStorage.setItem("conversationOrder",JSON.stringify(H)),H}))},[f,n,m,o]);const C=tr(m==null?void 0:m.id),[A,D]=_.useState(""),Z=_.useRef(null),ye=_.useRef(null),ve=()=>{const T=Z.current;if(!T)return;const R=184;T.style.height="auto";const G=Math.min(T.scrollHeight,R);T.style.height=`${G}px`,T.style.overflowY=T.scrollHeight>R?"auto":"hidden"};_.useEffect(()=>{ve()},[A]),_.useEffect(()=>{var T,R;if(n){try{(T=Z.current)==null||T.focus({preventScroll:!0})}catch{(R=Z.current)==null||R.focus()}ve()}},[n]),_.useEffect(()=>{const T=tT();T&&(D(T),requestAnimationFrame(()=>ve()));const R=nT();R&&(r(R),typeof y=="function"&&y(R))},[]);const[be,me]=_.useState(""),[W,E]=_.useState(!1),[I,$]=_.useState(!1),Y=_.useRef(null),[ne,le]=_.useState([]),[ce,ot]=_.useState(!1),[ie,X]=_.useState({medicationName:"",quantity:0,recipientHospitalId:""}),ts=()=>{var T;(T=Y.current)==null||T.scrollIntoView({behavior:"auto"})};_.useEffect(()=>{!n||f.length===0||ts()},[f,n]),_.useEffect(()=>{if(!n)return;(async()=>{await k(n),window.location.hash=n,l.current=!1,await y(n);try{const G=localStorage.getItem("unreadCountMap")||"{}",H=JSON.parse(G);H[n]&&(H[n]=0,localStorage.setItem("unreadCountMap",JSON.stringify(H)),window.dispatchEvent(new Event("unreadMessagesUpdated")))}catch{}const R=JSON.parse(localStorage.getItem("conversationOrder")||"[]");i(R)})()},[n]),_.useEffect(()=>{const T=localStorage.getItem("contactHospital");if(!(!T||!m))try{const{hospitalId:R,subject:G}=JSON.parse(T);if(R&&G){r(R),typeof y=="function"&&y(R);const H=["👋 Hola,",`Sobre: ${G}.`,"","✔️ Disponibilidad: [indicar]","🚚 Entrega/Recogida: [indicar]","📍 Ubicación: [indicar]","☎️ Contacto: [indicar]","","¿Les funciona esta opción?"].join(`
`);D(H),localStorage.removeItem("contactHospital")}}catch(R){console.error("Error parsing contact info:",R)}},[m]);const Cn=h.filter(T=>T.name.toLowerCase().includes(be.toLowerCase())).sort((T,R)=>{const G=s.indexOf(T.id),H=s.indexOf(R.id);return G===-1&&H===-1?0:G===-1?1:H===-1?-1:G-H}),nr=_.useCallback(async T=>{if(T.preventDefault(),!(!A.trim()||!n||!m||W||I)){E(!0),$(!0);try{const R=A.trim();D(""),setTimeout(ts,50);const{error:G}=await w({sender_hospital_id:m.id,recipient_hospital_id:n,content:R,messages_type:"text"});if(!G&&n){const H=new Date().toISOString();v(It=>{const Md={...It,[n]:{text:R,timestamp:H}};return localStorage.setItem("lastMessages",JSON.stringify(Md)),window.dispatchEvent(new Event("lastMessagesUpdated")),Md})}}catch(R){console.error("Error sending message:",R)}finally{E(!1),$(!1)}}},[A,n,m,w,W,I,y]),ns=_.useCallback(()=>{ot(!0),X({...ie,recipientHospitalId:n||""})},[n,ie]),rr=_.useCallback(async T=>{if(T.preventDefault(),!m||!n||!ie.medicationName||!ie.quantity)return;const R={id:`transfer-${Date.now()}`,fromHospitalId:m.id,toHospitalId:n,medicationName:ie.medicationName,quantity:ie.quantity,status:"pending",agreedByFrom:!0,agreedByTo:!1,createdAt:new Date().toISOString()};le(H=>[...H,R]);const G=`🔄 PROPUESTA DE TRANSFERENCIA

Medicamento: ${ie.medicationName}
Cantidad: ${ie.quantity} unidades

¿Estás de acuerdo con esta transferencia? Responde "ACEPTO" para confirmar.`;await w({sender_hospital_id:m.id,recipient_hospital_id:n,content:G,messages_type:"text"}),ot(!1),X({medicationName:"",quantity:0,recipientHospitalId:""})},[m,n,ie,w]),pv=_.useCallback(async T=>{le(R=>R.map(G=>G.id===T?{...G,agreedByTo:!0,status:"agreed"}:G)),m&&n&&await w({sender_hospital_id:m.id,recipient_hospital_id:n,content:"✅ ACEPTO la transferencia propuesta. La transferencia está ahora confirmada y puede proceder.",messages_type:"text"})},[m,n,w]),Ed=ne.filter(T=>T.toHospitalId===(m==null?void 0:m.id)&&T.fromHospitalId===n&&!T.agreedByTo),Ta=ne.filter(T=>(T.fromHospitalId===(m==null?void 0:m.id)||T.toHospitalId===(m==null?void 0:m.id))&&(T.fromHospitalId===n||T.toHospitalId===n)&&T.agreedByFrom&&T.agreedByTo),Cd=T=>{const R=new Date(T);return(new Date().getTime()-R.getTime())/(1e3*60*60)<24?R.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):R.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})},gv=_.useCallback(T=>{var R;return n===T&&f.length>0?f[f.length-1].created_at:((R=N[T])==null?void 0:R.timestamp)||null},[n,f,N]),Pd=T=>T.split(" ").map(R=>R.charAt(0)).join("").substring(0,2).toUpperCase();if(g)return u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const Ad={};return f.slice().reverse().forEach(T=>{const R=T.sender_hospital_id===(m==null?void 0:m.id)?T.recipient_hospital_id:T.sender_hospital_id;Ad[R]||(Ad[R]=T.content)}),u.jsxs("div",{className:"h-[calc(100dvh-10rem)] sm:h-[calc(100dvh-12rem)] lg:h-[calc(100dvh-8rem)] flex flex-col lg:flex-row bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden overscroll-contain",children:[u.jsxs("div",{className:`flex flex-col ${c&&n?"hidden":"flex"} w-full lg:w-1/3`,children:[u.jsxs("div",{className:`p-3 sm:p-4 bg-gradient-to-r ${C.gradient} text-white lg:rounded-none`,children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("h2",{className:"text-base sm:text-lg font-bold flex items-center lg:flex",children:[u.jsx(xs,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),u.jsx("span",{className:"hidden sm:inline lg:inline",children:"Red Hospitalaria"}),u.jsx("span",{className:"sm:hidden lg:hidden",children:"Chats"})]})}),u.jsxs("div",{className:"relative hidden lg:block",children:[u.jsx(Qr,{className:"absolute left-2 sm:left-3 top-1/2 transform -translate-y-1/2 text-white/70 w-4 h-4"}),u.jsx("input",{type:"text",placeholder:"Buscar hospitales...",value:be,onChange:T=>me(T.target.value),className:"w-full pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-white/70 focus:bg-white/30 focus:outline-none text-sm"})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-wa bg-white",children:Cn.length===0?u.jsxs("div",{className:"p-4 sm:p-6 text-center text-gray-500",children:[u.jsx(xs,{className:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 text-gray-300"}),u.jsx("p",{className:"font-medium",children:"No hay hospitales"}),u.jsx("p",{className:"text-xs sm:text-sm mt-1",children:"No se encontraron hospitales en la red"})]}):u.jsx("div",{className:"divide-y divide-gray-100 lg:divide-gray-200",children:Cn.map(T=>{var G;const R=n===T.id;return u.jsx("div",{onClick:()=>{r(T.id),b(H=>({...H,[T.id]:!1})),j(H=>({...H,[T.id]:0}));try{const H=localStorage.getItem("unreadCountMap")||"{}",It=JSON.parse(H);It[T.id]=0,localStorage.setItem("unreadCountMap",JSON.stringify(It)),window.dispatchEvent(new Event("unreadMessagesUpdated"))}catch{}},className:`p-3 sm:p-4 cursor-pointer transition-colors border-l-4 ${R?`${C.light} ${C.text} ${C.border}`:"hover:bg-gray-50 border-transparent"}`,children:u.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[u.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full overflow-hidden bg-white shadow-md flex items-center justify-center",children:u.jsx("img",{src:`/logos/${T.id}.png`,alt:T.name,className:"w-full h-full object-contain",onError:H=>{const It=H.currentTarget.closest("div");It&&(It.innerHTML=`<div class='w-full h-full flex items-center justify-center text-white font-bold text-sm ${C.primary}'>${Pd(T.name)}</div>`)}})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 truncate",children:T.name}),u.jsx("p",{className:"text-xs text-gray-600 truncate mt-0.5 font-medium",children:((G=N[T.id])==null?void 0:G.text)||"Sin mensajes"}),u.jsxs("p",{className:"text-xs text-gray-400 mt-1 hidden lg:block",children:[T.city,", ",T.state]})]}),u.jsxs("div",{className:"ml-2 flex flex-col items-end justify-start min-w-[52px]",children:[u.jsx("span",{className:"text-[11px] leading-none text-gray-400",children:(()=>{const H=gv(T.id);return H?Cd(H):""})()}),S[T.id]>0&&u.jsx("span",{className:`mt-2 min-w-[20px] h-5 px-1.5 rounded-full text-[10px] leading-5 text-center font-bold text-white ${C.primary}`,title:`${S[T.id]} mensaje(s) sin leer`,children:S[T.id]>99?"99+":S[T.id]})]})]}),u.jsx("div",{className:"flex items-center justify-between mt-2 lg:hidden",children:u.jsx("div",{className:"flex items-center text-xs text-gray-500",children:u.jsx("span",{children:T.city})})})]})]})},T.id)})})})]}),u.jsx("div",{className:`flex-1 flex flex-col min-h-0 ${c&&!n?"hidden":"flex"}`,children:n?u.jsxs(u.Fragment,{children:[(()=>{const T=h.find(R=>R.id===n);return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-200 bg-gray-50",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[c&&u.jsx("button",{onClick:()=>r(null),className:"text-blue-600 text-sm font-medium mr-2 hover:underline",children:"← Atrás"}),u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[u.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center text-white font-bold text-xs sm:text-sm ${C.primary}`,children:Pd((T==null?void 0:T.name)||"Hospital")}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:(T==null?void 0:T.name)||"Hospital"}),u.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[T==null?void 0:T.city,", ",T==null?void 0:T.state]})]})]}),u.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[Ta.length>0&&u.jsxs("div",{className:"flex items-center space-x-1 px-2 sm:px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs sm:text-sm",children:[u.jsx(ml,{className:"w-3 h-3 sm:w-4 sm:h-4"}),u.jsxs("span",{className:"hidden sm:inline",children:[Ta.length," transferencia(s) activa(s)"]}),u.jsx("span",{className:"sm:hidden",children:Ta.length})]}),u.jsxs("button",{onClick:ns,className:`px-2 sm:px-3 py-1 bg-gradient-to-r ${C.gradient} text-white rounded-lg hover:opacity-90 transition-all text-xs sm:text-sm flex items-center space-x-1`,children:[u.jsx(xd,{className:"w-3 h-3 sm:w-4 sm:h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Proponer Transferencia"}),u.jsx("span",{className:"sm:hidden",children:"Transfer"})]})]})]}),Ed.length>0&&u.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[u.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Transferencias Pendientes de Aprobación:"}),Ed.map(R=>u.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:R.medicationName}),u.jsxs("p",{className:"text-xs text-gray-600",children:[R.quantity," unidades"]})]}),u.jsx("button",{onClick:()=>pv(R.id),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors",children:"Aceptar"})]},R.id))]})]})})})(),u.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-wa p-2 sm:p-4 space-y-2 sm:space-y-4 bg-gray-50 lg:bg-white",style:{minHeight:0,backgroundImage:'url("data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23f0f0f0" fill-opacity="0.1"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")'},children:[x?u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-blue-600"})}):f.length===0?u.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:u.jsxs("div",{className:"text-center",children:[u.jsx(xs,{className:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-3 text-gray-300"}),u.jsx("p",{className:"font-medium",children:"No hay mensajes"}),u.jsx("p",{className:"text-xs sm:text-sm mt-1",children:"Envía el primer mensaje para comenzar la conversación"})]})}):f.map(T=>{var H;const R=T.sender_hospital_id===(m==null?void 0:m.id),G=T.id.startsWith("temp-");return u.jsx("div",{className:`flex ${R?"justify-end":"justify-start"} px-1 sm:px-0 animate-fadeIn`,children:u.jsxs("div",{className:`max-w-xs sm:max-w-sm lg:max-w-md px-3 sm:px-4 py-2 shadow-sm transition-opacity ${R?`bg-gradient-to-r ${C.gradient} text-white rounded-tl-2xl rounded-tr-2xl rounded-bl-2xl rounded-br-md`:"bg-white text-gray-900 border border-gray-200 rounded-tl-md rounded-tr-2xl rounded-bl-2xl rounded-br-2xl"} ${G?"opacity-70":"opacity-100"}`,children:[!R&&u.jsx("p",{className:"text-xs font-medium mb-1 opacity-70 hidden lg:block",children:((H=T.sender_hospital)==null?void 0:H.name)||"Hospital"}),u.jsx("p",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed",children:T.content}),u.jsxs("div",{className:`flex items-center justify-end mt-1 space-x-1 ${R?"text-white/70":"text-gray-500"}`,children:[u.jsx("span",{className:"text-xs",children:Cd(T.created_at)}),R&&G&&u.jsx("div",{className:"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin",title:"Enviando..."}),R&&!G&&(T.read_at?u.jsx(ml,{className:"w-3 h-3 text-blue-400",title:"Leído"}):u.jsx(ml,{className:"w-3 h-3 text-gray-300",title:"Entregado"}))]})]})},T.id)}),u.jsx("div",{ref:Y})]}),u.jsx("form",{ref:ye,onSubmit:nr,className:"p-2 sm:p-3 border-t border-gray-200 bg-gray-50",children:u.jsxs("div",{className:"flex items-end space-x-2 sm:space-x-3",children:[u.jsx("div",{className:"flex-1 flex items-center bg-gray-100 border border-gray-200 rounded-3xl px-3 sm:px-4 py-2",children:u.jsx("textarea",{ref:Z,value:A,onChange:T=>D(T.target.value),rows:1,placeholder:"Escribe un mensaje",className:"w-full bg-transparent text-sm sm:text-base leading-5 outline-none resize-none max-h-44 min-h-[36px] placeholder-gray-400 text-gray-900 whitespace-pre-wrap scrollbar-wa",onKeyDown:T=>{var R;T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),(R=ye.current)==null||R.requestSubmit())}})}),u.jsx("button",{type:"submit",disabled:!A.trim()||W||I,className:`w-12 h-12 bg-gradient-to-r ${C.gradient} text-white rounded-full hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg`,children:W||I?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsx(OS,{className:"w-5 h-5"})})]})})]}):u.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500 bg-gray-50 lg:bg-white",children:u.jsxs("div",{className:"text-center",children:[u.jsx(xs,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecciona un hospital"}),u.jsx("p",{className:"text-sm mb-4",children:"Elige un hospital de la red para comenzar a chatear"})]})})}),ce&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"bg-white rounded-lg max-w-md w-full",children:u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Proponer Transferencia"}),u.jsxs("p",{className:"text-gray-600 mb-6",children:["Propón una transferencia de medicamento a ",(Rd=h.find(T=>T.id===n))==null?void 0:Rd.name]}),u.jsxs("form",{onSubmit:rr,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medicamento"}),u.jsx("input",{type:"text",value:ie.medicationName,onChange:T=>X({...ie,medicationName:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nombre del medicamento",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cantidad"}),u.jsx("input",{type:"number",value:ie.quantity,onChange:T=>X({...ie,quantity:parseInt(T.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Cantidad a transferir",min:"1",required:!0})]}),u.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[u.jsx("button",{type:"button",onClick:()=>ot(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),u.jsx("button",{type:"submit",className:`px-6 py-2 bg-gradient-to-r ${C.gradient} text-white rounded-lg hover:opacity-90 transition-all`,children:"Proponer Transferencia"})]})]})]})})})]})};let Wt=null;function Td(){Wt||(Wt=new Audio("/sounds/new-message.mp3"),Wt.preload="auto",Wt.volume=.7)}function cT(){if(Td(),!Wt)return;const e=Wt,t=e.muted;e.muted=!0,e.currentTime=0,e.play().then(()=>{e.pause(),e.muted=t}).catch(()=>{})}function uT(){Td(),Wt&&(Wt.currentTime=0,Wt.play().catch(()=>{}))}function dT(e=[60,30,60]){"vibrate"in navigator&&navigator.vibrate(e)}function hT(){uT(),dT([60,30,60])}const fT=()=>{const{user:e}=it(),{hospitals:t}=yt(),n=_.useMemo(()=>!e||t.length===0?null:t.find(r=>r.user_id===e.id)||null,[e,t]);return _.useEffect(()=>{if(!n)return;console.log("✅ MessageListener activo para:",n.name);const r=i=>{const o=i.new;if(!(o.recipient_hospital_id===n.id))return;hT();const l=o.sender_hospital_id,c=JSON.parse(localStorage.getItem("lastMessages")||"{}");c[l]={text:o.content,timestamp:o.created_at},localStorage.setItem("lastMessages",JSON.stringify(c)),window.dispatchEvent(new Event("lastMessagesUpdated")),console.log("📩 Mensaje entrante recibido de:",l);const d=JSON.parse(localStorage.getItem("conversationOrder")||"[]"),h=[l,...d.filter(g=>g!==l)];localStorage.setItem("conversationOrder",JSON.stringify(h)),window.dispatchEvent(new Event("conversationOrderUpdated"));const f=JSON.parse(localStorage.getItem("unreadCountMap")||"{}");if(f[l]=(f[l]||0)+1,localStorage.setItem("unreadCountMap",JSON.stringify(f)),window.dispatchEvent(new Event("unreadMessagesUpdated")),document.visibilityState==="visible"){const g=document.createElement("div");g.innerText="📩 Nuevo mensaje recibido",g.style.cssText=`
          position: fixed;
          bottom: 20px;
          right: 20px;
          background: white;
          color: black;
          padding: 10px 16px;
          border-radius: 10px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          z-index: 9999;
          font-family: sans-serif;
          font-size: 14px;
        `,document.body.appendChild(g),setTimeout(()=>{document.body.removeChild(g)},4e3)}"Notification"in window&&Notification.permission==="granted"&&new Notification("📩 Nuevo mensaje recibido",{body:"Has recibido un nuevo mensaje de otro hospital.",icon:"/logo.png"})},s=q.channel("global-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"mensajes",filter:`recipient_hospital_id=eq.${n.id}`},r).subscribe();return()=>{q.removeChannel(s)}},[n]),null};function mT(){const{user:e,loading:t}=it();yt();const[n,r]=_.useState("dashboard"),[s,i]=_.useState(1),[o,a]=_.useState(!1),l=["dashboard","hospitales","solicitudes","insumos-disponibles","mensajes"],c=k=>{const y=l.indexOf(n),m=l.indexOf(k);y!==-1&&m!==-1&&i(m>y?1:-1),r(k)},d=()=>{const k=l.indexOf(n);k!==-1&&k<l.length-1&&(i(1),c(l[k+1]))},h=()=>{const k=l.indexOf(n);k!==-1&&k>0&&(i(-1),c(l[k-1]))},f=typeof window<"u"?window.matchMedia("(max-width: 640px)").matches:!1,g=Ww({onSwipeLeft:d,onSwipeRight:h,minDistance:48,enabled:f});_.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(y=>{console.log("🔔 Permiso de notificaciones:",y)}),Td();const k=()=>cT();return window.addEventListener("click",k,{once:!0}),window.addEventListener("touchstart",k,{once:!0}),()=>{window.removeEventListener("click",k),window.removeEventListener("touchstart",k)}},[]);const x=()=>{a(!0),setTimeout(()=>{const k=document.getElementById("auth-form-section");k&&k.scrollIntoView({behavior:"smooth",block:"start"})},100)};if(t)return u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})});if(!e)return u.jsxs("div",{className:"min-h-screen",children:[u.jsx(Mj,{onLoginClick:x}),o&&u.jsx("div",{id:"auth-form-section",className:"min-h-screen bg-gray-50 py-12",children:u.jsx(J2,{onSuccess:()=>a(!1)})})]});const w=()=>{switch(n){case"dashboard":return u.jsx(Om,{onNavigate:c});case"hospitales":return u.jsx(oT,{});case"solicitudes":return u.jsx(rT,{onNavigate:c});case"insumos-disponibles":return u.jsx(iT,{onNavigate:c});case"transferencias":return u.jsxs("div",{className:"text-center py-12",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Transferencias"}),u.jsx("p",{className:"text-gray-600",children:"Las transferencias se gestionan a través del sistema de mensajería cuando ambos hospitales están de acuerdo"})]});case"mensajes":return u.jsx(lT,{});default:return u.jsx(Om,{onNavigate:c})}};return u.jsxs("div",{className:"min-h-screen bg-gray-50 pt-14 sm:pt-16 pb-20 lg:pb-0",children:[u.jsx(Y2,{}),u.jsx(eT,{activeTab:n,setActiveTab:c}),u.jsx(fT,{})," ",u.jsx("main",{className:"lg:ml-64 px-4 sm:px-6 lg:px-8 py-4 sm:py-8 pb-4 lg:pb-8 touch-pan-y overflow-hidden",...g,children:u.jsx("div",{className:"relative min-h-[60vh]",children:u.jsx(Wb,{mode:"wait",custom:s,initial:!1,children:u.jsx(Ty.div,{custom:s,initial:"enter",animate:"center",exit:"exit",variants:{enter:k=>({x:k===1?"100%":"-100%",position:"absolute",inset:0}),center:{x:"0%",position:"relative"},exit:k=>({x:k===1?"-100%":"100%",position:"absolute",inset:0})},transition:{type:"spring",stiffness:380,damping:34,mass:.22},className:"w-full",children:w()},n)})})})]})}Jg(document.getElementById("root")).render(u.jsx(_.StrictMode,{children:u.jsx(mT,{})}));
